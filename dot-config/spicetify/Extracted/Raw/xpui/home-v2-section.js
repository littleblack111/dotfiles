"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1621],{89737:(e,t,a)=>{a.d(t,{u:()=>j});var s=a(30758),n=a(97500),i=a.n(n),o=a(75134),r=a(10502),c=a(57478),l=a(43560),d=a(98305);const m="B3NcOBJt_x6GdEDzdMX4",u="cwkCVR8XspK0RXEmmHqW",h="CFjzd1Z8fj7reHf6vhG8",g="oQ4jLC_wmDT4a46KRq9P";var x=a(86070);const p=(0,s.memo)((({isLoading:e})=>{const t=(0,c.h)("shimmer");return(0,x.jsx)("div",{ref:t,className:i()(d.A.imageWrapper,{[g]:e})})})),j=(0,s.memo)((({cardImage:e,isLoading:t,variant:a})=>(0,x.jsxs)("div",{className:i()(l.A.card,m),"aria-hidden":!0,"data-testid":"skeleton-card",children:[(0,x.jsx)("div",{className:i()(l.A.imageContainer,l.A.imageContainerSkeleton),children:e||(0,x.jsx)(p,{isLoading:t})}),(0,x.jsxs)("div",{className:l.A.cardMetadata,children:[(0,x.jsx)(r.Y,{as:"div",variant:"bodyMediumBold",className:u,charCount:15,isLoading:t}),a!==o._.Compact&&(0,x.jsx)(r.Y,{as:"div",variant:"bodySmall",className:h,charCount:10,isLoading:t})]})]})))},84779:(e,t,a)=>{a.d(t,{w:()=>C});var s=a(31417),n=a(75134),i=a(43743),o=a(38996),r=a(89994),c=a(81288),l=a(65462),d=a(54622),m=a(80737),u=a(14563),h=a(33593),g=a(76008),x=a(99041),p=a(18663),j=a(15838);const S="UHjdTucjadSs9x3SjoAp",f="iHomw25Q7DDHLVQxfgNW";var v=a(86070);const C=({name:e,uri:t,images:a,album:C,artists:y,isExplicit:I,is19PlusOnly:H,isHero:N=!1,onClick:_,testId:b,index:A,requestId:w,isLyricsMatch:D,color:k,hasAssociatedVideo:M,variant:L,logCardImpressions:O=!1})=>{let R;const{badges:E,hasBadges:P}=(0,j.b)({isExplicit:I,isMOGEFRestricted:H,hasAssociatedVideo:M});return R=N?(0,v.jsx)(r.A,{index:A,onClick:_,headerText:e,featureIdentifier:"track",uri:t,albumURI:C?.uri,renderCardImage:()=>(0,v.jsx)(i.M,{isHero:!0,images:a,color:k}),renderSubHeaderContent:()=>(0,v.jsxs)(o.c,{isHero:!0,children:[P&&(0,v.jsxs)(u.P,{children:[E.explicit&&(0,v.jsx)(x.U,{}),E.nineteen&&(0,v.jsx)(p.q,{className:S,size:16}),E.hasAssociatedVideo&&(0,v.jsx)(h.l,{})]}),(0,v.jsx)(c.t,{children:s.Ru.get("card.tag.track")}),(0,v.jsx)(m.l,{artists:y,className:f}),D&&(0,v.jsx)(g.G,{})]}),testId:b,requestId:w,logCardImpressions:O}):(0,v.jsx)(n.Z,{variant:L,index:A,onClick:_,headerText:e,featureIdentifier:"track",uri:t,albumURI:C?.uri,renderCardImage:()=>(0,v.jsx)(i.M,{images:a,color:k}),renderSubHeaderContent:()=>(0,v.jsxs)(o.c,{children:[I&&!H&&(0,v.jsx)(x.U,{className:S}),H&&(0,v.jsx)(p.q,{size:16,className:S}),(0,v.jsx)(m.l,{artists:y,className:f}),D&&(0,v.jsx)(g.G,{})]}),testId:b,requestId:w,logCardImpressions:O}),(0,v.jsx)(l.h,{menu:(0,v.jsx)(d.P,{uri:t,artists:y,albumUri:C?.uri}),children:R})}},10502:(e,t,a)=>{a.d(t,{Y:()=>d});var s=a(97500),n=a.n(s),i=a(422),o=a(57478);const r="dxnMpEuxRQ5Ml60ftDcz",c="jFPYamKaGvZv7JA45KCu";var l=a(86070);const d=({as:e,variant:t,className:a,charCount:s,isLoading:d})=>{const m=(0,o.h)("shimmer");return(0,l.jsx)(i.E,{ref:m,as:e,variant:t,className:n()(r,a,{[c]:d}),style:{width:s?`${s}ch`:void 0},tabIndex:-1,"aria-hidden":!0})}},80737:(e,t,a)=>{a.d(t,{l:()=>d});var s=a(30758),n=a(422),i=a(31417),o=a(99701),r=a(83044),c=a(33329),l=a(86070);const d=({artists:e,spec:t,className:a})=>{const d=(0,c.s)(),m=(0,s.useCallback)(((e,a)=>{t&&d.logInteraction(t.artistLinkFactory({position:a??0,uri:e}).hitUiNavigate({destination:e}))}),[d,t]);if(!e||0===e.length)return null;const u=e.map((({name:e})=>e)).join(i.Ru.getSeparator());return(0,l.jsx)(o.Zp,{label:u,showDelay:o.uF,children:(0,l.jsx)(n.E,{as:"span",variant:"bodySmall",className:a,children:e.map((({uri:e,name:t},a)=>(0,l.jsxs)(s.Fragment,{children:[a>0&&i.Ru.getSeparator(),(0,l.jsx)(r.y,{name:t,uri:e,onClick:m,index:a,children:t},e)]},e)))})})}},14563:(e,t,a)=>{a.d(t,{P:()=>o});var s=a(422),n=a(14178),i=a(86070);const o=({children:e})=>e?(0,i.jsx)(s.E,{variant:"bodyMedium",className:n.A.rowBadges,semanticColor:"textSubdued",children:e}):null},25512:(e,t,a)=>{a.r(t),a.d(t,{HomeV2FullPageSection:()=>F,SKELETON_CARDS_COUNT:()=>G,default:()=>V});var s=a(30758),n=a(5993),i=a(97500),o=a.n(i),r=a(14343),c=a(31417),l=a(15292),d=a(92202),m=a(11472),u=a(96216),h=a(90124),g=a(6772),x=a(33712),p=a(81035),j=a(86070);const S=({section:e})=>(0,j.jsx)(x.p,{id:e.uri,title:e.data.title?.transformedLabel??"",showAll:!0,index:0,rowGap:g.lT,fullPage:!0,children:e.sectionItems.items.map(p.Gx)});var f=a(22530),v=a(80368),C=a(20489),y=a(42795);const I=({section:e})=>(0,j.jsx)(C.x,{config:(0,y.s1)(y.yV.HOME_LOW_DENSITY),children:(0,j.jsx)(x.p,{id:e.uri,title:e.data.title?.transformedLabel??"",showAll:!0,index:0,rowGap:(0,f.po)("looser"),fullPage:!0,children:e.sectionItems.items.map(v.G)})});var H=a(25408);const N=({section:e})=>(0,j.jsx)(C.x,{config:(0,y.s1)(y.yV.MUSIC_VIDEOS),children:(0,j.jsx)(x.p,{id:e.uri,title:c.Ru.get("music_videos"),showAll:!0,index:0,rowGap:(0,f.po)("looser"),fullPage:!0,children:e.sectionItems.items.map(((e,t)=>{if("TrackResponseWrapper"!==e.content.__typename||"Track"!==e.content.data.__typename)return null;const a=e.content.data;return(0,j.jsx)(H.O,{title:a.name,trackUri:a.uri,artists:a.artists.items,album:a.albumOfTrack,contentRating:a.contentRating,referrerIdentifier:"other",index:t},a.uri)}))})});var _=a(38501),b=a(85907);const A=({section:e})=>{const t=(0,r.NC)(_.hWV);switch("spotify:section:0JQ5DAnM3wGh0gz1MXnu3K"===e.uri&&t&&e.data&&(e.data.__typename="HomeGridSectionData"),e.data?.__typename){case"HomeGenericSectionData":return(0,j.jsx)(S,{section:(0,h.M)(e,e.data)});case"HomeMusicVideosSectionData":return(0,j.jsx)(N,{section:(0,h.M)(e,e.data)});case"HomeShortsSectionData":case"HomeRecentlyPlayedSectionData":case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":return null;case"HomeGridSectionData":return t?(0,j.jsx)(I,{section:(0,h.M)(e,e.data)}):null;case"HomeSpotlightSectionData":case"HomePromotionSectionData":case null:case void 0:case"HomeFeatureActivationSectionData":case"HomeWatchFeedSectionData":case"HomeOnboardingSectionDataV2":case"HomeYourDJSectionData":return null;case"HomeFeatureActivationSectionDataV2":return(0,j.jsx)(u.G,{sectionItems:e.sectionItems.items,showAll:!0,uri:e.uri,localStorageKey:e.data.localStorageKey});default:return(0,b.k)(e.data),null}};var w=a(89737),D=a(99435);const k=(0,s.memo)((({cardCount:e})=>(0,j.jsx)(D._,{isLoading:!0,showAll:!0,withTitle:!0,children:[...new Array(e).keys()].map(((e,t)=>(0,j.jsx)(w.u,{isLoading:!0},t)))})));var M=a(6683),L=a(95175),O=a(81834),R=a(27963),E=a(61979),P=a(5062);const G=10,T=({uri:e})=>{const{request:t}=(0,s.useContext)(O.j),a=(0,r.NC)(_.MX4)?M.cT:M.T3,{data:i,isLoading:l,error:u}=(0,n.q)({queryKey:["homeV2","section",e,{numberOfItems:20}],queryFn:async({pageParam:s})=>(0,R.c)(t,m.U3,{uri:e,timeZone:(0,M.Ff)(),sp_t:(0,L.v8)("sp_t")??"",sectionItemsOffset:s,sectionItemsLimit:a}),initialPageParam:0,getNextPageParam:e=>{if("HomeSectionCollection"===e?.data?.homeSections?.__typename&&"HomeSection"===e.data.homeSections.sections[0]?.__typename){const t=e.data.homeSections.sections[0]?.sectionItems.pagingInfo;return t.nextOffset&&t.nextOffset>0?t.nextOffset:void 0}},gcTime:M.gO,staleTime:M.jl}),h=(0,s.useMemo)((()=>i?.pages?i.pages.reduce(((e,t)=>{if(!t?.data?.homeSections||"HomeSectionCollection"!==t?.data?.homeSections.__typename||0===t.data.homeSections.sections.length)return e;switch(t.data.homeSections.sections[0]?.__typename){case"HomeSection":return null===e?(0,E.h)(t.data.homeSections.sections[0]):(e.sectionItems.items=[...e.sectionItems.items,...t.data.homeSections.sections[0].sectionItems.items],e);case"GenericError":case"NotFound":return e;default:return(0,b.k)(t.data.homeSections.sections[0]),e}}),null):null),[i?.pages]);if(l)return(0,j.jsx)("section",{"data-testid":"home-page",children:(0,j.jsx)("div",{className:P.A.home,children:(0,j.jsx)("div",{className:o()(P.A.homepageContent,"contentSpacing"),children:(0,j.jsx)(k,{cardCount:G})})})});if(null!==u)return(0,j.jsx)(d.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.generic")});const g=i?.pages[0]?.data?.homeSections;return"HomeSectionCollection"!==g?.__typename||0===g.sections.length||"HomeSection"!==g.sections[0]?.__typename||null===h?(0,j.jsx)(d.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.generic")}):(0,j.jsx)("section",{"data-testid":"home-section-page",children:(0,j.jsx)("div",{className:P.A.home,children:(0,j.jsx)("div",{className:o()(P.A.homepageContent,"contentSpacing"),children:(0,j.jsx)(A,{section:h})})})})},F=({uri:e})=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.Q,{children:c.Ru.get("page.generic-title")}),(0,j.jsx)(T,{uri:e})]}),V=F},76008:(e,t,a)=>{a.d(t,{G:()=>o});var s=a(422),n=a(31417),i=a(86070);const o=()=>(0,i.jsxs)(i.Fragment,{children:[" • ",(0,i.jsx)(s.E,{variant:"bodySmall",semanticColor:"textBase",dir:"auto",as:"span",children:n.Ru.get("search.lyrics-match")})]})},57478:(e,t,a)=>{a.d(t,{h:()=>n});var s=a(30758);function n(e){return(0,s.useCallback)((t=>{null!==t&&void 0!==t.getAnimations&&t.getAnimations({subtree:!0}).filter((t=>t instanceof CSSAnimation&&t.animationName===e&&"running"===t.playState)).forEach((e=>e.startTime=0))}),[e])}},61979:(e,t,a)=>{a.d(t,{h:()=>s});a(1903),a(40098);function s(e){return"object"!=typeof e||null===e?e:window.structuredClone?window.structuredClone(e):JSON.parse(JSON.stringify(e))}}}]);
//# sourceMappingURL=home-v2-section.js.map