"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3352],{83352:(t,n,e)=>{e.d(n,{M:()=>C,t:()=>_});var a=e(30758),o=e(93523),i=e(31417),s=e(14343),l=e(77567),r=e(38501),c=e(22984),u=e(50674),d=e(30419),f=e(96331);const m=new(e(85515).fq);function y(t){const n=(0,a.useRef)([]);n.current=Array.isArray(t)?t:[t];return()=>{const t=n.current,e=function(t){return m.create(t,(()=>{const n=new Audio(t);return n.load(),n}))}(t[Math.floor(Math.random()*t.length)]);e.play()}}const p={helmet:"main-addButton-helmet",ZoomInAnimation:"main-addButton-zoomInAnimation"};var A=e(86070);function b(t,n){return(0,A.jsx)(c._,{src:n?(0,l.b)("images/mando_helmet_felix.png"):(0,l.b)("images/mando_helmet.png"),className:p.helmet,width:t,height:t,loading:"lazy"})}function h(t){const{surface:n,isViewingVariant:e,isPlayingVariant:a}=(0,d.h)(),o=(0,s.NC)(r.JKv,{loadingValue:r.WdJ.DISABLED}),i=o!==r.WdJ.DISABLED,c=o===r.WdJ.HELMET_AND_SOUND||o===r.WdJ.FELIX,m=o===r.WdJ.FELIX,p=y(function(t){return t?[(0,l.b)("sounds/mando_this_is_the_way_felix.mp3")]:[(0,l.b)("sounds/mando_this_is_the_way_103.mp3"),(0,l.b)("sounds/mando_this_is_the_way_107.mp3")]}(m));if(n===u.u.ALBUM||n===u.u.TRACK||n===u.u.PLAYLIST){const n=i&&e===f.K.MANDALORIAN,a=c&&n;return{content:n?b(t,m):null,playSound:a?p:()=>{}}}if(n===u.u.NOW_PLAYING){const n=i&&a===f.K.MANDALORIAN,e=c&&n;return{content:n?b(t,m):null,playSound:e?p:()=>{}}}return{content:null,playSound:()=>{}}}var L=e(99701),g=e(95264),x=e(81058);let _=function(t){return t.xs="small",t.sm="medium",t.md="large",t}({});const C=a.memo((function({onClick:t,isAdded:n,size:e,disabled:s=!1,isEpisode:l=!1,isMiniPlayer:r=!1,className:c,condensedAll:u,condensed:d,placement:f,showDelayOnHover:m}){const y=n?i.Ru.get("contextmenu.remove-from-your-episodes"):i.Ru.get("web-player.aligned-curation.tooltips.add-to-your-episodes"),p=n?i.Ru.get("remove_from_your_library"):i.Ru.get("save_to_your_library"),b=n?i.Ru.get("web-player.aligned-curation.tooltips.remove-from-liked-songs"):i.Ru.get("web-player.aligned-curation.tooltips.add-to-liked-songs");let C,w=p;switch(l?w=y:r&&(w=b),e){case _.xs:C=16;break;case _.sm:C=24;break;default:C=32}const{setState:R,Icon:v}=(0,x.Q)(n?g.t.CURATED:g.t.UNCURATED,g.A),{content:N,playSound:D}=h(C),I=(0,a.useCallback)((e=>{if(s)return;const{currentTarget:a,detail:o}=e;R(n?g.t.UNCURATED:g.t.CURATED),t(e),n||D(),o>0&&a&&a.blur()}),[s,n,R,t,D]);let U;N&&n&&(U=N);return(0,A.jsx)(L.Zp,{label:w,placement:f,showDelay:m,children:(0,A.jsx)(o.H,{semanticColor:n?"textBrightAccent":"textSubdued",iconOnly:U?()=>U:v,"aria-checked":n,"aria-label":w,onClick:I,"data-testid":"add-button",size:e,className:c,condensedAll:u,condensed:d})})}))},64121:(t,n,e)=>{e.d(n,{o:()=>l});var a=e(30758),o=e(72662),i=e(86070);const s=(0,a.lazy)((async()=>{const{LottieAnimation:t}=await Promise.all([e.e(3638),e.e(7067)]).then(e.bind(e,91798));return{default:t}})),l=(0,a.memo)((function(t){const{data:n}=(0,o.U)({queryKey:["async-lottie-animation",t.path],queryFn:()=>t.path?fetch(t.path).then((t=>t.json())):null,staleTime:6e4,gcTime:6e4,retry:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return(0,i.jsx)(s,{...t,animationData:t.animationData??n,path:void 0})}))},46186:(t,n,e)=>{e.d(n,{Q:()=>d});var a=e(30758),o=e(34990),i=e(88308),s=e(64121),l=e(3292),r=e(86070);const c=({size:t="small",animationFilePath:n,className:e,style:a,onLottieAnimationEnd:o})=>{const i=(0,l.k)(t);return(0,r.jsx)("div",{style:{position:"relative",pointerEvents:"none",width:`${i}px`,height:`${i}px`},children:(0,r.jsx)(s.o,{path:n,loop:!1,autoplay:!0,className:e,style:{display:"flex",position:"absolute",...a},onAnimationEnd:o})})};var u=e(1648);function d(t,n){const[e,s]=(0,a.useState)(t),[l,d]=(0,a.useState)(null),f=(0,o.j)(),{[e]:{Icon:m,iconProps:y}}=n;(0,a.useLayoutEffect)((()=>{s(t)}),[t]);const p=(0,a.useCallback)((t=>{if(!l)return null;const{FallbackIcon:n,...e}=l,o=(0,a.useCallback)((()=>{d(null)}),[]);return(0,r.jsx)(u.tH,{fallback:(0,r.jsx)(n,{...t}),onError:()=>d(null),children:(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(n,{...t}),children:(0,r.jsx)(c,{...e,...t,onLottieAnimationEnd:o})})})}),[l]),A=(0,a.useCallback)((t=>(0,r.jsx)(m,{...y,...t})),[m,y]);return{Icon:l?p:A,setState:(0,i.U0)((t=>{s((e=>{const a=n[e].transitions[t];if(a&&!f){const t=n[e].Icon,o=n[e].iconProps;d({...a,FallbackIcon:n=>(0,r.jsx)(t,{...n,...o})})}else d(null);return t}))}),[f,n])}}},62361:(t,n,e)=>{e.d(n,{P:()=>r,q:()=>c});var a=e(30758),o=e(88308),i=e(13719),s=e(86070);const l=(0,a.createContext)(null),r=({children:t,surface:n,uris:e})=>{const a=(0,o.lB)((()=>({surface:n,uris:e?.filter(i.P)??[]})),[n,e]);return(0,s.jsx)(l.Provider,{value:a,children:t})};function c(){return(0,a.useContext)(l)}},95264:(t,n,e)=>{e.d(n,{A:()=>l,t:()=>s});var a=e(95089),o=e(78350),i=e(77567);let s=function(t){return t[t.UNCURATED=0]="UNCURATED",t[t.CURATED=1]="CURATED",t}({});const l={[s.CURATED]:{Icon:a.k,iconProps:{semanticColor:"textBrightAccent"},transitions:{[s.UNCURATED]:{animationFilePath:(0,i.b)("animations/plus-deselected-confetti-white.json"),style:{transform:"scale(2.448)"}}}},[s.UNCURATED]:{Icon:o.P,transitions:{[s.CURATED]:{animationFilePath:(0,i.b)("animations/plus-selected-confetti-white.json"),style:{transform:"scale(2.448)"}}}}}},81058:(t,n,e)=>{e.d(n,{Q:()=>a.Q});var a=e(46186)},66416:(t,n,e)=>{e.d(n,{K:()=>a});let a=function(t){return t.STAR_WARS="star_wars",t.MANDALORIAN="mandalorian",t.FC_24="fc_24",t}({})},50674:(t,n,e)=>{e.d(n,{u:()=>a});let a=function(t){return t.ALBUM="album",t.ARTIST="artist",t.TRACK="track",t.PLAYLIST="playlist",t.NOW_PLAYING="now_playing",t}({})},96331:(t,n,e)=>{e.d(n,{K:()=>a.K});var a=e(66416)},30419:(t,n,e)=>{e.d(n,{h:()=>d});var a=e(62361),o=e(22726),i=e(66416);const s={[i.K.STAR_WARS]:[(0,o.Lce)("spotify:playlist:37i9dQZF1DXaUaRhCgtpCo"),(0,o.Lce)("spotify:playlist:69BOXIItwwyxTgdz6flzvU"),(0,o.Lce)("spotify:playlist:37i9dQZF1DWUgUvAPAFxdh")],[i.K.MANDALORIAN]:[(0,o.Lce)("spotify:album:4xFmHg5dYvaqmn9ZNQpjWL"),(0,o.Lce)("spotify:album:4AOyNiCYswORQsTLxyGYQ4"),(0,o.Lce)("spotify:album:5r9JMvwLPm2HNY5WgBZ8Q7"),(0,o.Lce)("spotify:album:43PIYGro37xm0Y8iXMP5Pc"),(0,o.Lce)("spotify:album:249DL9DzLAZRyxkpOa5w5w"),(0,o.Lce)("spotify:album:71GgO9VtkVN2grqmpZo4Y2"),(0,o.Lce)("spotify:album:4PMsqnolvUGyj1ZRxE1aki"),(0,o.Lce)("spotify:album:4UbdaOH1jy1l9EG9vLFCle"),(0,o.Lce)("spotify:album:2NxNzw1ohPc2Hhjaq2j3tW"),(0,o.Lce)("spotify:album:4xUXCZfINYIV1DdZKomeVx"),(0,o.Lce)("spotify:album:2JtB7K4gMmfC7Ow9Y4pz4b"),(0,o.Lce)("spotify:album:3wuE2JeCx2Vmvk7b1c9fnI"),(0,o.Lce)("spotify:playlist:37i9dQZF1DWTEvftu9yFoF")],[i.K.FC_24]:[(0,o.Lce)("spotify:playlist:37i9dQZF1DX3rXtgePifMs")]};function l(t,n){if(null===n)return null;for(const[e,a]of t)if(a.some((t=>(0,o.B2u)(n,t))))return e;return null}function r(t){const n=Object.entries(s),e=Array.isArray(t)?t:[t];for(const t of e){const e=l(n,t);if(null!==e)return e}return null}var c=e(58685),u=e(5805);function d(){const t=(0,a.q)(),n=(0,c.o)((t=>t?.context.uri??null)),e=(0,c.o)((t=>{const n=t?.item??void 0;return(0,u.v)(n)?n.album.uri:null}));if(null===t)return{surface:null,isViewingVariant:null,isPlayingVariant:null};const{surface:o,uris:i}=t;return{surface:o,isViewingVariant:r(i),isPlayingVariant:r([n,e])}}}}]);
//# sourceMappingURL=3352.js.map