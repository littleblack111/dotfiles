"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1408,3838],{33712:(e,t,l)=>{l.d(t,{p:()=>d});var i=l(92255),n=l(50635),s=l(44875),o=l(98811),r=l(83327),a=l(50671),c=l(86070);const d=({index:e,logShelfImpressions:t=!1,...l})=>{const{id:d,seeAllUri:u,title:h}=l,{onClickShelfTitle:m,onClickShelfSeeAll:p,spec:g}=(0,n.w)({seeAllUri:u,index:e,id:d}),f=(0,a.t)(g),x=(0,s.a)(u,h),v=(0,o.O)(u,h);return(0,c.jsx)(r.r,{spec:g,children:(0,c.jsx)(i.$,{...l,elementRef:t?f:void 0,onClickShelfTitle:()=>{m(),x({category:s.w.TitleClicks}),v({category:o.U.TitleClicks})},onClickShelfSeeAll:()=>{p(),x({category:s.w.ShowAll}),v({category:o.U.ShowAll})}})})}},50635:(e,t,l)=>{l.d(t,{w:()=>o});var i=l(30758),n=l(4414),s=l(21549);const o=({seeAllUri:e,index:t,id:l})=>{const{spec:o,logger:r}=(0,s.r)(n.f,{data:{identifier:l,position:t,uri:e??""}}),a=(0,i.useCallback)((()=>{const e=o.swipeUiReveal();r.logInteraction(e)}),[r,o]),c=(0,i.useCallback)((e=>{const t=o.shelfHeaderFactory().shelfCarouselControlsFactory(),l="next"===e?t.shelfCarouselControlsNextFactory():t.shelfCarouselControlsPreviousFactory();r.logInteraction(l.hitUiReveal())}),[r,o]);return{onClickShelfTitle:(0,i.useCallback)((()=>{const t=o.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:e??""});r.logInteraction(t)}),[r,e,o]),onClickShelfSeeAll:(0,i.useCallback)((()=>{const t=o.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:e??""});r.logInteraction(t)}),[r,e,o]),onSwipe:a,onClickCarouselControls:c,spec:o}}},40296:(e,t,l)=>{l.r(t),l.d(t,{REDIRECT_BASE:()=>$,default:()=>X});var i=l(30758),n=l(97500),s=l.n(n),o=l(90183),r=l(31417),a=l(62538),c=l(15292),d=l(92202),u=l(85505),h=l(25577),m=l(88711),p=l(46110),g=l(1246),f=l(62986),x=l(84291),v=l(86070);const b=({image:e,color:t=u.vyq,title:l})=>{const i=void 0===e?h.K.SMALL:h.K.DEFAULT,n=e?.custom?.sizes?.flatMap((e=>e.uri?[{url:e.uri,width:e.width,height:e.height}]:[]))??(e?.uri?[{url:e?.uri}]:[]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(h.z,{backgroundImages:n,backgroundColor:t,size:i,children:[(0,v.jsx)(p.h,{children:l?(0,v.jsx)(g.X,{text:l}):null}),(0,v.jsx)(m.Y,{children:l?(0,v.jsx)(f.mm,{children:l}):null})]}),(0,v.jsx)(x.f,{color:t})]})};var y=l(22726),w=l(33712),k=l(86573),j=l(80809);const C=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const A=(e,t,l)=>{if(void 0===e.id)return null;const i=t.map(((e,t)=>function(e,t){const l=e.component?.id,i=e.id;if(void 0===l||void 0===i)return null;const n=e.events?.click?.data?.uri,s=e.images?.main?.uri,o=s?[{url:s}]:[];switch(l){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===n?null:(0,v.jsx)(k.U,{uri:n,name:e.text?.title??"",images:o,showImages:o,description:e.text?.description??e.text?.subtitle??"",durationMilliseconds:(r=e.custom?.duration,"number"==typeof r?r:0),releaseDate:C(e.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},i);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===n?null:(0,v.jsx)(j.B,{uri:n,name:e.text?.title??"",images:o,description:e.text?.description??"",authorName:e.text?.subtitle??"",index:t},i);default:return null}var r}(e,t))).flatMap((e=>e?[e]:[]));if(0===i.length)return null;const n=(0,y.o_h)(e.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,v.jsx)(w.p,{title:e.text?.title??"",total:i.length,seeAllUri:n,index:l,id:e.id,seeAllLabel:e.text?.accessory,children:i},e.id)};var S=l(34901),I=l(422),N=l(40935),_=l(77567),T=l(21082),F=l(60999),R=l(33329),D=l(50671);const U="MT6jAR25XYfoarcSqHDd",E="IYZA3J2VTMydirxq_bdg",H="t6RJK1eND2uPmFYOi32l";var z=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(z||{});const M=({spec:e,model:t})=>{const l=r.Ru.getLocaleForTranslation(),i=(0,R.s)(),n=(0,D.t)(e),o=t.text?.title,a=t.text?.subtitle;if(void 0===o&&void 0===a)return null;const c=t=>{if(t===z.ANDROID){const l=e.googleBadgeFactory().hitNavigateToWebviewUri({destination:t});i.logInteraction(l)}else{const l=e.appleBadgeFactory().hitNavigateToWebviewUri({destination:t});i.logInteraction(l)}};return(0,v.jsxs)(S.a,{variant:"tinted",style:{width:600},ref:n,"data-testid":"unsupported-message",children:[(0,v.jsx)(I.E,{as:"p",variant:"bodyMediumBold",style:{marginBottom:N.v4},children:o}),(0,v.jsx)(I.E,{as:"p",variant:"bodySmall",style:{marginBottom:N.CD},children:a}),(0,v.jsxs)("div",{className:s()(H),children:[(0,v.jsx)(T.N,{to:z.IOS,target:"_blank",onClick:()=>c(z.IOS),children:(0,v.jsx)("img",{src:(0,_.b)((0,F.f)(l)),alt:r.Ru.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:U})}),(0,v.jsx)(T.N,{to:z.ANDROID,target:"_blank",onClick:()=>c(z.ANDROID),children:(0,v.jsx)("img",{src:(0,_.b)((0,F.A)(l)),alt:r.Ru.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:s()(U,E)})})]})]})},O=(e,t)=>{const l=(e=>{const t=Array();let l,i=Array();return e.forEach((e=>{"culturalmoments:sectionHeaderWithAction"===e.component?.id?(l&&0!==i.length&&t.push({heading:l,components:i}),l=e,i=Array()):l&&("culturalmoments:carousel"===e.component?.id||"glue2:carousel"===e.component?.id?e.children?.forEach((e=>{i.push(e)})):i.push(e))})),l&&0!==i.length&&t.push({heading:l,components:i}),t})(e),i=(e=>e.find((e=>"culturalmoments:unavailableBanner"===e.component?.id)))(e);return(0,v.jsxs)(v.Fragment,{children:[i?(0,v.jsx)(M,{spec:t,model:i},i.component?.id):null,l.map(((e,t)=>A(e.heading,e.components,t)))]})};var L=l(6444),B=l(72671);const P=(e,t)=>{const l=new Intl.DateTimeFormat;return e.build().withHost(B.LG).withPath("/hub").withQueryParameters({id:t,userHasRiF:!1,clientTimezone:l.resolvedOptions().timeZone??""}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send()};var V=l(98655),Z=l(21549);const W="B9Q1L66F7wl4eUMgp4Lg",q="gtqpWbwIV4PTEp8Q0ZW4",Q="edYsLe1QCBdzPglEiROZ",Y=({uri:e,id:t})=>{const{data:l,error:n,loading:u}=(0,V.Z)(P,[t]),{spec:h,UBIFragment:m}=(0,Z.r)(o.j,{data:{identifier:e,uri:e}}),p=(0,i.useMemo)((()=>h.shelvesFactory()),[h]),g=(0,i.useMemo)((()=>h.mobilePromptFactory()),[h]),f=l?.body.hubViewData?.body,x=l?.body.hubViewData?.header;if(null===l||void 0===f||void 0===x||u||null!==n)return(0,v.jsx)(d.LoadingPage,{hasError:null!==n,errorMessage:r.Ru.get("error.generic")});const y=l.body.hubViewData?.title,w=x?.text?.title;return(0,v.jsxs)(m,{spec:h,children:[(0,v.jsx)(c.Q,{children:y??""}),w?(0,v.jsx)("div",{className:W,children:(0,v.jsx)(b,{title:x?.text?.title,image:x.images?.background})}):null,(0,v.jsx)(m,{spec:p,children:(0,v.jsxs)("div",{className:Q,children:[w&&(0,v.jsx)(a.K,{}),(0,v.jsx)("div",{className:s()("contentSpacing",q),children:(0,v.jsx)(L._,{children:f?O(f,g):null})})]})})]})};var K=l(67668);const $="https://accounts.spotify.com/login",J=()=>{const e=window.location.href;return window.location.href=`${$}?continue=${encodeURIComponent(e)}`,null},X=e=>(0,K.V)()?(0,v.jsx)(J,{}):(0,v.jsx)(Y,{...e})},6444:(e,t,l)=>{l.d(t,{_:()=>d});var i=l(30758),n=l(21743),s=l(97500),o=l.n(s);const r="eqw9lvuoZHrkWMTdyTpY",a="lb08f71wES9AQnKx6e0R";var c=l(86070);const d=(0,i.memo)((function(e){const{triggerOnInitialLoad:t=!1,onReachBottom:l,showScrollbar:s=!0,horizontalScroll:d=!1,className:u}=e,{ref:h,inView:m}=(0,n.Wx)({initialInView:t});return(0,i.useLayoutEffect)((()=>{m&&l&&l()}),[m,l]),(0,c.jsxs)("div",{className:o()({[a]:!s,[r]:d},u),"data-testid":"infinite-scroll-list",children:[e.children,(0,c.jsx)("div",{ref:h})]})}))},84291:(e,t,l)=>{l.d(t,{f:()=>r,z:()=>o});var i=l(30758),n=l(85505),s=l(47095);function o(e,t=n.l0o){const l=(0,s.as)();return(0,i.useEffect)((()=>(e&&l((0,s.Mo)(e)),()=>{l((0,s.Hf)())})),[e,l]),e||t}const r=({color:e,fallbackColor:t})=>(o(e,t),null)},60999:(e,t,l)=>{l.d(t,{A:()=>o,f:()=>s});const i=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],n=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],s=e=>`images/download-badges/apple/${i.includes(e)?e:"int"}.svg`,o=e=>`images/download-badges/google/${n.includes(e)?e:"int"}.svg`}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map