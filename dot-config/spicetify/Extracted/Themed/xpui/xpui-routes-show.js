"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8606],{23432:(e,t,a)=>{a.d(t,{I:()=>l});var i=a(30758),s=a(45664),n=a(89402),r=a(24533),o=a(86070);const l=i.memo((function({uri:e,size:t=s.M.md,className:a,onClick:l,canDownload:c,condensedAll:d}){const[u,m]=(0,r.A)(e),h=(0,n.W)(),p=(0,i.useCallback)((()=>{h({targetUri:e,intent:u?"unsave":"save",type:"click"}),m(!u)}),[h,e,u,m]);return(0,o.jsx)(s.f,{className:a,isFollowing:u,onFollow:p,onClick:l,uri:e,size:t,canDownload:c,condensedAll:d,condensed:!0})}))},58110:(e,t,a)=>{a.d(t,{b:()=>l});var i=a(30758),s=a(83352),n=a(89402),r=a(24533),o=a(86070);const l=i.memo((function({uri:e,className:t,onClick:a,size:l=s.t.xs,condensed:c}){const[d,u]=(0,r.A)(e),m=(0,n.W)(),h=(0,i.useCallback)((t=>{t.preventDefault(),m({targetUri:e,intent:d?"remove-from-library":"add-to-library",type:"click"}),a&&a(!d),u(!d)}),[m,e,d,a,u]);return(0,o.jsx)(s.M,{className:t,size:l,onClick:h,isAdded:!!d,isEpisode:!0,condensed:c})}))},30343:(e,t,a)=>{a.d(t,{o:()=>h});var i=a(31417),s=a(75134),n=a(43743),r=a(38996),o=a(89994),l=a(81288),c=a(65462),d=a(29454),u=a(59029),m=a(86070);const h=({images:e,name:t,uri:a,publisher:h,sharingInfo:p,mediaType:g,isHero:x=!1,onClick:y,testId:v,index:b,requestId:j,color:f,variant:C,logCardImpressions:w=!1})=>{let k;const S=g===u.Q.MIXED?i.Ru.get("type.show"):i.Ru.get("card.tag.show");return k=x?(0,m.jsx)(o.A,{index:b,onClick:y,delegatePlayback:!0,headerText:t,featureIdentifier:"show",uri:a,isPlayable:!1,renderCardImage:()=>(0,m.jsx)(n.M,{isHero:!0,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsxs)(r.c,{isHero:!0,children:[(0,m.jsx)(l.t,{children:S}),h&&(0,m.jsx)("span",{children:h})]}),testId:v,requestId:j,logCardImpressions:w}):(0,m.jsx)(s.Z,{variant:C,onClick:y,isPlayable:!1,delegatePlayback:!0,headerText:t,featureIdentifier:"show",uri:a,index:b,renderCardImage:()=>(0,m.jsx)(n.M,{isHero:x,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsx)(r.c,{children:h&&(0,m.jsx)("span",{children:h})}),testId:v,requestId:j,logCardImpressions:w}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:a,sharingInfo:p}),children:k})}},43673:(e,t,a)=>{a.d(t,{G:()=>P});var i=a(97500),s=a.n(i),n=a(31417),r=a(422);const o="YNXLVjlRXPfM4xObTojA",l="CVRy4NtxZYSle8dJ1E67",c="holKDGFNEFSz85czBeSv",d="gqidZhN1lgoZDfI_7E6w",u="_IQ8dgA5pEr_V8PfUkWa",m="xNkPMA_OvAxcFTdfyroI";var h=a(86070);const p=({value:e,label:t,hasDivider:a=!1})=>(0,h.jsxs)("div",{className:c,"aria-hidden":"true",children:[(0,h.jsx)(r.E,{variant:"titleSmall",className:s()({[u]:a}),children:e}),(0,h.jsx)(r.E,{variant:"marginal",semanticColor:"textSubdued",children:t})]});var g=a(30758);const x=1e3,y=60*x,v=60*y,b=24*v;var j=a(95204),f=a(19870);const C={days:0,hours:0,minutes:0,seconds:0};function w(e){return e>0?function(e){const t=Math.abs(e);return{days:Math.floor(t/b),hours:Math.floor(t%b/v),minutes:Math.floor(t%v/y),seconds:Math.floor(t%y/x)}}(e):C}var k=a(32255),S=a(7307);const P=({targetDate:e,className:t,onComplete:a,images:i,imageTitle:r})=>{const{days:c,hours:u,minutes:x,seconds:y}=((e,t)=>{const a=(0,g.useRef)(t);a.current=t;const[i,s]=(0,g.useState)((()=>w((0,j.u)(e))));return(0,f.$)((t=>{const i=(0,j.u)(e),n=w(i);s(n),i<=0&&(t(),a.current?.())}),1e3),i})(e,a),v=void 0!==i&&i.length>0&&r,b=n.Ru.get("web-player.prerelease.countdown_label",{days:c,hours:u,minutes:x,seconds:y});return(0,h.jsxs)("div",{className:s()(o,t,{[l]:v}),role:"timer","data-testid":"countdown",children:[(0,h.jsx)("span",{className:m,children:b}),v&&(0,h.jsx)(k.b,{images:i,type:S.c.ALBUM,shape:k.u.ROUNDED_CORNERS,className:d,title:r}),(0,h.jsx)(p,{value:c,label:n.Ru.get("web-player.prerelease.days",c),hasDivider:!0}),(0,h.jsx)(p,{value:u,label:n.Ru.get("web-player.prerelease.hours",u),hasDivider:!0}),(0,h.jsx)(p,{value:x,label:n.Ru.get("web-player.prerelease.minutes",x),hasDivider:!0}),(0,h.jsx)(p,{value:y,label:n.Ru.get("web-player.prerelease.seconds",y)})]})}},17843:(e,t,a)=>{a.d(t,{K:()=>d});var i=a(30758),s=a(97500),n=a.n(s),r=a(25493),o=a(27012),l=a(55760),c=a(86070);const d=(0,i.memo)((function({dragUri:e,dragMimeType:t,onContextMenu:a,onTouchStart:i,onTouchEnd:s,onClick:d,ariaLabel:u,...m}){const{draggable:h,onDragStart:p}=(0,o.P)({itemUris:e?[e]:[],itemMimeTypes:t?[t]:[],dragLabelText:m.name}),g={className:n()(l.A.imageContainer,l.A.imageContainerNew,{[l.A.imageContainerClickable]:!!d}),draggable:h&&!!e,onDragStart:p,onContextMenu:a,onTouchStart:i,onTouchEnd:s,children:(0,c.jsx)(r.b,{...m})};return d?(0,c.jsx)("button",{...g,"aria-label":u,onClick:d}):(0,c.jsx)("div",{...g})}))},73658:(e,t,a)=>{a.d(t,{X:()=>o});var i=a(85505),s=a(82846);const n={container:"blfR_YJUsKUvdgTejBSb"};var r=a(86070);function o({children:e}){const t=(0,s.w)({contrast:"higherContrast"});return(0,r.jsx)("div",{className:n.container,style:{"--text-subdued":i.WYM,...t},children:e})}},86236:(e,t,a)=>{a.d(t,{W:()=>o});var i=a(30758),s=a(56515),n=a(31417),r=a(86070);const o=(0,i.memo)((function({isFollowing:e,onClick:t,disabled:a=!1,buttonText:i,size:o="small",className:l}){const c=e?n.Ru.get("following"):n.Ru.get("follow");return(0,r.jsx)(s.n,{onClick:t,disabled:a,size:o,className:l,children:i||c})}))},13611:(e,t,a)=>{a.d(t,{h:()=>u});var i=a(30758),s=a(57239),n=a(74941),r=a(67668),o=a(70028),l=a(30157);var c=a(26184),d=a(86070);const u=({children:e,action:t,uri:a})=>{const u=(0,r.V)(),m=(0,l.N)(o.JD);let h;const p=()=>{const e={triggerId:n.d,triggerAction:{type:t}};s.h.set((t=>({...t,...e}))),m.storeAction(o.j8,{operation:c.tS.ADD,uris:[a]})};try{h=i.Children.only(e)}catch(t){return(0,d.jsx)(d.Fragment,{children:e})}return u?i.cloneElement(h,{onClick:p}):(0,d.jsx)(d.Fragment,{children:e})}},36685:(e,t,a)=>{a.d(t,{H4:()=>i});a(30758),a(97500),a(31417),a(99701),a(35352);a(86070);let i=function(e){return e.primary="primary",e.secondary="secondary",e.transparent="transparent",e}({})},35895:(e,t,a)=>{a.d(t,{D:()=>y});var i=a(30758),s=a(97500),n=a.n(s),r=a(34733),o=a(14343),l=a(77567),c=a(38501),d=a(50674),u=a(30419),m=a(96331);const h="a7Y8huZIZOVb02vySpQo";function p(){const{surface:e,isViewingVariant:t}=(0,u.h)(),a=(0,o.NC)(c.cOL,{loadingValue:!1});if(e===d.u.PLAYLIST){return{buttonClassName:a&&t===m.K.FC_24?h:null,styles:{"--triangle-light-image":`url(${(0,l.b)("images/FC24_Spotify_PlayButton_V2_TriangleLight.svg")})`}}}return{buttonClassName:null,styles:void 0}}var g=a(89402),x=a(86070);const y=i.memo((function({uri:e,ariaPlayLabel:t,ariaPauseLabel:a,onClick:i,isPlaying:s,size:o,locked:l,...c}){const d=(0,g.W)(),{buttonClassName:u,styles:m}=p();return(0,x.jsx)(r.R,{ariaPlayLabel:t,ariaPauseLabel:a,isPlaying:s,onClick:t=>{l||d({targetUri:e,intent:s?"pause":"play",type:"click",itemIdSuffix:"button"}),i(t)},size:o,locked:l,className:n()(u),style:m,...c})}))},11584:(e,t,a)=>{a.d(t,{v:()=>m});var i=a(56515),s=a(95089),n=a(44481),r=a(78350),o=a(31417),l=a(13611),c=a(36213),d=a(20463),u=a(86070);const m=({uri:e,isBook:t=!1})=>{const{isPreSaved:a,addPresave:m,removePresave:h}=(0,c.w)({uri:e,isBook:t});return a?(0,u.jsx)(i.n,{onClick:h,iconTrailing:s.k,children:o.Ru.get("web-player.prerelease.presaved")}):(0,u.jsx)(l.h,{uri:e,action:d.no.SAVE_PRERELEASE,children:(0,u.jsx)(n.$,{disabled:void 0===a,onClick:m,iconTrailing:r.P,children:o.Ru.get("web-player.prerelease.presave")})})}},67239:(e,t,a)=>{a.d(t,{g:()=>A});var i=a(30758),s=a(3074),n=a.n(s),r=a(36072),o=a(22555),l=a(422),c=a(14343),d=a(22765),u=a(75830),m=a(38771),h=a(66612),p=a(10994),g=a(41874),x=a(12864),y=a(4266),v=a(31417),b=a(47160),j=a(29324),f=a(86070);const C=({onSelect:e})=>{const{viewMode:t,setViewMode:a}=(0,b.a)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(g.y,{children:v.Ru.get("web-player.your-library-x.sort-and-view-picker.view-as")}),j.i.map((({value:i,icon:s,text:n},r)=>(0,f.jsx)(x.D,{role:"menuitemradio","aria-checked":t===i,divider:r===j.i.length-1?"after":void 0,autoClose:!1,leadingIcon:s(),onClick:()=>{a(i),e?.(i)},children:n()},i)))]})},w=({heading:e,selected:t,onSelect:a,options:i,enableViewModeMenu:s=!1,onSelectViewMode:n,sortOrder:r,...o})=>{let l;r&&(r===y.H.ASC||r===y.H.SECONDARY_ASC?l=m.U:r!==y.H.DESC&&r!==y.H.SECONDARY_DESC||(l=h.R));return(0,f.jsxs)(p.W,{getInitialFocusElement:e=>e?.querySelector('[aria-checked="true"]'),...o,children:[e?(0,f.jsx)(g.y,{children:e}):null,i.map((({key:e,value:i},s)=>(0,f.jsx)(x.D,{role:"menuitemradio","aria-checked":e===t.key,CheckedIcon:l,onClick:()=>a(e,s),children:i},e))),s&&(0,f.jsx)(C,{onSelect:n})]})};var k=a(61147),S=a(21549),P=a(43329);const R="x-sortBox-sortDropdown",E="cvTLPmjt6T7M85EKcB8w",I="SbDHY3fVADNJ4l9qOLQ2",N=({isOpen:e,className:t})=>e?(0,f.jsx)(r.J,{size:"small","aria-hidden":"true",className:t}):(0,f.jsx)(o.y,{size:"small","aria-hidden":"true",className:t}),A=({heading:e,options:t,selected:a,onSelect:s,sortOrder:r,variant:o="bodySmall",semanticColor:m,disabled:h,onClick:p,ariaLabel:g,enableViewModeMenu:x=!1})=>{const y=(0,c.NC)(P.mA)&&x,{viewMode:v}=(0,k.a)();a||(a=t?.[0]);const b=j.i.find((({value:e})=>e===v))||j.i[0],C=(0,i.useMemo)((()=>`sortboxlist-${n().create().hex}`),[]),{spec:A,logger:T}=(0,S.r)(d.d,{});return(0,f.jsx)(u.b,{menu:(0,f.jsx)(w,{selected:a,options:t,onSelect:(e,t)=>{s(e,t);const a=A.sortBySectionFactory().sortOptionFactory({identifier:e}).hitSort();T.logInteraction(a)},sortOrder:r,heading:e,enableViewModeMenu:y,onSelectViewMode:e=>{const t=A.viewAsSectionFactory().viewOptionFactory({identifier:e}).hitUiElementToggle();T.logInteraction(t)},id:C}),children:(e,t,i)=>(0,f.jsxs)("button",{className:R,onClick:e=>{h||(p?.(e),t(e))},ref:i,type:"button","aria-label":g,role:"combobox","aria-controls":C,"aria-expanded":e,children:[(0,f.jsx)(l.E,{"data-sortbox-label":!0,semanticColor:m,variant:o,className:E,children:a?.value||(y?b.text():"")}),y?b.icon():(0,f.jsx)(N,{isOpen:e,className:I})]})})}},13813:(e,t,a)=>{a.d(t,{N:()=>p});var i=a(97500),s=a.n(i),n=a(30758),r=a(3520),o=a(21082);const l="nLNTsyonBwoRIzAv1AME",c="E4I5I7G2CfW32hLWZaqE",d="w4ZoklZWkrsyrVA34vI8";var u=a(86070);const m=({title:e,uri:t,className:a,onClick:i,position:l})=>{const m=(0,n.useCallback)((e=>{i?.(e,{uri:t,position:l})}),[i,l,t]);return(0,u.jsx)(o.N,{"aria-label":e,className:s()(c,d,a),to:t,onClick:m,children:(0,u.jsx)(r.v,{as:"span",children:e})})};function h(e){return!!e.uri&&!!e.title}const p=({topics:e,className:t,onClick:a})=>(0,u.jsx)("div",{className:s()(l,t),children:e.filter(h).map(((e,t)=>{const i=`${e.uri}-${t}`;return(0,u.jsx)(m,{title:e.title,uri:e.uri,position:t,onClick:a},i)}))})},88986:(e,t,a)=>{a.d(t,{B:()=>R,q:()=>I});var i=a(30758),s=a(62411),n=a(91305),r=a(22726),o=a(99921),l=a(75040),c=a(65462),d=a(91676),u=a(33934),m=a(57239),h=a(23798),p=a(99730),g=a(27012),x=a(67668),y=a(55926),v=a(44825),b=a(44672),j=a(51354),f=a(86931),C=a(50671),w=a(21549),k=a(16157),S=a(15838),P=a(86070);function R(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const E=e=>`activation-trigger-mme-${e}`,I=i.memo((function({index:e=-1,showMetadata:t,episode:a,usePlayContextItem:I,status:N,variant:A}){const T=(0,y.c)(),B=a.playedState.playPositionMilliseconds,M=a.uri,_=(0,i.useRef)(null),[L,F]=(0,i.useState)(a.playedState.state===k._w.Completed),{draggable:D,onDragStart:U}=(0,g.P)(),O=(0,x.V)(),z=(0,j.y)(),V=(0,s.wA)(),{UBIFragment:H,spec:W,logger:q}=(0,w.r)(n.d,{data:{uri:M,reason:a.requestId||"",position:e}}),G=(0,C.t)(W),{isActive:K,isPlaying:Y,togglePlay:$}=I({uri:M}),[X]=(0,f.S)(1e4,(e=>e?.item?.uri===M));(0,i.useEffect)((()=>{Y&&(_.current=X)}),[Y,X]),(0,i.useEffect)((()=>{!Y&&_.current&&a.duration.milliseconds<=_.current&&F(!0)}),[Y,a.duration.milliseconds]);const Z=(0,i.useCallback)((e=>{e||(_.current=0),F(e)}),[]),Q=R(t),J=(0,v.C)({...a,coverArt:{sources:a.coverArt}},Q),ee=(0,i.useCallback)((()=>{if(a.episodeType===k.I_.Episode&&T)m.h.set((()=>({triggerId:E(a.uri),triggerAction:null})));else if(O)J();else{let e;e=Y?W.playButtonFactory().hitPause({itemToBePaused:M}):K?W.playButtonFactory().hitResume({itemToBeResumed:M}):W.playButtonFactory().hitPlay({itemToBePlayed:M});const t=q.logInteraction(e);$({loggingParams:t})}}),[K,J,$,M,Y,O,a,T,q,W]),te=(0,i.useCallback)((()=>{q.logInteraction(W.hitUiNavigate({destination:M}))}),[M,q,W]),ae=a.podcastSubscription?.isPaywalled??!1,ie=a.podcastSubscription?.isUserSubscribed??!1,se=ae&&!ie,ne=ae&&O,{badges:re}=(0,S.b)({contentRating:a.contentRating?.label,isPaywalled:ae}),oe=(0,i.useCallback)((()=>V((0,o.Tf)(t.uri))),[t.uri,V]),le=(0,i.useCallback)((e=>{let i=e;return(se||ne)&&(i=(0,P.jsx)(h.N,{enabled:!0,showUri:a.podcast?.uri||t.uri,renderInline:!1,children:i})),!a.playability.playable&&re.nineteen&&(i=(0,P.jsx)("div",{onClick:e=>{e.stopPropagation(),oe()},children:e})),i=(0,P.jsx)(l.k,{id:E(M),targetURI:(0,r.o_h)(M),children:i}),i}),[M,se,ne,t.uri,re.nineteen,a.playability.playable,oe,a.podcast?.uri]);return(0,P.jsx)(H,{spec:W,children:(0,P.jsx)(b.pZ,{value:"row",index:e,children:(0,P.jsx)(c.h,{onShow:()=>{q.logInteraction(W.secondaryHitUiReveal())},menu:(0,P.jsx)(d.b,{uri:M,showUri:t.uri,sharingInfo:a.sharingInfo,isPlayed:L,onMarkAsPlayed:Z}),children:(0,P.jsx)(u.k,{ref:G,requestId:a.requestId,index:e,uri:M,size:z,images:a.coverArt||[],name:a.name,showName:a.podcast?.name||t.name,description:a.description,isPlayable:a.playability.playable||se,fullyPlayed:L,durationMs:a.duration.milliseconds,releaseDate:a.releaseDate,resumePositionMs:_.current??B,draggable:D,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const i=`${a.name} • ${t.name}`;U(e,{itemUris:[M],dragLabelText:i,contextUri:t.uri})},handlePlaybackClick:ee,handleClick:te,isCurrentlyPlaying:K,isPaywalled:ae,isUserSubscribed:ie,isPlaying:Y,position:Y?X:void 0,episodeSharingInfo:a.sharingInfo,onMarkAsPlayed:Z,contentInformation:a.contentInformation,showUri:a.podcast?.uri||t.uri,mediaTypes:a.mediaTypes??void 0,badges:(0,P.jsx)(p.P,{episode:a}),playButtonWrapper:le,onMoreButtonClick:()=>{q.logInteraction(W.moreButtonFactory().hitUiReveal())},status:N,variant:A})})})})}))},29324:(e,t,a)=>{a.d(t,{i:()=>c,p:()=>l});var i=a(86066),s=a(45764),n=a(31417),r=a(43389),o=a(86070);const l=[r.I.COMPACT,r.I.LIST],c=[{value:r.I.COMPACT,text:()=>n.Ru.get("web-player.your-library-x.sort-and-view-picker.compact"),icon:()=>(0,o.jsx)(i.d,{size:"small"})},{value:r.I.LIST,text:()=>n.Ru.get("web-player.your-library-x.sort-and-view-picker.list"),icon:()=>(0,o.jsx)(s.N,{size:"small"})}]},88007:(e,t,a)=>{a.d(t,{Z:()=>r});var i=a(49971);const s="rTMkDBDp47Eo12ZEQv4U";var n=a(86070);const r=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{if(e.untyped)return(0,n.jsx)(i.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},t);const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let s;return s="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,n.jsx)(i.Z,{as:"p",variant:"finale",dir:"auto",children:`${s} ${a}`},t)}));return t&&a.unshift((0,n.jsx)(i.Z,{as:"p",variant:"finale",dir:"auto",children:t},a.length)),(0,n.jsx)("div",{className:s,children:a})}},6444:(e,t,a)=>{a.d(t,{_:()=>d});var i=a(30758),s=a(21743),n=a(97500),r=a.n(n);const o="eqw9lvuoZHrkWMTdyTpY",l="lb08f71wES9AQnKx6e0R";var c=a(86070);const d=(0,i.memo)((function(e){const{triggerOnInitialLoad:t=!1,onReachBottom:a,showScrollbar:n=!0,horizontalScroll:d=!1,className:u}=e,{ref:m,inView:h}=(0,s.Wx)({initialInView:t});return(0,i.useLayoutEffect)((()=>{h&&a&&a()}),[h,a]),(0,c.jsxs)("div",{className:r()({[l]:!n,[o]:d},u),"data-testid":"infinite-scroll-list",children:[e.children,(0,c.jsx)("div",{ref:m})]})}))},95204:(e,t,a)=>{function i(e){const t=new Date;return(e instanceof Date?e:new Date(e)).getTime()-t.getTime()}a.d(t,{u:()=>i})},41755:(e,t,a)=>{a.d(t,{v:()=>r});var i=a(57776),s=a(59147);const n=new i.l("internalLinkRecommenderShow","query","6c369ff272a666b31fef1629c169925a1bd80f372195396c82304142cacd89e8",null),r=(e,t)=>(0,s.I)(n,e,t)},80895:(e,t,a)=>{a.d(t,{K:()=>i});const i=e=>{return t=e,"NotFound"!==t?.__typename&&"GenericError"!==t?.__typename&&"Podcast"===e.__typename;var t}},36213:(e,t,a)=>{a.d(t,{w:()=>d});var i=a(30758),s=a(3117),n=a(31417),r=a(53133),o=a(74008),l=a(48905),c=a(21549);const d=({uri:e,isBook:t})=>{const{add:a,remove:d}=(0,l.p)("prerelease"),u=(0,o.o)("prerelease",[e]).at(0),{enqueueSnackbar:m}=(0,r.d)(),{spec:h,logger:p}=(0,c.r)(s.k,{data:{uri:e}});return{isPreSaved:u,addPresave:(0,i.useCallback)((async()=>{p.logInteraction(h.actionBarFactory().preSaveButtonFactory().hitPresave({prereleaseId:e,itemToBePresaved:e,contextUri:e})),await a(e),m(t?n.Ru.get("web-player.prerelease.audiobook_feedback_presaved"):n.Ru.get("web-player.prerelease.album_feedback_presaved"))}),[a,m,t,p,h,e]),removePresave:(0,i.useCallback)((async()=>{p.logInteraction(h.actionBarFactory().preSaveButtonFactory().hitRemovePresave({prereleaseId:e,itemToBeRemovedFromPresaved:e,contextUri:e})),await d(e)}),[p,d,h,e])}}},95320:(e,t,a)=>{a.d(t,{v:()=>r});var i=a(7069),s=a(45627),n=a(5805);function r(e){if("string"==typeof e)return(0,i.g)(e);const t=e;return(0,n.v)(t)||(0,s.p)(t)}},11010:(e,t,a)=>{a.r(t),a.d(t,{default:()=>zi});var i=a(30758),s=a(85387),n=a(24466),r=a(69707),o=a(22726),l=a(31417),c=a(15292),d=a(92202),u=a(97500),m=a.n(u),h=a(62411),p=a(422),g=a(14343),x=a(37475),y=a(33641),v=a(98293),b=a(38157),j=a(75830),f=a(62648),C=a(13813),w=a(49971),k=a(36685),S=a(34733),P=a(64281),R=a(99041),E=a(32255),I=a(69624),N=a(18663),A=a(50866),T=a(7307),B=a(15838);const M="Bns6t3CfzQaCA4DLRzPQ",_="zGFcpmwFVhJxRDXUXoXA",L="_FLyhB96W9W0msGYNWUl",F="Si5iVyGLDY7mGWH_U2wA",D="HLBtD6mJyIB9EeOzDtXE",U="DRO0ur1WXqpK9BelywtE",O="vtlBEOtYFwv1cxC32ccc",z="Pq_DZj9ECxwTsK8pBxe0",V="bu7LVUNyDPF_FcrKMv74",H="bYP2npsc_CeChpMGcr6g",W="Ux7aVnDYlwojS4AmkSLg";var q=a(86070);let G=function(e){return e.SMALL="small",e.LARGE="large",e}({});const K=({images:e,title:t,contentRating:a,duration:i,moreButton:s,onClick:n,onContextMenu:r,onTouchStart:o,onTouchEnd:l,isPlaying:c,isActive:d,size:u,className:h,label:p,isPlayable:g=!0})=>{const x=u===G.LARGE?"medium":"small",{badges:y}=(0,B.b)({contentRating:a});return(0,q.jsxs)("div",{"data-testid":"trailer-component",className:m()(M,h,{[_]:d}),onContextMenu:r,onTouchStart:o,onTouchEnd:l,children:[(0,q.jsxs)("div",{className:F,children:[(0,q.jsxs)("div",{className:z,children:[(0,q.jsx)(E.b,{type:T.c.EPISODE,title:t,className:m()(O,{[W]:u===G.SMALL,[H]:u===G.LARGE}),size:I.Qe.SIZE_56,images:e,shape:E.u.ROUNDED_CORNERS}),(0,q.jsx)("div",{className:V,children:(0,q.jsx)(S.R,{"data-testid":"trailer-play-button",version:k.H4.transparent,size:x,isPlaying:c,onClick:n,disabled:!g})})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("div",{className:D,children:(0,q.jsx)(w.Z,{dir:"auto",className:L,variant:"balladBold",children:t})}),(0,q.jsxs)("div",{className:U,children:[(0,q.jsx)(P.E,{text:p}),y.explicit&&(0,q.jsx)(R.U,{}),y.nineteen&&(0,q.jsx)(N.q,{}),(0,q.jsx)(w.Z,{dir:"auto",variant:"mesto",children:(0,q.jsx)(A.d,{durationMs:i})})]})]})]}),s]})};var Y=a(13922),$=a(33329);const X=({htmlDescription:e,narrators:t,spec:a,isPreRelease:s})=>{const n=(0,$.s)(),r=(0,i.useCallback)((e=>{const t=a.seeMoreButtonFactory();n.logInteraction(e?t.hitUiReveal():t.hitUiHide())}),[n,a]);return(0,q.jsxs)(q.Fragment,{children:[t.length?(0,q.jsx)(p.E,{as:"p",variant:"bodyMedium",children:l.Ru.get("web-player.audiobooks.narratedByX",t.join(l.Ru.getSeparator()))}):null,e&&(0,q.jsx)(Y.N,{maxLines:4,content:e,htmlContent:e,onExpanded:r,isOpen:s||null})]})};var Z=a(12662),Q=a(88260),J=a(60038),ee=a(83352),te=a(23432),ae=a(47863),ie=a(21951),se=a(79401),ne=a(79678),re=a(55769);const oe="myIGgR3zdb9nFuJ1pXYl",le="e74TmRHu_W1yZHspTBmR",ce="rrcjfInomKt1lXRDRdR8",de="Wj9mxFJDtPdiMcUtS1te",ue="SCwESjClY3m_9JlV2L7S",me="Yoa_yG2jhELT4w9wJpHf",he="xsw253oiwmIAafVfjl1J",pe="JPqnsg5dgBTzsEoClLmD",ge="bhuRgaz03VXMf0mOG3Q2",xe="GP_qgmZlmL0CJ9r22AD9",ye="bilV2VquzmEnhV4d97Tc",ve="caqddwmUJf4ix6GI84NX",be=({explicit:e,durationMs:t,publishDate:a,preReleaseEndDateTime:i,isPreRelease:s,uri:n,isPlaying:r})=>{const o=(0,ne.p)(n),{isMarkedAsFinished:c}=(0,se.z)(n);let d;return s&&i?d=l.Ru.get("web-player.prerelease.releases_on",{date:l.Ru.formatDate(i)}):!s&&a&&(d=l.Ru.formatDate(a)),(0,q.jsxs)("div",{className:ge,children:[e&&(0,q.jsx)(R.U,{className:ve}),(0,q.jsxs)("div",{className:xe,children:[d&&(0,q.jsx)(p.E,{variant:"bodySmall",className:ye,children:d}),t?(0,q.jsxs)(q.Fragment,{children:[o?.playPositionMilliseconds?(0,q.jsx)(p.E,{variant:"bodySmall",className:ye,children:(0,q.jsx)(A.d,{durationMs:t})}):null,(0,q.jsx)(re.j,{isPlaying:r,fullyPlayed:c,durationMs:t,position:o?.playPositionMilliseconds})]}):null]})]})};var je=a(44481),fe=a(11584);const Ce=(0,i.createContext)(null),we=({children:e,isPreRelease:t})=>{const[a,s]=(0,i.useState)(!t),n=(0,i.useMemo)((()=>({isPreRelease:t,isCountdownFinished:a,setCountdownFinished:()=>s(!0)})),[t,a,s]);return(0,q.jsx)(Ce.Provider,{value:n,children:e})};function ke(){const e=(0,i.useContext)(Ce);if(null===e)throw new Error("Trying to use 'PreRealeaseCountdownContext' without 'PreRealeaseCountdownProvider'!");return e}var Se=a(96571);const Pe="nz8Wc80RAtdAb3yU9FxM",Re=({uri:e})=>{const{isCountdownFinished:t}=ke(),{invalidateCache:a}=(0,Se.W)(e);return(0,q.jsx)("div",{className:Pe,children:t?(0,q.jsx)(je.$,{onClick:a,children:l.Ru.get("web-player.audiobooks.goToAudiobook")}):(0,q.jsx)(fe.v,{uri:e,isBook:!0})})};var Ee=a(35895),Ie=a(40638),Ne=a(53133),Ae=a(67668),Te=a(41833);const Be="NQAShVY0o7RQ2bCTDSkw";function Me({uri:e,price:t,size:a,spec:i,logger:s,onPlayback:n}){const{enqueueSnackbar:r}=(0,Ne.d)(),o=(0,Ae.V)(),c=0===t?.finalPrice?.amount,d=c?i.getButtonFactory({uri:e}):i.buyButtonFactory({uri:e}),u=(0,Ie.YQ)((async()=>{if(s.logInteraction(d.hitShowPaywall({paywalledItem:e})),o)n();else{try{t?.finalPrice?await(0,Te.S)({show_uri:e,currency:t.finalPrice.currency,price:t.finalPrice.amount}):r(l.Ru.get("error.generic"))}catch(e){r(l.Ru.get("error.generic"))}n()}}),2e3,{leading:!0,trailing:!1});return(0,q.jsx)(je.$,{size:a,className:Be,style:{flexShrink:0},onClick:u,children:c?l.Ru.get("web-player.audiobooks.buyFree"):l.Ru.get("web-player.audiobooks.buy")})}const _e=({uri:e,isLocked:t,price:a,isPlaying:i,isConsumptionCapped:s,onPlayback:n,logger:r,spec:o,size:l="large"})=>t&&!s?(0,q.jsx)(Me,{size:l,uri:e,price:a,logger:r,spec:o,onPlayback:n}):(0,q.jsx)(Ee.D,{size:l,isPlaying:i,uri:e,onClick:n});var Le=a(86568),Fe=a(29368),De=a(39566),Ue=a(24533),Oe=a(35035),ze=a(21549);const Ve="8px",He=i.memo((function({backgroundColor:e,uri:t,name:a,isPlaying:s,togglePlay:n,isLocked:r,isSaved:o,consumptionCapExplanation:c,price:d,spec:u,isExplicit:m,publishDate:p,preReleaseEndDateTime:g,duration:x}){const[y,f]=(0,Ue.A)(t,o),C=!(0,De.n)(),{isPreRelease:w}=ke(),k=(0,h.wA)(),S=(0,$.s)(),P=(0,Le.d$)(),{spec:R,logger:E}=(0,ze.r)(Z.e,{data:{uri:t}});(0,i.useEffect)((()=>{P&&E.logImpression(R.impression())}),[P,E,R]);const I=(0,i.useCallback)((()=>{const e=u.saveToLibraryButtonFactory();y?S.logInteraction(e.hitUnfollow({itemToBeUnfollowed:t})):(S.logInteraction(e.hitFollow({itemToBeFollowed:t})),P&&E.logInteraction(R.hitFollow({itemToBeFollowed:t}))),f(!y)}),[t,y,u,f,S,P,E,R]),N=(0,i.useCallback)(((e,a)=>{const i=u.downloadButtonFactory();c?k((0,v._3)(c)):a===Oe.NV.ADD?S.logInteraction(i.hitDownload({itemToDownload:t})):a===Oe.NV.REMOVE?S.logInteraction(i.hitRemoveDownload({itemToRemoveFromDownloads:t})):a===Oe.NV.NO_PERMISSION&&S.logInteraction(i.hitUiReveal())}),[c,k,S,u,t]),A=(0,i.useCallback)((()=>{const e=u.contextButtonFactory().hitUiReveal();S.logInteraction(e)}),[S,u]),T=(0,Fe.j)(),B=!!c,M=!r&&!B;return(0,q.jsxs)(Q.E,{backgroundColor:e,style:{"--action-bar-padding-bottom":Ve},children:[(0,q.jsx)(J.S,{testId:"book-action-bar-metadata",children:(0,q.jsx)(be,{explicit:m,publishDate:p,preReleaseEndDateTime:g,durationMs:x,isPreRelease:w,uri:t,isPlaying:s})}),(0,q.jsxs)(J.S,{children:[w&&(0,q.jsx)(Re,{uri:t}),!w&&(0,q.jsx)(_e,{uri:t,isLocked:r,isConsumptionCapped:B,price:d,isPlaying:s,onPlayback:n,logger:S,spec:u,size:T}),!w&&(0,q.jsx)(ie.e,{children:(0,q.jsx)(ee.M,{isAdded:y,onClick:I,disabled:C,size:T,condensed:!0})},"follow-button"),(0,q.jsx)(te.I,{uri:t,onClick:N,size:T,canDownload:M}),(0,q.jsx)(j.b,{menu:(0,q.jsx)(ae.p,{uri:t,isPreRelease:w}),children:(0,q.jsx)(b.e,{label:l.Ru.get("more.label.context",a),onClick:A,size:T})})]})]})}));var We=a(65462),qe=a(43673),Ge=a(76123),Ke=a(25577),Ye=a(17843),$e=a(88711),Xe=a(46110),Ze=a(1246),Qe=a(73658),Je=a(2070),et=a(1227),tt=a(62986),at=a(98712),it=a(51354);const st="BBK_i9SHovXTLVjas0kc",nt=i.memo((function({coverArt:e,name:t,authorName:a,uri:i,backgroundColor:s,isPlaying:n,togglePlay:r,isLocked:o,price:c,isConsumptionCapped:d,logger:u,spec:m,preReleaseEndDateTime:h}){const g=(0,it.y)(),x=g===at.E.SMALL||g===at.E.XSMALL,{isPreRelease:y,setCountdownFinished:v}=ke(),b=y&&x,j=(0,q.jsx)(ae.p,{uri:i});return(0,q.jsxs)(Ke.z,{backgroundColor:s,size:y?Ke.K.XLARGE:Ke.K.DEFAULT,children:[(0,q.jsxs)(Xe.h,{children:[y&&(0,q.jsx)(Re,{uri:i}),!y&&(0,q.jsx)(_e,{uri:i,isLocked:o,price:c,isPlaying:n,isConsumptionCapped:d,onPlayback:r,logger:u,spec:m,size:"medium"}),(0,q.jsx)(We.h,{menu:j,children:(0,q.jsx)(Ze.X,{text:t,dragUri:i,dragLabel:t})})]}),!b&&(0,q.jsx)(We.h,{menu:j,children:(0,q.jsx)(Ye.K,{images:e,name:t,dragUri:i,dragMimeType:Ge.fl.AUDIOBOOKS,shape:E.u.SQUARE})}),(0,q.jsxs)($e.Y,{children:[(0,q.jsx)(Je.B,{children:l.Ru.get("web-player.audiobooks.audiobook")}),(0,q.jsx)(We.h,{menu:j,children:(0,q.jsx)(tt.mm,{canEdit:!1,onClick:()=>{},scaleAtMinWidth:tt.tw,dragUri:i,dragMimeType:Ge.fl.AUDIOBOOKS,dragLabel:t,children:t})}),y?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Qe.X,{children:(0,q.jsx)(p.E,{className:st,variant:"bodySmallBold","data-testid":"entityAuthor",children:a})}),h&&(0,q.jsx)(qe.G,{targetDate:h,images:b?e:[],imageTitle:t,onComplete:v})]}):(0,q.jsx)(et.g,{children:a})]})]})})),rt="pwjwUMaZVoJ0wBcQlIDf",ot=i.memo((({price:e})=>e.finalPrice&&e.finalListPrice?0===e.finalPrice.amount&&0===e.finalListPrice.amount?(0,q.jsxs)("div",{className:rt,children:[(0,q.jsx)(p.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:l.Ru.get("audiobook.freePriceDescription")}),(0,q.jsx)(p.E,{variant:"bodySmall",children:l.Ru.get("audiobook.freePriceExplanation")})]}):(0,q.jsxs)("div",{className:rt,children:[(0,q.jsx)(p.E,{variant:"titleSmall",semanticColor:"textBase",children:e.finalPrice.formattedPrice}),e.finalPrice.amount<e.finalListPrice.amount&&(0,q.jsx)(p.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:l.Ru.get("web-player.audiobooks.retailPrice",(0,q.jsx)("span",{style:{textDecoration:"line-through"},children:e.finalListPrice.formattedPrice}))})]}):null));var lt=a(68933),ct=a(97548),dt=a(53187),ut=a(20829),mt=a(58685),ht=a(24620);const pt="XzRW0BrBLoXKWET5f8m4",gt="ooqITYCPJKua4e5yv8_9",xt="zN8lTnSnAUSRAMPb7XYV",yt="llVyicNXe8z0QAnoRur1",vt="fCrjgF2UgDUWjtqWls4Q",bt="CLnKy_BRVtIluLfBWy5t",jt="RZa0qnXymlZCoGOdE03d",ft="RFXE57hUzWvvK4_7GX13",Ct="ALQqkJiR2lZOSYvhHesh",wt="BQwrI2BbKK4n451iu2QC",kt="VYLq_YaQVNISHPQOu2af",St=i.memo((function({name:e,duration:t,uri:a,bookName:s,usePlayContextItem:n,isChapterLocked:r,isPlayable:o,resumePositionMs:c,isFullyPlayed:d,isExplicit:u,is19PlusOnly:g,spec:x,index:y,consumptionCapExplanation:b}){const C=(0,i.useRef)(c),{isPlaying:w,togglePlay:k,isActive:P}=n({uri:a}),E=(0,$.s)(),I=(0,Ae.V)(),T=(0,h.wA)(),B=(0,mt.o)((e=>{if(e?.item?.uri===a){const t=(0,ht.s)(e)??0;return C.current=t,t}return 0})),M=(0,i.useCallback)((e=>{e.stopPropagation(),e.preventDefault()}),[]),_=(0,i.useCallback)((e=>{if(M(e),b&&!I)return void T((0,v._3)(b));const t=x.chapterBlockFactory({position:y,uri:a}).playButtonFactory();if(r)E.logInteraction(t.hitShowPaywall({paywalledItem:a}));else{const e=(0,ut.$I)({isPlaying:w,isActive:P,spec:t,logger:E,uri:a});k({loggingParams:e})}}),[b,T,y,P,I,r,w,E,x,M,k,a]),L=(0,i.useCallback)((()=>{const e=x.chapterBlockFactory({position:y,uri:a}).secondaryHitUiReveal();E.logInteraction(e)}),[y,E,x,a]),F=(0,i.useCallback)((e=>{M(e);const t=x.chapterBlockFactory({position:y,uri:a}).contextMenuFactory().hitUiReveal();E.logInteraction(t)}),[y,E,x,M,a]),D=!(r||b),U=(0,q.jsx)(lt.d,{className:m()({[gt]:P}),children:e}),O=(0,q.jsxs)("div",{className:bt,children:[u&&(0,q.jsx)(R.U,{fullText:!0}),g&&(0,q.jsx)(N.q,{size:16}),(0,q.jsxs)("div",{className:jt,children:[C.current?(0,q.jsx)(p.E,{variant:"bodySmall",className:kt,children:(0,q.jsx)(A.d,{durationMs:t.milliseconds})}):null,(0,q.jsx)(re.j,{isPlaying:w,fullyPlayed:d,durationMs:t.milliseconds,resumePositionMs:C.current,position:w?B:void 0})]})]}),z=(0,q.jsxs)("div",{className:Ct,children:[(0,q.jsx)("div",{className:wt,children:D?(0,q.jsx)(j.b,{menu:(0,q.jsx)(f.r,{uri:a}),children:(0,q.jsx)(dt.e,{className:vt,size:dt.M.xs,label:l.Ru.get("more.label.context",e),onClick:F})}):null}),(0,q.jsx)("div",{className:ft,children:(0,q.jsx)(S.R,{size:"small",version:S.H.secondary,onClick:_,isPlaying:w,ariaPlayLabel:l.Ru.get("tracklist.a11y.play",e,s),ariaPauseLabel:l.Ru.get("tracklist.a11y.pause",e,s),locked:r&&!b,disabled:!o&&!(r||b)})})]}),V=(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("hr",{className:xt,"aria-hidden":!0}),(0,q.jsx)(ct.v,{id:`chapter-${y}`,title:U,body:O,footer:z,onDoubleClick:e=>{_(e)},className:pt})]});return D?(0,q.jsx)(We.h,{menu:(0,q.jsx)(f.r,{uri:a}),onShow:L,children:(0,q.jsx)("div",{className:yt,children:V})}):(0,q.jsx)("div",{className:yt,children:V})}));var Pt=a(6444),Rt=a(62270);var Et=a(41031);const It=({bookUri:e,bookName:t,sampleUri:a,isFinishedUnlockingJourney:s,usePlayContextItem:n,spec:r,consumptionCapExplanation:o})=>{const l=function(e,t){const a=(0,Rt.T)();return(0,i.useCallback)((async(i,s)=>a.getBookContents(e,{offset:i,limit:s,doRefreshSubscription:t})),[t,a,e])}(e,s),c=(0,i.useRef)(!1),d=(0,i.useRef)(0),{isMarkedAsFinished:u}=(0,se.z)(e),[m,h]=(0,i.useState)([]),p=(0,i.useCallback)((e=>e?.uri===a),[a]),g=(0,i.useCallback)((e=>(e=>null!==e)(e)&&!p(e)),[p]),x=(0,i.useCallback)((()=>{l&&(c.current||null===d.current||(c.current=!0,l(d.current,50).then((e=>{c.current=!1,d.current=e.nextOffset,e.items.length>0&&h((t=>t.concat(e.items.filter(g))))}))))}),[l,g]);return(0,i.useEffect)((()=>{d.current=0,h([])}),[e]),(0,q.jsx)("ul",{children:(0,q.jsx)(Pt._,{onReachBottom:x,triggerOnInitialLoad:!0,children:m.map(((e,a)=>{const{name:i,duration:s,uri:l,playability:{playable:c},playedState:{playPositionMilliseconds:d,state:m},isExplicit:h,is19PlusOnly:p}=e,g=m===Et._w.Completed||u,x=function(e){return!e.playability?.playable&&(e.playability?.reason===Et.Uk.PaymentRequired||e.playability?.reason===Et.Uk.Anonymous)}(e);return(0,q.jsx)(St,{name:i,duration:s,uri:l,bookName:t,usePlayContextItem:n,isPlayable:c,isChapterLocked:x,consumptionCapExplanation:o,resumePositionMs:d,isFullyPlayed:g,isExplicit:h,is19PlusOnly:p,spec:r,index:a},l)}))})})};var Nt=a(91182),At=a(58337),Tt=a(38501),Bt=a(88007),Mt=a(17918),_t=a(84287);const Lt="_yl4tOZxcpoUt28k6B8I",Ft="lcJflizNrSwDM9yPNk6h",Dt="ret7iHkCxcJvsZU14oPY",Ut=({rating:e,className:t,onClick:a})=>{if(!e)return null;const i=Boolean(e.rating?.rating);return(0,q.jsxs)("button",{className:m()(Lt,t),onClick:a,children:[(0,q.jsx)(w.Z,{dir:"auto",variant:"mestoBold",children:e.averageRating?.showAverage?l.Ru.formatNumber(e.averageRating.average,{maximumFractionDigits:1}):l.Ru.get("web-player.audiobooks.noRating")}),i?(0,q.jsx)(Mt.j,{iconSize:16,className:m()(Ft)}):(0,q.jsx)(_t.a,{iconSize:16,className:m()(Ft)}),e.averageRating?.showAverage&&(0,q.jsxs)(w.Z,{variant:"mesto",className:m()(Dt),children:["(",l.Ru.formatNumberCompact(Number(e.averageRating.totalRatings)),")"]})]})};var Ot=a(622),zt=a(28340),Vt=a(25357),Ht=a(56970);const Wt={shuffle:!1,repeat:Vt.p.REPEAT_NONE},qt=i.memo((function({metadata:e}){const{uri:t,coverArt:a,name:n,htmlDescriptionPlain:o,authorName:d,sample:u,narrators:w,rating:k,isExplicit:S,duration:P,copyrights:R,publishDate:E,price:I,isLocked:N,isSaved:A,consumptionCapExplanation:B,signifierText:M,resumeEpisodeLink:_,topics:L,isPreRelease:F,preReleaseEndDateTime:D}=e,{search:U}=(0,s.zy)(),O=!!new URLSearchParams(U).get("isUnlockingAudiobook"),z=!(!(0,Ot.Z)(O)||O),V=(0,Ae.V)(),H=(0,At.H)(a[0]?.url),W=(0,h.wA)(),Y=(0,g.NC)(Tt.NzS,{loadingValue:!1}),{spec:$,logger:Z}=(0,ze.r)(x.U,{data:{uri:t,identifier:r.$h.PODCAST_SHOW_AUDIOBOOK}}),{spec:Q,logger:J}=(0,ze.r)(x.U,{data:{uri:t,identifier:r.$h.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK}}),{spec:ee,logger:te}=(0,ze.r)(y.Y,{data:{uri:t,identifier:r.$h.PODCAST_SHOW_AUDIOBOOK}}),ae=(0,i.useMemo)((()=>$.actionBarFactory()),[$]),ie=(0,i.useMemo)((()=>Q.aboutSectionFactory()),[Q]),se=(0,i.useMemo)((()=>$.chapterListFactory()),[$]);(0,i.useEffect)((()=>{N&&te.logImpression(ee.impression())}),[ee,te,N]);const{isPlaying:ne,togglePlay:re,usePlayContextItem:ge,isActive:xe,triggerPlay:ye}=(0,zt.P)({uri:t},{featureIdentifier:"audiobook"},Wt),{togglePlay:ve,isPlaying:be,isActive:je}=(0,zt.P)({uri:u?.uri??"",pages:[{items:[{uri:u?.uri??"",uid:u?.uri??"",type:T.c.CHAPTER,provider:null,metadata:F?{is_pre_release:"true",type:"trailer"}:void 0}]}]},{featureIdentifier:"audiobook"},Wt),fe=ne&&!be,Ce=xe&&!je,ke=(0,i.useCallback)((async()=>{const e=$.actionBarFactory().playButtonFactory();if(B&&!V)return Z.logInteraction(e.hitShowPaywall({paywalledItem:t})),void W((0,v._3)(B));if(!N||V)if(V)re();else{const a=(0,ut.$I)({isPlaying:fe,isActive:Ce,spec:e,logger:Z,uri:t});Ce?re({loggingParams:a}):ye({skipTo:_?{uri:_}:void 0,loggingParams:a})}}),[$,B,V,N,Z,t,W,re,fe,Ce,ye,_]),Se=(0,i.useCallback)((()=>{u?.uri&&ve()}),[ve,u?.uri]),Pe=(0,i.useCallback)((()=>{const a=ie.ratingButtonFactory().hitUiReveal();J.logInteraction(a),W((0,v.eH)(t,e))}),[ie,W,e,J,t]),Re=(0,it.y)(),Ee=N&&!B&&I;return(0,q.jsx)("section",{className:oe,children:(0,q.jsxs)(we,{isPreRelease:F,children:[(0,q.jsx)(c.Q,{children:(0,Ht.hV)({showOrAudiobookName:n,type:"Audiobook"})}),(0,q.jsx)(Nt.c,{artistOrShow:d,title:n,uri:t,entityType:Nt.p.AUDIOBOOK}),(0,q.jsx)(nt,{name:n,authorName:d,uri:t,coverArt:a,backgroundColor:H,togglePlay:ke,isPlaying:fe,isLocked:N,isConsumptionCapped:!!B,price:I,logger:Z,spec:$.actionBarFactory(),preReleaseEndDateTime:D}),(0,q.jsx)(He,{name:n,backgroundColor:H,uri:t,togglePlay:ke,isPlaying:fe,isLocked:N,isSaved:A,consumptionCapExplanation:B,isExplicit:S,duration:P,publishDate:E,preReleaseEndDateTime:D,price:I,spec:ae}),(0,q.jsxs)("div",{className:m()(le,"contentSpacing",{[ce]:Re===at.E.LARGE}),children:[(0,q.jsxs)("div",{className:de,children:[(0,q.jsxs)("div",{className:pe,children:[M&&(0,q.jsx)(p.E,{variant:"bodyMedium",as:"p",semanticColor:"textBrightAccent",children:M}),!M&&Ee&&(0,q.jsx)(ot,{price:I})]}),(0,q.jsx)(X,{htmlDescription:o,narrators:w,spec:ie,isPreRelease:F??!1})]}),(0,q.jsxs)("div",{className:ue,children:[u?.isPlayable&&(0,q.jsx)(K,{label:l.Ru.get("audiobook.page.sample"),images:u.coverArt,title:u.name,duration:u.duration.milliseconds,moreButton:N?null:(0,q.jsx)(j.b,{menu:(0,q.jsx)(f.r,{uri:u.uri}),children:(0,q.jsx)(b.e,{})}),onClick:Se,isPlaying:be,isActive:je,size:G.LARGE,contentRating:u.contentRating?.label,isPlayable:u.isPlayable}),!F&&(0,q.jsx)("div",{className:me,children:(0,q.jsx)(Ut,{rating:k,onClick:Pe})}),L.length>0&&(0,q.jsx)(C.N,{topics:L})]}),(0,q.jsxs)("div",{className:he,children:[!F&&(0,q.jsx)(It,{bookUri:t,bookName:n,sampleUri:u?.uri,isFinishedUnlockingJourney:z,usePlayContextItem:ge,spec:se,consumptionCapExplanation:B},`${t}-${N}-${!!B}`),Y&&(0,q.jsx)(Bt.Z,{copyrights:R})]})]})]})})}));var Gt=a(2983),Kt=a(29454),Yt=a(86236);const $t=({uri:e,name:t,isSaved:a,backgroundColor:s,spec:n})=>{const r=(0,$.s)(),o=!(0,De.n)(),[c,d]=(0,Ue.A)(e,a),u=(0,Le.d$)(),{spec:m,logger:h}=(0,ze.r)(Z.e,{data:{uri:e}});(0,i.useEffect)((()=>{u&&h.logImpression(m.impression())}),[u,h,m]);const p=(0,i.useCallback)((()=>{const t=n.followButtonFactory();r.logInteraction(c?t.hitUnfollow({itemToBeUnfollowed:e}):t.hitFollow({itemToBeFollowed:e})),!c&&u&&h.logInteraction(m.hitFollow({itemToBeFollowed:e})),d(!c)}),[e,c,n,r,d,u,h,m]),g=(0,i.useCallback)((()=>{r.logInteraction(n.contextButtonFactory().hitUiReveal())}),[r,n]),x=(0,Fe.j)();return(0,q.jsx)(Q.E,{backgroundColor:s,children:(0,q.jsxs)(J.S,{children:[(0,q.jsx)(ie.e,{children:(0,q.jsx)(Yt.W,{isFollowing:c,onClick:p,disabled:o})},"follow-button"),(0,q.jsx)(j.b,{menu:(0,q.jsx)(Kt.H,{uri:e}),onShow:g,children:(0,q.jsx)(b.e,{label:l.Ru.get("more.label.context",t),size:x})})]})})};var Xt=a(87150),Zt=a(79784),Qt=a(34901),Jt=a(42814),ea=a(68750),ta=a(13353),aa=a(555),ia=a(21082),sa=a(29195);const na="BknvXMyUnN3fQCz8mvLI",ra="slMInsl3HL9_02zHT22R",oa="40px",la=({leavebehinds:e})=>{let t;return 1===e.length&&(t=(0,q.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser})),2===e.length&&(t=l.Ru.get("podcast-ads.recent_ads_just_two",(0,q.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,q.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),e.length>2&&(t=l.Ru.get("podcast-ads.recent_ads_more_than_two",(0,q.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,q.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),(0,q.jsxs)(p.E,{variant:"bodySmall",semanticColor:"textSubdued","data-testid":"show-leavebehinds-text",children:[l.Ru.get("podcast-ads.recent_ads_from"),t]})},ca=({leavebehinds:e,uri:t,surface:a})=>{const s=(0,sa.vh)();if((0,i.useEffect)((()=>{t&&e.length>0&&s.send((0,Jt.x)({leavebehind_request_id:e[0].requestId,event:"event_viewed",event_reason:`viewed_on_${(0,ea.Fh)(a).toLowerCase()}`,surface:(0,ea.Fh)(a),uri:t}))}),[s,e,t,a]),0===e.length)return null;const n=(0,o.o_h)(t)?.id,r=1===e.length?e[0].clickthroughUrl:(0,ta.q)(n),c=aa.Qd,d=e.length>c,u=e.length-(c-1),m=e.slice(0,d?c-1:c);return(0,q.jsx)(ia.N,{to:r,pathname:e.length>1?r:void 0,state:{uri:t},className:ra,onClick:()=>s.send((0,Jt.x)({leavebehind_request_id:e[0].requestId,event:"event_clicked",event_reason:"cta_see_all",surface:(0,ea.Fh)(a),uri:t})),"data-testid":"show-leavebehinds-container",children:(0,q.jsx)(ct.v,{layout:"wide",variant:"tinted",size:"xl",id:"show-leavebehinds",title:(0,q.jsxs)("div",{className:na,"data-testid":"show-leavebehinds-logos-container",children:[m.map((e=>(0,q.jsx)(Zt.C,{"data-testid":"show-leavebehind-image",src:e.displayImage.src,alt:e.displayImage.alt,imageHeight:oa,imageWidth:oa},e.adId))),d?(0,q.jsx)(da,{"data-testid":"show-leavebehinds-more-count-indicator",variant:"tinted",minBlockSize:oa,borderRadius:"4px",padding:"6px",children:(0,q.jsx)(p.E,{variant:"bodyMedium","data-testid":"show-leavebehinds-more-count-indicator-text",children:l.Ru.get("podcast-ads.show_more_indicator",u)})}):null]}),body:(0,q.jsx)(la,{leavebehinds:e})})})};var da=(0,Xt.Ay)(Qt.a).withConfig({displayName:"LeavebehindsPreview___StyledBox",componentId:"sc-qakd80-0"})({backgroundColor:"#121212",width:"40px",display:"flex",alignItems:"center",justifyContent:"center"}),ua=a(64652);const ma=ea.ui.SHOW_PAGE;function ha({uri:e}){const{data:t,error:a,getLeavebehinds:s}=(0,ua.A)({surface:ma,uri:e});(0,i.useEffect)((()=>{s()}),[s]);const n=(0,i.useMemo)((()=>t?(0,aa.iT)(t,e):[]),[t?.requestId]);return a||t?.leavebehindAds&&t?.leavebehindAds?.length<1?null:(0,q.jsx)(ca,{leavebehinds:n,uri:e,surface:ma})}var pa=a(91676),ga=a(90559),xa=a(74024),ya=a(64094),va=a(30343),ba=a(78464),ja=a(41755),fa=a(71056),Ca=a(80895),wa=a(92255),ka=a(16717);const Sa=({className:e,title:t,uri:a})=>{const{data:i}=(0,ja.v)({uri:a}),s=i?.seoRecommendedPodcast.totalCount,n=i?.seoRecommendedPodcast.items,r=function(e){return(e||[]).filter((e=>(0,Ca.K)(e.data)))}(n);if(0===s)return null;const c=(0,o.o_h)(a)?.id;return(0,q.jsx)(wa.$,{className:e,title:t,seeAllLabel:l.Ru.get("shelf.see-all"),total:s,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${c}:more-like-this`,children:r?.map((({data:e},t)=>(0,q.jsx)(va.o,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],publisher:e.publisher?.name??"",sharingInfo:null,mediaType:(0,ka.w)(e.mediaType),index:t},e.uri)))})},Pa=e=>{const t=(0,fa.D)({entityType:T.c.SHOW,componentType:"shelf",uri:e.uri});return(0,q.jsx)(ba.s,{onError:t,children:(0,q.jsx)(Sa,{...e})})};var Ra=a(62814),Ea=a(88986),Ia=a(3520),Na=a(47186),Aa=a(55645),Ta=a(26413);const Ba=(0,i.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),Ma=i.memo((function({uri:e,children:t}){return(0,q.jsx)(Ta.E,{uri:e,defaultState:[],sortContext:Ba,localStorageKey:"showFilterParams-v2",children:t})}));var _a=a(96057);const La={field:_a.WY.PUBLISH_DATE,order:_a.AX.DESC},Fa={field:_a.WY.PUBLISH_DATE,order:_a.AX.ASC},Da=Fa,Ua={episodic:La,sequential:Fa,recent:La};function Oa(){return new Map([[La,{key:"newest-to-oldest",value:l.Ru.get("shows.sort.newest-to-oldest")}],[Fa,{key:"oldest-to-newest",value:l.Ru.get("shows.sort.oldest-to-newest")}]])}function za(e){return Ua[e]}const Va=(0,i.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowSortProvider")},sortState:za("recent")}),Ha=e=>{const t=Oa();return Array.from(t.keys()).some((({field:t})=>t===e?.field))},Wa=i.memo((function({uri:e,children:t,defaultSortParam:a}){return(0,q.jsx)(Ta.E,{uri:e,defaultState:a,sortContext:Va,localStorageKey:"showSortParam",validator:Ha,children:t})}));var qa=a(55926),Ga=a(44672),Ka=a(13295),Ya=a(88308);const $a="ysJC093hc_2ixGCy40_s",Xa="mJP3Bamg3hN7S0p7XKfN",Za="clPqCj1L_KSfoVuTuP6x",Qa="vqQmhCMZq7eUtTV7YYOQ",Ja=i.memo((function({showMetadata:e,usePlayContextItem:t}){const{sortState:a}=(0,i.useContext)(Va),{sortState:s}=(0,i.useContext)(Ba),n=function(e,t,a){const i=(0,Rt.T)(),{canSort:s}=i.capabilities,n=(0,Ya.U0)((async(s,n)=>i.getContents(e,{offset:s,limit:n,sort:t,filters:a})),[i,e,t,a]),r=(0,Ya.U0)((async(t,a)=>i.getContents(e,{offset:t,limit:a})),[i,e]);return s?n:r}(e.uri,a,s),r=(0,qa.c)(),o=r?6:50,[c,d]=(0,i.useState)(o),u=(0,i.useCallback)((async(e,t)=>{const a=await n(e,t);return{items:a.items,totalLength:a.totalCount}}),[n]),{getItems:m,nrValidItems:h}=(0,Ka.E)({fetch:u,nrItems:o,limit:50}),g=(0,i.useCallback)((()=>{d((e=>e+o))}),[o]),x=r&&h>c,y=(0,Aa.x)(e.uri);return(0,q.jsxs)(Ga.pZ,{value:"track-list",children:[(0,q.jsx)(Pt._,{onReachBottom:r?void 0:g,children:m(0,c-1).map(((a,i)=>a&&(0,q.jsxs)("div",{className:Xa,children:[(0,q.jsx)("hr",{className:$a,"aria-hidden":!0}),(0,q.jsx)(Ea.q,{index:i,episode:a,showMetadata:e,usePlayContextItem:t},`${a.uri}/${i}`)]},`${i}${a.uri}`)))}),x&&(0,q.jsx)("div",{className:Za,children:(0,q.jsxs)(Ia.v,{onClick:()=>{g(),y({category:Aa.J.LoadMore})},className:Qa,children:[(0,q.jsx)(p.E,{variant:"bodySmallBold",children:l.Ru.get("internal-link-recommender.load-more-episodes")}),(0,q.jsx)(Na.V,{size:"xsmall"})]})})]})}));var ei=a(67239);const ti={field:_a.K$.ISPLAYED,operator:_a.uj.EQUALS,value:!1},ai={field:_a.K$.STARTEDPLAYING,operator:_a.uj.GREATER_THAN,value:0};const ii="all-episodes",si=({onFilter:e})=>{const{sortState:t,setSortState:a}=(0,i.useContext)(Ba),s=new Map([[ti,{key:"is-played",value:l.Ru.get("shows.filter.unplayed")}],[ai,{key:"started-playing",value:l.Ru.get("shows.filter.in-progress")}]]),n=Array.from(s.values());n.unshift({key:ii,value:l.Ru.get("mwp.podcast.all.episodes")});const r=Array.from(s.keys()),o=(0,i.useCallback)((t=>{if(t===ii)a([]);else{const e=r.find((e=>s.get(e)?.key===t));e&&a([e])}e()}),[e,a,r,s]);if(!s.size||!r)return null;let c=n[0];const d=Array.from(s.entries()).filter((e=>t?.some((t=>t.field===e[0].field&&t.operator===e[0].operator))));return d.length>0&&(c=d[0][1]),(0,q.jsx)(ei.g,{options:n,onSelect:e=>o(e),selected:c,variant:"bodyMediumBold",semanticColor:"textBase",heading:l.Ru.get("drop_down.filter_by")})},ni=({onSort:e})=>{const{sortState:t,setSortState:a}=(0,i.useContext)(Va),s=Oa(),n=Array.from(s.values()),r=Array.from(s.keys()),o=(0,i.useCallback)((t=>{const i=r.find((e=>s.get(e)?.key===t));i&&a(i),e()}),[r,e,s,a]);if(!s.size||!t)return null;const c=Array.from(s.keys()).find((e=>e.field===t.field&&e.order===t.order));if(!c)return null;const d=s.get(c);return d?(0,q.jsx)(ei.g,{options:n,onSelect:e=>o(e),selected:d,heading:l.Ru.get("drop_down.sort_by")}):null},ri="bOAvdKi0zqyA_S6ThcvF",oi="jVWq1orbpiIK34UFHkFb",li="gYTsg8kvcGmu41_lilIb",ci="GMHh7OED_Nijo4zzSfrb",di="sNEwCEh44Lapg36PnVFw",ui="SoIsw3P_1RnUtFBHs_2d",mi="OMG3QMzpwer8oWsiJpzs",hi="r0yVSge7A1iSTNfudfyV",pi="yP6EeRtQJeqKq10IsMxn",gi="MIaGJ1KyQ3JLblOjWL19",xi="p8WHC1qBUrwrBwzp_vYY",yi="Uzyuaxpkm_Gwb6jOGbva",vi="TSNj_F4gGzCuxrzx6n98",bi="E4HX0M3aD0MY5dUCKSCb",ji="CbSqM7wDwoLFnyIo1iKL",fi="c0h80mSMc3PkNlHX0DYs",Ci="SGGetEMTKgQk1aJvG4k9",wi="ne3ntrWAoMrE6_4A23Mf",ki=({spec:e})=>{const t=(0,$.s)(),{canSort:a,canFilter:s}=(0,Rt.T)().capabilities,n=(0,i.useCallback)((()=>{t.logInteraction(e.episodeListFactory().filterButtonFactory().hitFilter())}),[t,e]),r=(0,i.useCallback)((()=>{t.logInteraction(e.episodeListFactory().sortButtonFactory().hitSort())}),[t,e]);return(0,q.jsxs)("div",{className:pi,children:[s&&(0,q.jsx)("div",{className:xi,children:(0,q.jsx)(si,{onFilter:n})}),!s&&(0,q.jsx)(p.E,{as:"h3",variant:"titleSmall",semanticColor:"textBase",className:yi,children:l.Ru.get("mwp.podcast.all.episodes")}),a&&(0,q.jsx)("div",{className:gi,children:(0,q.jsx)(ni,{onSort:r})})]})};var Si=a(44825),Pi=a(66583),Ri=a(61451),Ei=a(83327);const Ii=e=>{switch(e){case Et.t5.TRAILER:return l.Ru.get("podcasts.next-episode.trailer");case Et.t5.UP_NEXT:return l.Ru.get("podcasts.next-episode.up-next");case Et.t5.CONTINUE_LISTENING:return l.Ru.get("podcasts.next-episode.continue-listening");case Et.t5.FIRST_PUBLISHED:return l.Ru.get("podcasts.next-episode.first-published");case Et.t5.LATEST_PUBLISHED:return l.Ru.get("podcasts.next-episode.latest-published");default:return}},Ni=({breakpoint:e,metadata:t,spec:a})=>{const{uri:s,trailer:r,topics:o,description:c,htmlDescription:d,rating:u}=t,x=(0,$.s)(),{spec:y,logger:b}=(0,ze.r)(n.R,{data:{uri:s}}),f=(0,i.useMemo)((()=>y.aboutSectionFactory()),[y]),w=(0,i.useMemo)((()=>a.episodeListFactory()),[a]),k=(0,h.wA)(),S=(0,g.NC)(Tt.Pfj,{loadingValue:!1}),P=(0,Ae.V)(),{sortState:R}=(0,i.useContext)(Ba),E=(0,Rt.T)(),I=(0,qa.c)(),{usePlayContextItem:N}=(0,zt.P)({uri:s,metadata:{[Ri.W.SORTING_CRITERIA]:E.getPlayerSort(Da),[Ri.W.FILTERING_PREDICATE]:E.getPlayerFilter(R)}},{featureIdentifier:"show"}),{isActive:A,isPlaying:T,togglePlay:B}=N({uri:r?.uri||""}),M=(0,i.useCallback)((e=>{const t=a.aboutSectionFactory().seeMoreButtonFactory(),i=e?t.hitUiReveal():t.hitUiHide();x.logInteraction(i)}),[x,a]),_=(0,i.useCallback)(((e,t)=>{const i=a.aboutSectionFactory().topicFactory(t).hitUiNavigate({destination:t.uri});x.logInteraction(i)}),[x,a]),L=r?{name:r.name,uri:r.uri,audio:{items:r.audio.items.map((e=>({url:e.url})))}}:null,F=(0,Ea.B)(t),D=(0,Si.C)(L,F),U=(0,i.useCallback)((()=>{r?.uri&&(P?D():B())}),[D,P,B,r?.uri]),{ref:O,breakpoint:z}=(0,Pi.x)({[at.E.MEDIUM]:0,[at.E.LARGE]:600}),V=o.length>0,H=c||d,W=H||V,X=t.nextBestEpisode?.type===Et.t5.LATEST_PUBLISHED&&S,Z=(0,ga.z)(),Q=(0,ga.$)(),J=`${s}|[]`,ee=(0,xa.A)(J),te=!Z&&!Q;return(0,i.useEffect)((()=>{te&&ee()}),[J,ee,te]),(0,q.jsxs)("div",{className:m()(oi,"contentSpacing",{[ci]:e===at.E.LARGE}),ref:O,children:[(0,q.jsx)(Ra.q,{className:li,gatedEntityCoverArt:t.gatedEntityCoverArt,gatedEntityRelations:t.gatedEntityRelations,upsellExplanation:t.upsellExplanation,hasAccess:t.hasGatedEntityRelationAccess,showCoverArt:!0}),(0,q.jsxs)("div",{className:di,children:[W&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(p.E,{as:"h3",variant:"titleSmall",semanticColor:"textBase",className:yi,children:l.Ru.get("artist.about")}),H&&(0,q.jsx)(Y.N,{maxLines:4,content:(c||"").trim(),onExpanded:M,htmlContent:d||void 0}),r&&(0,q.jsx)(We.h,{menu:(0,q.jsx)(pa.b,{uri:r.uri,showUri:s,sharingInfo:r.sharingInfo}),children:(0,q.jsx)(K,{label:l.Ru.get("track-trailer"),className:vi,images:r.coverArt,title:r.name,duration:r.duration.milliseconds,moreButton:(0,q.jsx)(j.b,{menu:(0,q.jsx)(pa.b,{uri:r.uri,sharingInfo:r.sharingInfo,showUri:s}),children:(0,q.jsx)(dt.e,{})}),onClick:U,isPlaying:T,isActive:A,size:G.LARGE,contentRating:r.contentRating?.label})}),(0,q.jsxs)("div",{className:ji,children:[u&&(0,q.jsx)("div",{className:fi,children:(0,q.jsx)(Ut,{rating:u,onClick:()=>{const e=f.ratingButtonFactory().hitUiReveal();b.logInteraction(e),k((0,v.eH)(s,t))}})}),V&&(0,q.jsx)(C.N,{topics:o,className:Ci,onClick:_})]})]}),(0,q.jsx)(ha,{uri:s})]}),(0,q.jsx)(it.o.Provider,{value:z,children:(0,q.jsxs)("div",{className:m()(mi,{[hi]:I}),"data-testid":"show-all-episode-list",children:[t.nextBestEpisode&&!X&&(0,q.jsx)(Ea.q,{showMetadata:t,episode:t.nextBestEpisode.data,usePlayContextItem:N,status:Ii(t.nextBestEpisode.type),variant:"next-best-episode"}),(0,q.jsx)(ki,{spec:a}),(0,q.jsx)(Ei.r,{spec:w,children:(0,q.jsx)(Ja,{showMetadata:t,usePlayContextItem:N})})]})}),(0,q.jsx)(Bt.Z,{copyrights:[]}),(0,q.jsxs)("div",{className:ui,children:[Z&&(0,q.jsx)(ya.w,{uri:s,title:l.Ru.get("internal-link-recommender.popular-episodes"),"data-testid":"popular-episodes-above"}),I&&(0,q.jsx)(Pa,{title:l.Ru.get("internal-link-recommender.more-podcasts-like-this"),uri:s,className:wi}),Q&&(0,q.jsx)(ya.w,{uri:s,title:l.Ru.get("internal-link-recommender.popular-episodes"),"data-testid":"popular-episodes-below"})]})]})},Ai=i.memo(Ni);var Ti=a(87018),Bi=a(25493);const Mi=({reason:e})=>{const t=function(e){switch(e){case"OTP":return l.Ru.get("podcasts.subscriber-indicator.otp");case"SUBSCRIPTION":return l.Ru.get("podcasts.subscriber-indicator.subscription");default:return""}}(e);return t?(0,q.jsx)(p.E,{variant:"bodySmall",semanticColor:"textBase",className:bi,children:t}):null};const _i=({metadata:e,backgroundColor:t})=>{const{uri:a,coverArt:i,name:s,podcastType:n,publisherName:r,gatedContentAccessReason:o}=e,c=(0,q.jsx)(Kt.H,{uri:a});return(0,q.jsxs)(Ke.z,{backgroundColor:t,children:[(0,q.jsx)(Xe.h,{children:(0,q.jsx)(We.h,{menu:c,children:(0,q.jsx)(Ze.X,{text:s,dragUri:a,dragLabel:s})})}),(0,q.jsx)(Ti.X,{children:(0,q.jsx)(We.h,{menu:c,children:(0,q.jsx)(Bi.b,{loading:"eager",name:s,images:i,placeholderType:"show",shape:Bi.u.SQUARE})})}),(0,q.jsxs)($e.Y,{children:[(0,q.jsxs)(Je.B,{children:["SHOW"===n?l.Ru.get("type.show"):l.Ru.get("type.podcast"),o&&(0,q.jsx)(Mi,{reason:o})]}),(0,q.jsx)(We.h,{menu:c,children:(0,q.jsx)(tt.mm,{dragUri:a,dragLabel:s,scaleAtMinWidth:tt.tw,children:(0,q.jsx)("span",{"data-testid":"show-title",children:s})})}),(0,q.jsx)(et.g,{children:r})]})]})};var Li=a(12755),Fi=a(33449),Di=a(66339),Ui=a(38307);const Oi=({metadata:e,showId:t})=>{const{coverArt:a,name:s,uri:r,isSaved:o}=e,{spec:l}=(0,ze.r)(n.R,{data:{uri:r}}),d=(0,i.useMemo)((()=>l.actionBarFactory()),[l]),u=(0,At.H)(a[0]?.url||null),m=(0,it.y)();return(0,q.jsxs)("section",{className:ri,children:[(0,q.jsx)(c.Q,{children:(0,Ht.hV)({showOrAudiobookName:s,type:"Podcast"})}),(0,q.jsx)(Nt.c,{artistOrShow:s,uri:r,entityType:Nt.p.PODCAST}),(0,q.jsx)(_i,{metadata:e,backgroundColor:u}),(0,q.jsx)($t,{uri:r,name:s,isSaved:o,backgroundColor:u,spec:d}),(0,q.jsx)(Ai,{breakpoint:m,metadata:e,showId:t,spec:l})]})},zi=(0,i.memo)((function(){const{showId:e=""}=(0,s.g)(),t=`spotify:show:${e}`,{data:a,error:n,redirectUri:c}=(0,Se.W)(t),{data:u,isLoading:m}=(0,Di.r)(t);if(c){const e=(0,o.Lce)(c);return(0,q.jsx)(Gt.$,{to:e.toURLPath(!0)})}const h=a&&(0,Et.Go)(a);return!a||m||n?n instanceof Ui.W?(0,q.jsx)(d.LoadingPage,{hasError:!0,errorMessage:l.Ru.get("error-page.not-available-in-region.title")}):(0,q.jsx)(d.LoadingPage,{hasError:!!n,errorMessage:l.Ru.get("error.not_found.title.page")}):h?(0,q.jsx)(i.Suspense,{fallback:null,children:(0,q.jsx)(Li.u,{pageId:r.$h.PODCAST_SHOW_AUDIOBOOK,uri:t,children:(0,q.jsx)(Fi.d,{dynamicColors:u,children:(0,q.jsx)(qt,{metadata:a},`${!!a.consumptionCapExplanation}`)})})}):(0,q.jsx)(i.Suspense,{fallback:null,children:(0,q.jsx)(Li.u,{pageId:r.$h.PODCAST,uri:t,children:(0,q.jsx)(Ma,{uri:a.uri,children:(0,q.jsx)(Wa,{uri:a.uri,defaultSortParam:za(a.consumptionOrder),children:(0,q.jsx)(Fi.d,{dynamicColors:u,children:(0,q.jsx)(Oi,{showId:e,metadata:a})})})})})})}))},47160:(e,t,a)=>{a.d(t,{a:()=>r});var i=a(29324),s=a(43389),n=a(62021);const r=()=>{const[e,t]=(0,n.x)("view-mode",s.I.LIST);let a=e;return i.p.includes(a)||(a=s.I.LIST),{viewMode:a,isCompactMode:a===s.I.COMPACT,setViewMode:t}}},61147:(e,t,a)=>{a.d(t,{a:()=>i.a});var i=a(47160)},43389:(e,t,a)=>{a.d(t,{I:()=>i});let i=function(e){return e.LIST="list",e.COMPACT="compact",e}({})},19870:(e,t,a)=>{a.d(t,{$:()=>s});var i=a(30758);const s=(e,t)=>{const a=(0,i.useRef)(e);(0,i.useEffect)((()=>{a.current=e}),[e]),(0,i.useEffect)((()=>{let e;function i(){e&&clearInterval(e)}if(null!==t)return e=setInterval((function(){a.current(i)}),t),i}),[t])}},15838:(e,t,a)=>{a.d(t,{b:()=>n});var i=a(16157),s=a(35035);const n=({downloadAvailability:e,isExplicit:t,isMOGEFRestricted:a,contentRating:n,isPaywalled:r,isEnhanced:o,hasAssociatedVideo:l})=>{let c=0;const d={download:!1,explicit:!1,nineteen:!1,paid:!1,enhanced:!1,hasAssociatedVideo:!1};return e===s.kw.YES&&(d.download=!0,c++),(t&&!a||n===i.x7.Explicit)&&(d.explicit=!0,c++),(a||n===i.x7.NineteenPlus)&&(d.nineteen=!0,c++),r&&(d.paid=!0,c++),o&&(d.enhanced=!0,c++),l&&(d.hasAssociatedVideo=!0,c++),{badges:d,hasBadges:c>0}}}}]);
//# sourceMappingURL=xpui-routes-show.js.map