"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2391],{50845:(e,t,s)=>{s.d(t,{U:()=>d});var i=s(30758),n=s(9856),r=s.n(n),l=s(422),a=s(28956),o=s(86070);const c=e=>{switch(e){case"mod":return"macOS"===r().getParser(window.navigator.userAgent).getOSName()?"⌘":"Ctrl";case"command":return"⌘";case"alt":return"macOS"===r().getParser(window.navigator.userAgent).getOSName()?"⌥":"Alt";case"shift":case"ctrl":case"space":return e[0].toUpperCase()+e.slice(1);case"up":return"↑";case"right":return"→";case"down":return"↓";case"left":return"←";default:return e.toUpperCase()}},d=(0,i.memo)((function({children:e}){return(0,o.jsx)(l.E,{as:"kbd",variant:"bodyMedium",className:a.A.key,children:c(e)})}))},14036:(e,t,s)=>{s.d(t,{l:()=>u});var i=s(97500),n=s.n(i);const r="x-toggle-wrapper",l="x-toggle-indicator",a="JCFCfOY_6UEZZSOO2xrl",o="x-toggle-indicatorWrapper",c="x-toggle-input";var d=s(86070);const u=({value:e,disabled:t,onSelected:s,id:i,className:u,condensed:h=!1,inputRef:g})=>(0,d.jsxs)("label",{className:n()(r,u),children:[(0,d.jsx)("input",{id:i,className:c,type:"checkbox",disabled:t,checked:e,onChange:e=>{const t=e.target.checked;s(t)},ref:g}),(0,d.jsx)("span",{className:n()(o,{[a]:h}),children:(0,d.jsx)("span",{className:n()(l,{[a]:h})})})]})},23915:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ji});var i=s(30758),n=s(14343),r=s(56515),l=s(34766),a=s(31417),o=s(422),c=s(28506),d=s(39795),u=s(86070);function h({htmlString:e,children:t,htmlFor:s,semanticColor:n="textSubdued",variant:r="bodySmall",className:l,...a}){const{filter:h}=(0,i.useContext)(d.g);if(!t&&!e)return null;let g=t;return e&&(g=(0,u.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})),(0,u.jsx)(o.E,{as:"label",variant:r,semanticColor:n,htmlFor:s,className:l,"data-testid":a["data-testid"],children:h.length>0?(0,u.jsx)(c.M,{searchWords:[h],textToHighlight:t||e||""}):g})}var g=s(22389);const x=(e,t)=>"string"==typeof e&&"string"==typeof t?!(e.length>0)||null!==(0,g.u)(e,t):"boolean"!=typeof e||e,p=(0,i.createContext)(void 0),m=({children:e})=>{const[t,s]=(0,i.useState)(!1),[n,r]=(0,i.useState)(new Set),l=(0,i.useCallback)(((e,t)=>{r((s=>{if(s.has(e)===t)return s;const i=new Set(s);return t?i.add(e):i.delete(e),i}))}),[]),a=n.size>0;return(0,u.jsx)(p.Provider,{value:{sectionMatch:t,setSectionMatch:s,sectionContainsMatch:a,setSectionFilterMatchQueryValue:l},children:e})},j=()=>{const e=(0,i.useContext)(p);if(void 0===e)throw new Error("useSectionMatchState() must be used within a SectionFilterMatchContextProvider");return e},f="x-settings-row",y=({children:e,filterMatchQuery:t})=>{const{filter:s}=(0,i.useContext)(d.g),{setSectionFilterMatchQueryValue:n,sectionMatch:r}=j(),l=x(s,t);return(0,i.useEffect)((()=>{n(t,l)}),[l,t,n]),r||l?(0,u.jsx)("div",{className:f,children:e}):null},v="x-settings-secondColumn",w=({children:e})=>(0,u.jsx)("div",{className:v,children:e});var k=s(97500),b=s.n(k);const R="x-settings-firstColumn",S=({className:e,children:t})=>(0,u.jsx)("div",{className:b()(R,e),children:t}),C={section:"x-settings-section",hidden:"afyQ2L5zTtlSDtn9WPjd"};function M({children:e,filterMatchQuery:t}){const{filter:s}=(0,i.useContext)(d.g),{setSectionMatch:n,sectionContainsMatch:r}=j(),l=x(s,t);(0,i.useEffect)((()=>{n(l)}),[l,n]);const a=!l&&!r;return(0,u.jsx)("div",{className:b()(C.section,{[C.hidden]:a}),children:e})}function F(e){return(0,u.jsx)(m,{children:(0,u.jsx)(M,{...e})})}function N({children:e,className:t,semanticColor:s="textBase"}){const{filter:n}=(0,i.useContext)(d.g);return(0,u.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",semanticColor:s,className:t,children:(0,u.jsx)(c.M,{searchWords:[n],textToHighlight:e})})}var A=s(27301),_=s(19329);const E="ycD5EZ3ZQ05CuUV5ZMGN",Q=()=>{const{openURLWithSessionTransfer:e}=(0,_.L)();return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("web-player.settings.account"),children:[(0,u.jsx)(N,{children:a.Ru.get("web-player.settings.account")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("web-player.settings.edit-login-methods"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"web-player.settings.edit-login-methods-button",children:a.Ru.get("web-player.settings.edit-login-methods")})}),(0,u.jsx)(w,{children:(0,u.jsx)(r.n,{id:"web-player.settings.edit-login-methods-button",size:"small",className:E,onClick:()=>{e(A.Oo)},iconTrailing:l.H,children:a.Ru.get("web-player.settings.edit-login-methods-button")})})]})]})};var z=s(62411),O=s(85387),I=s(14036),L=s(91128);const T="xpVsqMQfmc20cBLG04zw",D=({dsaModeEnabled:e,setDsaModeEnabled:t})=>{const s=(0,z.wA)(),n=(0,O.zy)(),r=new URLSearchParams(n.search).get("highlight"),l=(0,i.useRef)(null);return(0,i.useEffect)((()=>{r?.includes("dsa")&&l.current&&(l.current.focus(),document.documentElement.classList.remove("no-focus-outline"))}),[r]),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("web-player.settings.personalized-recommendations"),children:[(0,u.jsxs)(S,{className:T,children:[(0,u.jsx)(h,{htmlFor:"settings.dsaMode",children:a.Ru.get("web-player.settings.personalized-recommendations")}),(0,u.jsx)(h,{htmlFor:"settings.dsaMode",variant:"marginal",children:a.Ru.get("web-player.settings.personalized-recommendations-body-text")})]}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.dsaMode",value:!e,onSelected:e=>{e?t(!e):s(L.UU.actions.open({onConfirm:()=>t(!e)}))},inputRef:l})})]})};var P=s(16273),B=s(50486),U=s(55623),K=s(29195);const q=new(s(57776).l)("changeAttributes","mutation","ac50e9d82b3b8303c73512f297140e774a69eb0d6250769b5669e69b4be28886",null);var V=s(39566),W=s(15178),H=(s(94572),s(65292));const Z=["personalizedRecommendations"],G=()=>{const{getGraphQLLoader:e}=(0,K.mv)(),t=e(),s=(0,P.jE)(),n=((0,W.g)(),(0,z.wA)()),r=!(0,V.n)(),l="1"===(0,H.$)("dsa-mode-enabled"),a="1"===(0,H.$)("dsa-mode-available"),o=(0,i.useCallback)((async e=>{if(r)throw new Error("User has to be online");await async function(e,t){const s=await e(q,{input:{dsaModeEnabled:t,birthdate:null,filterAgeRestrictedContent:null,filterExplicitContent:null,lockFilterExplicitContent:null,optInTrialPremiumOnlyMarket:null}}),{errors:i,data:n}=s||{};if(!n?.changeUserAccountAttributes)throw i&&i.length>0?new Error(`GraphQL error: ${i[0].message}`):new Error("Unknown GraphQL error!");if("ChangeUserAccountAttributesResult"!==n.changeUserAccountAttributes.__typename||"ChangeUserAccountAttributesResult"===n.changeUserAccountAttributes.__typename&&!n.changeUserAccountAttributes.success)throw new Error("Couldn't successfully set new value")}(t,e)}),[r,t]),c=(0,i.useRef)(l);c.current=l;const{data:d}=(0,B.I)({queryKey:Z,queryFn:()=>c.current});return[a??!1,d??!1,(0,U.n)({mutationFn:o,onMutate:async e=>{await s.cancelQueries({queryKey:Z});const t=s.getQueryData(Z);return s.setQueryData(Z,e),{prevState:t,newState:e}},onError:(e,t,i)=>{s.setQueryData(Z,i?.prevState),n(L.bL.actions.open())},onSuccess:()=>{0}}).mutate]},Y=({sectionAbove:e})=>{const[t,s,i]=G();return t||e?(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("web-player.settings.content-preferences"),children:[(0,u.jsx)(N,{children:a.Ru.get("web-player.settings.content-preferences")}),e,t&&(0,u.jsx)(D,{dsaModeEnabled:s,setDsaModeEnabled:i})]}):null};let J=function(e){return e.LIBRARY_COMPACT_MODE="library-compact-mode",e.NOW_PLAYING_VIEW="now-playing-view",e.CANVAS_VIDEOS="canvas-videos",e}({});var X=s(65527);const $=e=>{const{spec:t,logger:s}=(0,X.h)();return(0,i.useCallback)((i=>{i?s.logInteraction(t.settingsRowFactory({identifier:e}).hitSettingEnable()):s.logInteraction(t.settingsRowFactory({identifier:e}).hitSettingDisable())}),[e,s,t])};var ee=s(65219);const te=()=>{const[e,t]=(0,ee.j)(),s=$(J.LIBRARY_COMPACT_MODE),n=(0,i.useCallback)((e=>{s(e),t(e?ee.A.COMPACT:ee.A.DEFAULT)}),[s,t]);return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.library.compactMode"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.library.compact-mode",children:a.Ru.get("settings.library.compactMode")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.library.compact-mode",value:e===ee.A.COMPACT,onSelected:n})})]})},se=({children:e})=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("settings.library"),children:[(0,u.jsx)(N,{children:a.Ru.get("settings.library")}),e]})}),ie="_czgnX6y44Or6X9pI6gc",ne=({children:e,outerRef:t})=>(0,u.jsx)(d.s,{uri:"spotify:internal:settings",children:(0,u.jsx)("div",{ref:t,className:ie,"data-testid":"settings-page",children:e})});var re=s(40935),le=s(87621);const ae="O2vRz41OsAH0O7xVA4La",oe="y4CT4_q630fWtqu7Zggt";function ce({containerRef:e}){return(0,u.jsxs)("div",{className:ae,children:[(0,u.jsx)(o.E,{as:"h1",variant:"titleMedium",className:oe,semanticColor:"textBase",paddingBottom:re.CD,children:a.Ru.get("desktop.settings.settings")}),(0,u.jsx)("div",{children:(0,u.jsx)(le.S,{placeholder:"",alwaysExpanded:!1,clearOnEscapeInElementRef:e,debounceFilterChangeTimeout:0})})]})}const de=({settings:{values:e},setValue:t})=>navigator&&/^win/i.test(navigator.platform)?(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.compatibility"),children:[(0,u.jsx)(N,{children:a.Ru.get("desktop.settings.compatibility")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.enableHardwareAcceleration"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.enableHardwareAcceleration",children:a.Ru.get("desktop.settings.enableHardwareAcceleration")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.enableHardwareAcceleration",value:!!e["ui.hardware_acceleration"],onSelected:e=>{t("ui.hardware_acceleration",e)}})})]})]}):null;var ue=s(27607),he=s(40638);function ge(e){return`${e>0?`+${e}`:e}dB`}var xe=s(27731),pe=s(31684);function me(){const e=(0,pe.G)(),[t,s]=(0,i.useState)(e.getPreset()),n=(0,i.useCallback)((t=>{e.setPreset(t)}),[e]);return(0,i.useEffect)((()=>e.subscribeToPresetChange((e=>{s(e)})))),[t,n]}const je={wrapper:"x-settings-equalizerPanelWrapper",preset:"x-settings-equalizerPanelPreset",filters:"x-settings-equalizerPanelFilters",filter:"x-settings-equalizerPanelFilter",input:"x-settings-equalizerPanelInput",label:"x-settings-equalizerPanelLabel",gainLabel:"x-settings-equalizerPanelGainLabel",gainLabelUp:"x-settings-equalizerPanelGainLabelUp",gainLabelDown:"x-settings-equalizerPanelGainLabelDown",canvas:"x-settings-equalizerPanelCanvas"};function fe({filter:e,onChange:t}){const s=(0,pe.G)(),n=(0,i.useRef)(null),[r]=me();(0,i.useEffect)((()=>{const t=r.filters.find((t=>t.key===e.key));n.current&&t&&(n.current.value=`${t.gain}`)}),[r,e.key]),(0,i.useEffect)((()=>{n.current&&n.current.setAttribute("aria-valuetext",a.Ru.get("equalizer.filterA11yValueText",e.gain))}),[]);const l=(0,he.YQ)(((e,t)=>{s.setFilterGain(e,t)}),100,{maxWait:200});return(0,u.jsxs)("div",{className:je.filter,children:[(0,u.jsx)("input",{"aria-label":a.Ru.get("equalizer.filterLabel",e.frequency),ref:n,type:"range",min:-xe.Zs,max:xe.Zs,step:.1,defaultValue:e.gain,className:je.input,onChange:s=>{const i=parseFloat(s.target.value);s.target.setAttribute("aria-valuetext",a.Ru.get("equalizer.filterA11yValueText",i)),l(e.key,i),t(i)}}),(0,u.jsx)("label",{className:je.label,children:(o=e.frequency,o>=1e3?o/1e3+"KHz":`${o}Hz`)})]});var o}function ye(e,t){e.moveTo(t[0],t[1]);for(let s=2;s<t.length-1;s+=2)e.lineTo(t[s],t[s+1])}function ve(e){const t=.6,s=[],i=e.reduce(((e,t)=>(e.push(t.x),e.push(t.y),e)),[]);i.unshift(e[0].y),i.unshift(e[0].x),i.push(e[e.length-1].x),i.push(e[e.length-1].y);for(let e=2;e<i.length-4;e+=2)for(let n=0;n<=16;n++){const r=(i[e+2]-i[e-2])*t,l=(i[e+4]-i[e])*t,a=(i[e+3]-i[e-1])*t,o=(i[e+5]-i[e+1])*t,c=n/16,d=2*Math.pow(c,3)-3*Math.pow(c,2)+1,u=-2*Math.pow(c,3)+3*Math.pow(c,2),h=Math.pow(c,3)-2*Math.pow(c,2)+c,g=Math.pow(c,3)-Math.pow(c,2),x=d*i[e]+u*i[e+2]+h*r+g*l,p=d*i[e+1]+u*i[e+3]+h*a+g*o;s.push(x),s.push(p)}return s}var we=s(85505);function ke(e,t){const s=e.getContext("2d");s&&(s.clearRect(0,0,e.clientWidth,e.clientHeight),function(e,t,s){const i=t.clientWidth,n=t.clientHeight,r=i/s.length/2;e.beginPath();const l=e.createLinearGradient(i/2,0,i/2,n);l.addColorStop(0,"rgba(11%, 73%, 33%, 100%)"),l.addColorStop(1,"rgba(11%, 73%, 33%, 0%)"),e.fillStyle=l,ye(e,ve(s)),e.lineTo(i-r,n),e.lineTo(r,n),e.fill()}(s,e,t),function(e,t){e.beginPath(),e.strokeStyle="rgb(11%, 73%, 33%)",e.lineWidth=4,ye(e,ve(t)),e.stroke()}(s,t),function(e,t){e.fillStyle=we.ONy,t.forEach((t=>{e.beginPath(),e.arc(t.x,t.y,4,0,2*Math.PI),e.fill()}))}(s,t))}const be=60,Re=300;function Se(e,t){const s=t.clientWidth/e.length;return e.map(((e,i)=>({x:i*s+s/2,y:t.clientHeight-(e+xe.Zs+3)/(2*xe.Zs+6)*t.clientHeight})))}const Ce=()=>{const[e,t]=(0,i.useState)(window.devicePixelRatio||1);return(0,i.useEffect)((()=>{const e=()=>{matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`).addEventListener("change",(()=>{t(window.devicePixelRatio),e()}),{once:!0})};e()}),[]),e};var Me=s(99644);function Fe(e){const t=(0,i.useRef)(null),s=Ce(),n=(0,i.useCallback)((()=>{if(!t.current)return;const e=s,i=t.current.getBoundingClientRect();t.current.width=i.width*e,t.current.height=i.height*e,t.current.getContext("2d")?.scale(e,e)}),[s]),r=(0,i.useCallback)((()=>{if(!t.current||!e.current)return;const s=Se(e.current,t.current);ke(t.current,s)}),[e]),l=(0,i.useCallback)((s=>{if(!t.current||!e.current)return;const i=Se(e.current,t.current),n=Se(s,t.current);!function(e,t,s){const i=be*(Re/1e3);let n=0;const r=JSON.parse(JSON.stringify(t)),l=s.map(((e,s)=>e.y-t[s].y)),a=()=>{if(!(n>=i)){for(let e=0;e<r.length;e++){const a=t[e].y,d=l[e];r[e].y=(s=a,o=d,c=n,(c/=i/2)<1?o/2*Math.pow(c,3)+s:(c-=2,o/2*(Math.pow(c,3)+2)+s))}var s,o,c;ke(e,r),n++,window.requestAnimationFrame(a)}};window.requestAnimationFrame(a)}(t.current,i,n)}),[e]);return(0,i.useEffect)((()=>{n(),r()}),[n,r]),(0,Me.w)({refOrElement:t,onResize:()=>{n(),r()}}),{canvasRef:t,drawCanvas:r,animateCanvas:l}}function Ne(){const e=(0,pe.G)(),[t,s]=(0,i.useState)(!1),n=(0,i.useCallback)((t=>{e.setEnabledState(t)}),[e]);return(0,i.useEffect)((()=>e.subscribeToEnabledState(s)),[e]),[t,n]}function Ae(){const[e,t]=Ne(),[s,n]=me(),r=(0,i.useRef)(s.filters.map((e=>e.gain))),{canvasRef:l,drawCanvas:o,animateCanvas:c}=Fe(r);return(0,i.useEffect)((()=>{const e=s.filters.map((e=>e.gain));"custom"!==s.key&&c(e),r.current=e}),[s,c]),(0,u.jsxs)("div",{className:je.wrapper,children:[(0,u.jsx)("canvas",{"aria-label":a.Ru.get("equalizer.equalizer"),role:"img",className:je.canvas,ref:l}),(0,u.jsx)("label",{className:b()(je.gainLabel,je.gainLabelUp),children:ge(xe.Zs)}),(0,u.jsx)("label",{className:b()(je.gainLabel,je.gainLabelDown),children:ge(-xe.Zs)}),(0,u.jsx)("div",{className:je.filters,dir:"ltr",children:s.filters.map(((s,i)=>(0,u.jsx)(fe,{filter:s,onChange:s=>{r.current[i]=s,o(),e||t(!0),n((0,xe.zP)(r.current))}},s.key)))})]})}var _e=s(48570);const Ee={container:"x-settings-equalizerPresetsContainer",label:"x-settings-equalizerPresetsLabel"};function Qe(){const[e,t]=Ne(),[s,i]=me();return(0,u.jsxs)("div",{className:Ee.container,children:[(0,u.jsx)(o.E,{as:"label",variant:"bodySmall",semanticColor:"textSubdued",htmlFor:"desktop.equalizer.preset",className:Ee.label,children:a.Ru.get("equalizer.presets")}),(0,u.jsxs)(_e.C,{id:"desktop.equalizer.preset",value:s.key,onSelect:s=>{i(s),e||t(!0)},children:["custom"===s.key&&(0,u.jsx)("option",{value:s.key,children:s.displayName}),Object.entries(xe.fG).map((([e,t])=>(0,u.jsx)("option",{value:e,children:t.displayName},e)))]})]})}function ze(){const[e,t]=Ne(),[,s]=me();return(0,u.jsx)(r.n,{onClick:()=>{s(xe.fG.flat.key),e||t(!0)},size:"small",children:a.Ru.get("equalizer.reset")})}function Oe(){const[e,t]=Ne();return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("equalizer.equalizer"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.equalizer",children:a.Ru.get("equalizer.equalizer")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.equalizer",value:e,onSelected:t})})]})}var Ie=s(43329);const Le="x-settings-equalizerSection",Te="x-settings-equalizerWrapper",De="x-settings-equalizerResetButtonWrapper";function Pe(){const e=(0,pe.G)();return(0,n.NC)(Ie.AM,{loadingValue:!1})&&e.isSupported()?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Oe,{}),(0,u.jsx)(y,{filterMatchQuery:a.Ru.get("equalizer.equalizer"),children:(0,u.jsxs)("div",{className:Le,children:[(0,u.jsx)(Qe,{}),(0,u.jsx)("div",{className:Te,children:(0,u.jsx)(Ae,{})}),(0,u.jsx)("div",{className:De,children:(0,u.jsx)(ze,{})})]})})]}):null}var Be=s(38501);const Ue="x-settings-crossFadeContainer",Ke="R4qAisn3_n07n9xPJHIy",qe=12e3,Ve=({settings:{values:e},setValue:t})=>{const s=(0,n.NC)(Be.$GE),r=(0,n.NC)(Be.UrL),l=(0,n.NC)(Be.tsC),[c,d]=(0,i.useState)(-1),g=-1===c?Number(e["audio.crossfade.time_v2"]):c,x=`${Math.round(g/1e3)} ${a.Ru.get("desktop.settings.sec")}`;return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.playback"),children:[(0,u.jsx)(N,{children:a.Ru.get("desktop.settings.playback")}),void 0!==e["audio.crossfade_v2"]&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.crossfadeTracks"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.crossfadeTracks",children:a.Ru.get("desktop.settings.crossfadeTracks")}),e["audio.crossfade_v2"]&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:Ue,children:(0,u.jsx)(ue.z2,{value:g,max:qe,step:1e3,labelText:a.Ru.get("desktop.settings.crossfadeTracks"),onDragStart:e=>{d(e*qe)},onDragMove:e=>{d(e*qe)},onDragEnd:e=>{const s=Math.floor(e*qe);d(s),t("audio.crossfade.time_v2",s)}})}),(0,u.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Ke,children:x})]})]}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.crossfadeTracks",value:!!e["audio.crossfade_v2"],onSelected:e=>{t("audio.crossfade_v2",e)}})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.automixInfo"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.automixInfo",children:a.Ru.get("desktop.settings.automixInfo")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.automixInfo",value:!!e["audio.automix"],onSelected:e=>{t("audio.automix",e)}})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.monoDownmixer"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.monoDownmixer",children:a.Ru.get("desktop.settings.monoDownmixer")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.monoDownmixer",value:!!e["audio.downmixer_v2"],onSelected:e=>{t("audio.downmixer_v2",e)}})})]}),s&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.silenceTrimmer"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.silenceTrimmer",children:a.Ru.get("desktop.settings.silenceTrimmer")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.silenceTrimmer",value:!!e["audio.silence_trimmer_v2"],onSelected:e=>{t("audio.silence_trimmer_v2",e)}})})]}),r&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.dynamicNormalizer"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.dynamicNormalizer",children:a.Ru.get("desktop.settings.dynamicNormalizer")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.dynamicNormalizer",value:!!e["audio.dynamic_normalizer_v2"],onSelected:e=>{t("audio.dynamic_normalizer_v2",e)}})})]}),l&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.otfn"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.otfn",children:a.Ru.get("desktop.settings.otfn")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.otfn",value:!!e["audio.otfn_v2"],onSelected:e=>{t("audio.otfn_v2",e)}})})]}),(0,u.jsx)(Pe,{})]})};var We=s(91178),He=s(32963),Ze=s(13869);const Ge={get[We.WZ.MINIMIZED](){return a.Ru.get("desktop.settings.autostartMinimized")},get[We.WZ.NORMAL](){return a.Ru.get("desktop.settings.autostartNormal")},get[We.WZ.OFF](){return a.Ru.get("desktop.settings.autostartOff")}},Ye=(0,He.D)()===Ze.f.macOS,Je=({settings:{values:e},setValue:t})=>(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.startupAndWindowBehavior"),children:[(0,u.jsx)(N,{children:a.Ru.get("desktop.settings.startupAndWindowBehavior")}),void 0!==e["app.autostart-mode"]&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.autostart"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.autostart",children:a.Ru.get("desktop.settings.autostart")})}),(0,u.jsx)(w,{children:(0,u.jsxs)(_e.C,{id:"desktop.settings.autostart",value:e["app.autostart-mode"],onSelect:e=>{t("app.autostart-mode",e)},children:[(0,u.jsx)("option",{value:We.WZ.MINIMIZED,children:Ge[We.WZ.MINIMIZED]}),(0,u.jsx)("option",{value:We.WZ.NORMAL,children:Ge[We.WZ.NORMAL]}),(0,u.jsx)("option",{value:We.WZ.OFF,children:Ge[We.WZ.OFF]})]})})]}),!Ye&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.closeShouldMinimize"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.closeShouldMinimize",children:a.Ru.get("desktop.settings.closeShouldMinimize")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.closeShouldMinimize",value:!!e["ui.minimize_to_tray"],onSelected:e=>{t("ui.minimize_to_tray",e)}})})]})]}),Xe={"auto-detect":{label:()=>a.Ru.get("desktop.settings.proxy.autodetect")},"no-proxy":{label:()=>a.Ru.get("desktop.settings.proxy.noproxy")},http:{label:()=>a.Ru.get("desktop.settings.proxy.http")},socks4:{label:()=>a.Ru.get("desktop.settings.proxy.socks4")},socks5:{label:()=>a.Ru.get("desktop.settings.proxy.socks5")}},$e=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}];var et=s(15935);const tt="mpdBa62OP4Fr5wvCsa89",st="x-proxySettings-ProxySettings",it="x-proxySettings-fullWidth",nt="x-settings-input",rt="x-proxySettings-horizontalPair",lt=({id:e,type:t,placeHolder:s,inputRef:i,handleOnChange:n})=>(0,u.jsx)("input",{type:t||"text",id:e,"data-testid":e,className:nt,placeholder:s,ref:i,onChange:n}),at=({children:e,label:t})=>(0,u.jsx)(et.g,{label:t,className:rt,children:e}),ot="wjxwX0Alq8DVfoBObi3R";function ct({onClick:e}){return(0,u.jsx)(r.n,{className:ot,onClick:e,children:a.Ru.get("settings.restartApp")})}const dt=(e,t,s)=>{let i=`${e}:${t}`;switch(s){case 2:i+="@http";break;case 3:i+="@socks4";break;case 4:i+="@socks5"}return i},ut=({addr:e,mode:t="0",pass:s,user:n,setValue:r,restartContainer:l,fullWidth:o})=>{const c=(0,i.useRef)(null),d=(0,i.useRef)(null),h=(0,i.useRef)(null),g=(0,i.useRef)(null),x=Number(t),[p,m]=(0,i.useState)(""),[j,f]=(0,i.useState)(""),[y,v]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const[t,s]=e?.split(/[:@]+/)||["",""];m(t),f(s),c.current&&(c.current.value=t),d.current&&(d.current.value=s)}),[e]),(0,i.useEffect)((()=>{g.current&&s&&(g.current.value=s.toString())}),[s]),(0,i.useEffect)((()=>{h.current&&n&&(h.current.value=n.toString())}),[n]);const w=(0,i.useCallback)((({target:e})=>{const t=dt(e.value,j,x);m(e.value),r("network.proxy.addr",t),v(!0)}),[x,j,r]),k=(0,i.useCallback)((({target:e})=>{const t=dt(p,e.value,x);f(e.value),r("network.proxy.addr",t),v(!0)}),[x,p,r]),R=(0,i.useCallback)((({target:e})=>{r("network.proxy.user",e.value),v(!0)}),[r]),S=(0,i.useCallback)((({target:e})=>{r("network.proxy.pass",e.value),v(!0)}),[r]),C=0!==x&&1!==x,M=3!==x;return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.proxy.title"),children:[(0,u.jsx)(N,{children:a.Ru.get("desktop.settings.proxy.title")}),(0,u.jsxs)("div",{className:b()(st,o?it:null),children:[(0,u.jsx)(at,{label:a.Ru.get("desktop.settings.proxy.type"),children:(0,u.jsx)(_e.C,{id:"network.proxy.mode",value:t,onSelect:e=>{const t=parseInt(e,10);r("network.proxy.mode",t),v(!0)},children:$e.map((({enumKey:e,enumValue:t})=>(0,u.jsx)("option",{value:t,"data-testid":e,children:Xe[e]?Xe[e].label():""},e)))})}),C?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:tt,children:[(0,u.jsx)(at,{label:a.Ru.get("desktop.settings.proxy.host"),children:(0,u.jsx)(lt,{id:"network.proxy.host",handleOnChange:w,placeHolder:a.Ru.get("desktop.settings.proxy.host"),inputRef:c})}),(0,u.jsx)(at,{label:a.Ru.get("desktop.settings.proxy.port"),children:(0,u.jsx)(lt,{id:"network.proxy.port",type:"number",handleOnChange:k,placeHolder:a.Ru.get("desktop.settings.proxy.port"),inputRef:d})})]}),(0,u.jsxs)("div",{className:M?tt:void 0,children:[(0,u.jsx)(at,{label:a.Ru.get("desktop.settings.proxy.user"),children:(0,u.jsx)(lt,{id:"network.proxy.user",handleOnChange:R,placeHolder:a.Ru.get("desktop.settings.proxy.user"),inputRef:h})}),M?(0,u.jsx)(at,{label:a.Ru.get("desktop.settings.proxy.pass"),children:(0,u.jsx)(lt,{id:"network.proxy.pass",handleOnChange:S,placeHolder:a.Ru.get("desktop.settings.proxy.pass"),type:"password",inputRef:g})}):null]})]}):null,y&&(0,u.jsx)("div",{children:(0,u.jsx)(ct,{onClick:l})})]})]})};var ht=s(98293),gt=s(27236),xt=s(58493),pt=s(15420);function mt(){const e=(0,pt.B)(),[t,s]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0),[l,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const t=window.setInterval((()=>{!async function(){if(null===l){try{const t=await e.getStatistics();s(t)}catch(e){a(e instanceof Error?e:new Error("Error when fetching storage statistics."))}r(!1)}}()}),1500);return()=>clearInterval(t)}),[e,l]),[t,n,l]}const jt="x-settings-button",ft="x-settings-wordBreakAll",yt=({settings:e,setValue:t})=>{const s=(0,xt.A)(),n=(0,gt.t)(),l=!(0,V.n)(),[o,c]=(0,i.useState)(!1),d=(0,i.useCallback)((()=>{n.applyUpdate()}),[n]),[g,x,p]=mt(),m=(0,z.wA)();let j="",f="",v=0;x?(j=a.Ru.get("page.loading"),f=a.Ru.get("page.loading")):p||null===g?(j=a.Ru.get("error.generic"),f=a.Ru.get("error.generic")):(v=g.currentSizeMB-g.currentLockedSizeMB,j=` ${v} MB`,f=` ${g.currentLockedSizeMB} MB`);const k=e.values["storage.location"];return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.storage"),children:[(0,u.jsx)(N,{children:a.Ru.get("desktop.settings.storage")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.storage.downloads.heading"),children:[(0,u.jsx)(S,{children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.downloads",semanticColor:"textBase",children:a.Ru.get("desktop.settings.storage.downloads.heading")}),(0,u.jsx)(h,{htmlFor:"desktop.settings.downloads",children:f})]}),(0,u.jsx)(h,{htmlFor:"desktop.settings.downloads",children:a.Ru.get("desktop.settings.storage.downloads.text")})]})}),(0,u.jsx)(w,{children:(0,u.jsx)(r.n,{id:"desktop.settings.downloads",size:"small",onClick:()=>{m((0,ht.KB)())},disabled:l||!g||0===g.currentLockedSizeMB,className:jt,children:a.Ru.get("desktop.settings.storage.downloads.button")})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.storage.cache.heading"),children:[(0,u.jsx)(S,{children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.cache",semanticColor:"textBase",children:a.Ru.get("desktop.settings.storage.cache.heading")}),(0,u.jsx)(h,{htmlFor:"desktop.settings.cache",children:j})]}),(0,u.jsx)(h,{htmlFor:"desktop.settings.cache",children:a.Ru.get("desktop.settings.storage.cache.text")})]})}),(0,u.jsx)(w,{children:(0,u.jsx)(r.n,{id:"desktop.settings.cache",size:"small",onClick:()=>{m((0,ht.cd)())},disabled:0===v,className:jt,children:a.Ru.get("desktop.settings.storage.cache.button")})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.offlineStorageLocation"),children:[(0,u.jsx)(S,{children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.offline-storage",semanticColor:"textBase",children:a.Ru.get("desktop.settings.offlineStorageLocation")})}),(0,u.jsx)(h,{htmlFor:"desktop.settings.offline-storage",className:ft,children:k})]})}),(0,u.jsxs)(w,{children:[(0,u.jsx)(r.n,{id:"desktop.settings.offline-storage",size:"small",onClick:async()=>{const i=await s.browseForFolder();i.path&&(t("storage.location",i.path),i.path!==e.values["storage.location"]&&c(!0))},className:jt,children:a.Ru.get("desktop.settings.offlineStorageChangeLocation")}),o&&(0,u.jsx)(ct,{onClick:d})]})]})]})},vt=({settings:e,setValue:t})=>{const s=(0,gt.t)(),n=(0,i.useCallback)((()=>{s.applyUpdate()}),[s]),{values:r}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ve,{settings:e,setValue:t}),(0,u.jsx)(Je,{settings:e,setValue:t}),(0,u.jsx)(yt,{settings:e,setValue:t}),(0,u.jsx)(ut,{setValue:t,restartContainer:n,mode:r["network.proxy.mode"],addr:r["network.proxy.addr"],user:r["network.proxy.user"],pass:r["network.proxy.pass"]}),(0,u.jsx)(de,{settings:e,setValue:t})]})};var wt=s(97697),kt=s(82516);const bt="H6jjgcz7zPs9Aaaa8YIG",Rt=({settings:{values:e}})=>{const t="1"===e["dsa-mode-enabled"],s=(0,wt.t)(),[{data:i},{mutate:n}]=(0,kt.K)(s.autoPlay);return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.autoplay"),children:[(0,u.jsx)(N,{className:t?bt:void 0,semanticColor:t?"textSubdued":void 0,children:a.Ru.get("desktop.settings.autoplay")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.autoplayInfo"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"global.settings.autoplayInfo",className:t?bt:void 0,children:t?a.Ru.get("web-player.settings.autoplay-dsa-enabled"):a.Ru.get("desktop.settings.autoplayInfo")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"global.settings.autoplayInfo",value:!!i,onSelected:e=>{n(e)},disabled:t})})]})]})};var St=s(40339),Ct=s(53328),Mt=s(8428),Ft=s(48926),Nt=s(34990);const At=()=>{const[e,t]=(0,Ft.J)(),s=(0,Nt.j)(),n=$(J.CANVAS_VIDEOS),r=(0,i.useCallback)((e=>{n(e),t(e)}),[t,n]);return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.canvasVideos"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.canvasVideos",children:a.Ru.get("settings.canvasVideos")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.canvasVideos",value:e,onSelected:r,disabled:s})})]})};var _t=s(4214);const Et=()=>{const[e,t]=(0,_t.N)(),s=$(J.NOW_PLAYING_VIEW),n=(0,i.useCallback)((e=>{s(e),t(e)}),[t,s]);return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.npv"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.npv",children:a.Ru.get("settings.npv")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.npv",value:e,onSelected:n})})]})};var Qt=s(8284);const zt=()=>{const e=(0,H.$)("catalogue"),t=void 0===e||"string"==typeof e&&"free"===e.toLowerCase(),s=(0,wt.t)(),[{data:i},{mutate:r}]=(0,kt.K)(s.display.newReleasesAnnoucements),[{data:l},{mutate:o}]=(0,kt.K)(s.display.nativeNotificationOnPlayerTransition),[{data:c},{mutate:d}]=(0,kt.K)(s.display.nativeOverlayOnMediaKeys),g=(0,Qt.d)(),x=(0,n.NC)(Be.yJ8),p=g?.client_capabilities?.can_show_system_media_controls,m=g?.client_capabilities?.can_show_track_notifications,{isActive:j,panelSend:f}=(0,St.AI)(Mt.Z.BuddyFeed,Mt.Z.BuddyFeedOverlay);return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("settings.display"),children:[(0,u.jsx)(N,{children:a.Ru.get("settings.display")}),(0,u.jsx)(Et,{}),x!==Be.NtL.CONTROL&&(0,u.jsx)(At,{}),!t&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.showMusicAnnouncements"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.showMusicAnnouncements",children:a.Ru.get("settings.showMusicAnnouncements")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.showMusicAnnouncements",value:!!i,onSelected:r})})]}),m&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.showTrackNotifications"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.trackNotifications",children:a.Ru.get("settings.showTrackNotifications")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.trackNotifications",value:!!l,onSelected:o})})]}),p&&(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.showSystemMediaControls"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.systemMediaControlsEnabled",children:a.Ru.get("desktop.settings.showSystemMediaControls")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.systemMediaControlsEnabled",value:!!c,onSelected:d})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("buddy-feed.see-what-your-friends-are-playing"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.showFriendActivity",children:a.Ru.get("buddy-feed.see-what-your-friends-are-playing")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.showFriendActivity",value:j,onSelected:()=>{f(Ct.$S.BUDDY_FEED_BUTTON_CLICK)}})})]})]})};var Ot=s(55968),It=s(36061),Lt=s(78412);const Tt="m7e5wHq6US9u3BbLQXEX",Dt="ul4DB6lq_3qO_aCiEbcc",Pt=()=>{const e=(0,z.wA)(),{locale:t,user:s,overrides:n}=(0,z.d4)(It.Ht),r=(0,i.useRef)(null),l=(0,i.useRef)(null),a=(0,i.useCallback)((t=>{r.current&&r.current.value&&e((0,Lt.Rv)(t?r.current.value:""))}),[e]),c=(0,i.useCallback)((t=>{l.current&&l.current.value&&e((0,Lt.zf)(t?l.current.value:""))}),[e]),d=n?.country||s?.country,h=n?.locale||t;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(y,{filterMatchQuery:d??"",children:[(0,u.jsx)(S,{children:(0,u.jsx)("div",{className:Tt,children:(0,u.jsx)(Ot.c,{id:"overrides.country",onChange:e=>{const t=e.target.checked;a(t)},defaultChecked:!!n?.country,children:(0,u.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:"Country"})})})}),(0,u.jsx)(w,{children:(0,u.jsx)("input",{type:"text",id:"overrides.country.input",className:Dt,disabled:!n?.country,ref:r,defaultValue:d,onChange:()=>a(!0)})})]}),(0,u.jsxs)(y,{filterMatchQuery:n?.locale??"",children:[(0,u.jsx)(S,{children:(0,u.jsx)("div",{className:Tt,children:(0,u.jsx)(Ot.c,{id:"overrides.locale",onChange:e=>{const t=e.target.checked;c(t)},defaultChecked:!!n?.locale,children:(0,u.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:"Language"})})})}),(0,u.jsx)(w,{children:(0,u.jsx)("input",{type:"text",id:"overrides.locale.input",className:Dt,disabled:!n?.locale,ref:l,defaultValue:h,onChange:()=>c(!0)})})]})]})},Bt=()=>{const e=(0,wt.t)(),[{data:t}]=(0,kt.K)(e.employee.isEmployee),[{data:s},{mutate:n}]=(0,kt.K)(e.employee.developerMode),[{data:r},{mutate:l}]=(0,kt.K)(e.employee.showChromeToolbar),o=(0,gt.t)(),[c,d]=(0,i.useState)(!1),g=(0,i.useCallback)((()=>{o.applyUpdate()}),[o]);return t?(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("settings.employee"),children:[(0,u.jsx)(N,{children:a.Ru.get("settings.employee")}),(0,u.jsx)(y,{filterMatchQuery:a.Ru.get("desktop.settings.language-override"),children:(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"",children:a.Ru.get("desktop.settings.language-override")})})}),(0,u.jsx)(Pt,{}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.enableDeveloperMode"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.developerMode",children:a.Ru.get("desktop.settings.enableDeveloperMode")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.developerMode",value:!!s,onSelected:e=>{n(e),d(!0)}})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.showChromeToolbar"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.chromiumToolbar",children:a.Ru.get("desktop.settings.showChromeToolbar")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.chromiumToolbar",value:!!r,onSelected:e=>{l(e),d(!0)}})})]}),c&&(0,u.jsx)("div",{children:(0,u.jsx)(ct,{onClick:g})})]}):null};var Ut=s(72184),Kt=s(99041);const qt="okmBgXxrf9ezztZvtLiY",Vt="uerTfstdPutfsW80gMpd",Wt="wRdi_8R3iT6u7fZcgrb9",Ht=()=>{const e=(0,wt.t)(),[{data:t},{mutate:s}]=(0,kt.K)(e.contentPreferences.allowExplicitContent),[{data:i}]=(0,kt.K)(e.contentPreferences.explicitContentForceDisallowed),n=i?a.Ru.get("desktop.settings.explicitContentFilterSettingLocked"):a.Ru.get("desktop.settings.explicitContentFilterSetting");return(0,u.jsxs)(y,{filterMatchQuery:n,children:[(0,u.jsxs)(S,{className:qt,children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.explicitContentFilter",children:n}),(0,u.jsx)(o.E,{variant:"marginal",children:a.Ru.get("desktop.settings.explicitContentFilterSettingDetails1",(0,u.jsx)(Kt.U,{}))}),(0,u.jsx)(o.E,{variant:"marginal",children:a.Ru.get("desktop.settings.explicitContentFilterSettingDetails2")}),(0,u.jsxs)(o.E,{variant:"marginal",semanticColor:"textBase",className:Vt,children:[(0,u.jsx)(Ut.p,{size:"small"}),a.Ru.get("desktop.settings.updateDelayNotice")]})]}),(0,u.jsx)(w,{children:(0,u.jsx)("div",{className:Wt,children:(0,u.jsx)(I.l,{id:"desktop.settings.explicitContentFilter",disabled:i,value:!!t,onSelected:s})})})]})},Zt=()=>(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.explicitContentFilter"),children:[(0,u.jsx)(N,{children:a.Ru.get("desktop.settings.explicitContentFilter")}),(0,u.jsx)(Ht,{})]});var Gt=s(94461);const Yt=()=>{const e=(0,gt.t)(),t=(0,wt.t)(),[{data:s},{mutate:n}]=(0,kt.K)(t.language),r=(0,i.useCallback)((()=>{e.applyUpdate()}),[e]);return void 0===s?null:(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.language"),children:[(0,u.jsx)(N,{children:a.Ru.get("desktop.settings.language")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.selectLanguage"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.selectLanguage",children:a.Ru.get("desktop.settings.selectLanguage")})}),(0,u.jsx)(w,{children:(0,u.jsx)(_e.C,{dir:"auto",value:s,id:"desktop.settings.selectLanguage",onSelect:n,children:Gt.J2.map((e=>(0,u.jsx)("option",{value:e,children:`${Gt.IB[e].displayName} (${Gt.IB[e].displayNameEn})`},e)))})})]}),a.Ru.getLocaleForTranslation()!==s?(0,u.jsx)(ct,{onClick:r}):null]})};var Jt=s(39587);const Xt=()=>{const[e,t]=(0,Jt.y)();return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("settings.showLocalFiles"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.showLocalFiles",children:a.Ru.get("settings.showLocalFiles")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"settings.showLocalFiles",value:e,onSelected:e=>{t(e)}})})]})};var $t=s(50324),es=s(39838);const ts=e=>void 0!==e.id;function ss(e){let t;if(!ts(e))return e.path;switch(e.id){case es.kW.DOWNLOADS:t=a.Ru.get("local-files.source.downloads");break;case es.kW.ITUNES:t=a.Ru.get("local-files.source.itunes");break;case es.kW.MY_MUSIC:t=a.Ru.get("local-files.source.my_music");break;case es.kW.WINDOWS_MUSIC_LIBRARY:t=a.Ru.get("local-files.source.windows_music_library");break;default:t=String(e.id)}return t}const is=({source:e,onAddOrRemoveSource:t})=>{const[s,n]=(0,i.useState)(!ts(e)||e.enabled),r=ts(e)?String(e.id):e.path;return(0,u.jsxs)(y,{filterMatchQuery:ss(e),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:`settings.local-files.${r}`,children:ss(e)})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:`settings.local-files.${r}`,value:s,onSelected:s=>{n(s),t(e,s)}})})]})},ns=()=>{const[e,t]=(0,i.useState)(),s=(0,xt.A)(),n=(0,$t.i)(),l=(0,i.useCallback)((async()=>t(await s.getSources())),[s]);(0,i.useEffect)((()=>{l()}),[l]);const o=(0,i.useCallback)((async()=>{const{path:e}=await s.browseForFolder();e&&(await s.addFolder({path:e}),l(),n.say(a.Ru.get("settings.localFilesFolderAdded",e)))}),[n,s,l]),c=(0,i.useCallback)(((e,t)=>{e.enabled=t,s.mutateDefaultSource(e)}),[s]),d=(0,i.useCallback)(((e,t)=>{t?s.addFolder(e):s.removeFolder(e)}),[s]);return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("settings.showSongsFrom"),children:[(0,u.jsx)(N,{children:a.Ru.get("settings.showSongsFrom")}),e?.defaultSources.map((e=>(0,u.jsx)(is,{source:e,onAddOrRemoveSource:c},String(e.id)))),e?.folders.map((e=>(0,u.jsx)(is,{source:e,onAddOrRemoveSource:d},e.path))),(0,u.jsx)("div",{children:(0,u.jsx)(r.n,{size:"small","aria-label":a.Ru.get("settings.addASource"),onClick:()=>{o()},children:a.Ru.get("settings.addASource")})})]})};var rs=s(5854),ls=s(99701);const as="x-settings-tooltip",os="x-settings-tooltipIconWrapper",cs="x-settings-tooltipIcon",ds=({message:e,placement:t="top",messageClassName:s,iconClassName:i,iconSize:n="small"})=>(0,u.jsx)("div",{className:as,children:(0,u.jsx)(ls.Zp,{showDelay:0,label:e,placement:t,labelClassName:s,children:(0,u.jsx)("div",{className:b()(os,i),"aria-label":e,"aria-describedby":ls.WO,tabIndex:0,children:(0,u.jsx)(rs.N,{size:n,className:cs})})})});function us(){const e=(0,wt.t)(),[{data:t},{mutate:s}]=(0,kt.K)(e.quality.autoAdjustQuality);return void 0===t?null:(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.automatic-downgrade.title"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.automatic-downgrade",children:a.Ru.get("desktop.settings.automatic-downgrade.title")}),(0,u.jsx)(ds,{message:a.Ru.get("desktop.settings.automatic-downgrade.info")})]}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.automatic-downgrade",value:t,onSelected:s})})]})}var hs=s(37297),gs=s(32674);const xs={get[We.a1.AUTOMATIC](){return a.Ru.get("desktop.settings.streamingQualityAutomatic")},get[We.a1.LOW](){return a.Ru.get("desktop.settings.streamingQualityLow")},get[We.a1.MEDIUM](){return a.Ru.get("desktop.settings.streamingQualityNormal")},get[We.a1.HIGH](){return a.Ru.get("desktop.settings.streamingQualityHigh")},get[We.a1.VERY_HIGH](){return a.Ru.get("desktop.settings.streamingQualityVeryHigh")},get[We.a1.LOSSLESS](){return a.Ru.get("web-player.pigeon.audio-quality.lossless")}};function ps({maxQuality:e,formats:t}){const s=e===We.Qi.LOSSLESS,i=e>=We.Qi.VERY_HIGH;return(0,u.jsx)(u.Fragment,{children:t.filter((({quality:e})=>{switch(e){case We.a1.AUTOMATIC:return!s;case We.a1.LOW:case We.a1.MEDIUM:case We.a1.HIGH:return!0;case We.a1.VERY_HIGH:return i;case We.a1.LOSSLESS:return s;default:return!1}})).map((({quality:e})=>(0,u.jsx)("option",{value:e.toString(),children:xs[e]},e)))})}function ms(){const e=(0,wt.t)(),[{data:t},{mutate:s}]=(0,kt.K)(e.quality.downloadAudioQuality),[{data:i}]=(0,kt.K)(e.quality.maxSupportedQuality),n=(0,hs.x)();return void 0===t||void 0===i||void 0===n?null:(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.downloadQuality.title"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.downloadQuality",children:a.Ru.get("desktop.settings.downloadQuality.title")}),(0,u.jsx)(ds,{message:a.Ru.get("desktop.settings.downloadQuality.info").replace(/(<([^>]+)>)/gi,"")})]}),(0,u.jsx)(w,{children:(0,u.jsx)(_e.C,{id:"desktop.settings.downloadQuality",value:t.toString(),onSelect:e=>{const t=(0,gs.FB)(e);t&&s(t)},children:(0,u.jsx)(ps,{formats:n,maxQuality:i})})})]})}var js=s(49885),fs=s(89133),ys=s(23805),vs=s(11388);const ws=()=>{const e=(0,ys.N)(),{deviceFilterState:t}=(0,js.j)(),[s,n]=(0,i.useState)((()=>e.isNormalizationOverriden())),r=s&&t.isOnboarded;return(0,vs.G)(fs.n.NORMALIZATION_OVERRIDE_DISABLED,(()=>{n(!1)})),{isOverriden:r,disableOverride:()=>e.disableNormalizationOverride()}};var ks=s(26344),bs=s(85907);let Rs=function(e){return e[e["volume-increase"]=0]="volume-increase",e[e["normalization-turn-off"]=1]="normalization-turn-off",e[e["normalization-turn-on"]=2]="normalization-turn-on",e}({});const Ss=({type:e,onClose:t,onConfirm:s})=>{const{disableOverride:i}=ws(),n="Normalisation";let r="";switch(e){case Rs["volume-increase"]:r="Increasing the volume level while your headphones are optimized may cause occasional distortion.";break;case Rs["normalization-turn-off"]:r="Turning off audio normalization while your headphones are optimized may cause audio distortion.";break;case Rs["normalization-turn-on"]:r='We\'d recommend changing your volume level to "Quiet" after turning on audio normalization to avoid audio distortion (while your headphones are optimized).';break;default:(0,bs.k)(e)}return(0,u.jsx)(ks.T,{onConfirm:()=>{i(),s(),t()},onClose:t,titleText:n,"aria-label":n,descriptionText:r,cancelText:"Cancel",confirmText:"Confirm"})},Cs={get[We.KR.QUIET](){return a.Ru.get("desktop.settings.loudnessQuiet")},get[We.KR.NORMAL](){return a.Ru.get("desktop.settings.loudnessNormal")},get[We.KR.LOUD](){return a.Ru.get("desktop.settings.loudnessLoud")}};function Ms(){const e=(0,wt.t)(),[{data:t},{mutate:s}]=(0,kt.K)(e.quality.normalizeVolume),[{data:n},{mutate:r}]=(0,kt.K)(e.quality.volumeLevel),{dialog:l,setNormalizeValue:o,setVolumeLevel:c}=((e,t)=>{const{isOverriden:s}=ws(),[n,r]=(0,i.useState)(null),l=(0,i.useRef)(null);return{setNormalizeValue:(0,i.useCallback)((t=>{s?(r(t?Rs["normalization-turn-on"]:Rs["normalization-turn-off"]),l.current=()=>{e(t)}):e(t)}),[s,e]),setVolumeLevel:(0,i.useCallback)((e=>{s&&e!==We.KR.QUIET?(r(Rs["volume-increase"]),l.current=()=>{t(e)}):t(e)}),[s,t]),dialog:null!==n?(0,u.jsx)(Ss,{type:n,onClose:()=>{r(null)},onConfirm:()=>{l.current?.()}}):null}})(s,r),{isOverriden:d}=ws();if(void 0===t)return null;const g=d?We.KR.QUIET:n;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.normalize"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.normalize",children:a.Ru.get("desktop.settings.normalize")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.normalize",value:!!t,onSelected:o})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.loudnessEnvironment_with_limiter_details"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.loudnessEnvironment",children:a.Ru.get("desktop.settings.loudnessEnvironment_with_limiter_details")})}),(0,u.jsx)(w,{children:(0,u.jsxs)(_e.C,{id:"desktop.settings.loudnessEnvironment",disabled:!t,value:g,onSelect:e=>{const t=(0,gs.dt)(e);null!==t&&c(t)},children:[(0,u.jsx)("option",{value:We.KR.QUIET,children:Cs[We.KR.QUIET]}),(0,u.jsx)("option",{value:We.KR.NORMAL,children:Cs[We.KR.NORMAL]}),(0,u.jsx)("option",{value:We.KR.LOUD,children:Cs[We.KR.LOUD]})]})})]}),l]})}var Fs=s(78592),Ns=s(70381),As=s(53133);const _s="teokJIHsNR2G8sc4ne4S";function Es(){const e=(0,wt.t)(),{enqueueSnackbar:t}=(0,As.d)(),s=(0,Ns.K)(Ns.X.VeryHighQualityAudio),[{data:n},{mutate:r}]=(0,kt.K)(e.quality.streamingQuality),[{data:l}]=(0,kt.K)(e.quality.maxSupportedQuality),o=(0,hs.x)();return(0,i.useEffect)((()=>{s&&t(a.Ru.get("web-player.feature-activation-shelf.audio_quality_toast_message"))}),[s,t]),void 0===n||void 0===l||void 0===o?null:(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.streamingQuality"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.streamingQuality",children:a.Ru.get("desktop.settings.streamingQuality")})}),(0,u.jsxs)(w,{children:[(0,u.jsx)(_e.C,{id:"desktop.settings.streamingQuality",value:n.toString(),onSelect:e=>{const t=(0,gs.FB)(e);t&&r(t)},children:(0,u.jsx)(ps,{formats:o,maxQuality:l})}),s?(0,u.jsx)(Fs.Z,{className:_s}):null]})]})}const Qs=()=>(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.musicQuality"),children:[(0,u.jsx)(N,{children:a.Ru.get("desktop.settings.musicQuality")}),(0,u.jsx)(Es,{}),(0,u.jsx)(ms,{}),(0,u.jsx)(us,{}),(0,u.jsx)(Ms,{})]});var zs=s(1599),Os=s(46441),Is=s(98655);const Ls=()=>{const[e,t]=(()=>{const e=(0,P.jE)(),{user:t}=(0,z.d4)(It.Ht),s=t?.uri??"",{enqueueSnackbar:n}=(0,As.d)(),{data:r,queryKey:l}=(0,Is.Z)(Os.kp,[{uri:s}]),o=(0,i.useCallback)((async({showFollows:e})=>{await(0,Os.gN)(zs.n.getInstance(),{uri:s,showFollows:e})}),[s]),c=(0,U.n)({mutationFn:o,onMutate:async t=>{await e.cancelQueries({queryKey:l});const s=e.getQueryData(l);return e.setQueryData(l,t),{prevState:s,newState:t}},onError:(t,s,i)=>{e.setQueryData(l,i?.prevState),n(a.Ru.get("error.generic"))},onSettled:()=>{e.invalidateQueries({queryKey:l})}});return[r?.showFollows??!0,c.mutate]})();return(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.showFollows"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.showFollows",children:a.Ru.get("desktop.settings.showFollows")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.showFollows",value:e,onSelected:e=>t({showFollows:e})})})]})},Ts=()=>{const e=(0,wt.t)(),[{data:t},{mutate:s}]=(0,kt.K)(e.social.autoPublishPlaylist),[{data:i},{mutate:n}]=(0,kt.K)(e.social.shareListeningActivity),[{data:r},{mutate:l}]=(0,kt.K)(e.social.privateSession),[{data:o},{mutate:c}]=(0,kt.K)(e.social.showMyTopArtists);return void 0!==t&&void 0!==r?(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.social"),children:[(0,u.jsx)(N,{children:a.Ru.get("desktop.settings.social")}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.newPlaylistsPublic"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.newPlaylistsPublic",children:a.Ru.get("desktop.settings.newPlaylistsPublic")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.newPlaylistsPublic",value:t,onSelected:s})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.privateSession"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.privateSession",children:a.Ru.get("desktop.settings.privateSession")}),(0,u.jsx)(ds,{message:a.Ru.get("desktop.settings.privateSession.tooltip")})]}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.privateSession",value:r,onSelected:l})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.publishActivity"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.publishActivity",children:a.Ru.get("desktop.settings.publishActivity")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.publishActivity",disabled:r,value:!r&&!!i,onSelected:n})})]}),(0,u.jsxs)(y,{filterMatchQuery:a.Ru.get("desktop.settings.publishTopArtists"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.publishTopArtists",children:a.Ru.get("desktop.settings.publishTopArtists")})}),(0,u.jsx)(w,{children:(0,u.jsx)(I.l,{id:"desktop.settings.publishTopArtists",disabled:r,value:!r&&!!o,onSelected:c})})]}),(0,u.jsx)(Ls,{})]}):null};var Ds=s(86723),Ps=s(87150),Bs=s(31556),Us=s(50845);const Ks=[70,80,90,100,110,120,130],qs=(e,t)=>{if(((e,t)=>e.includes(t))(e,t))return t;const s=[...e].sort(((e,t)=>e-t));let i=s[0];for(const e of s){if(t<i)return i;if(t>i&&t<e)return t-i<e-t?i:e;t>e&&(i=e)}return i};var Vs=s(65794);const Ws=()=>{const e=(0,Vs.Z)(),t=(0,wt.t)(),[{data:s}]=(0,kt.K)(t.viewportZoom),n=(0,i.useCallback)((t=>{e.setZoomLevel((e=>{if(e<70||e>130)throw new Error(`Zoom level out of bounds: ${e}`);return Math.round(Math.log10(e/100)/Math.log10(1.2)*100)})(t))}),[e]);return[(0,i.useMemo)((()=>{return qs(Ks,(e=s??0,Math.round(100*Math.pow(1.2,e/100))));var e}),[s]),n]};var Hs=s(73301);const Zs=({className:e,isSelected:t})=>{const s=t?(0,Hs.oj)("essentialBrightAccent"):(0,Hs.oj)("essentialSubdued");return(0,u.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 76 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("g",{filter:"url(#filter0_i_37_26767)",children:(0,u.jsxs)("g",{clipPath:"url(#clip0_37_26767)",children:[(0,u.jsx)("rect",{width:"76",height:"59",rx:"2",fill:"black"}),(0,u.jsx)("rect",{x:"2",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"20.5",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"39",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"57.5",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"2",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"20.5",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"39",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"57.5",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"2",y:"22",width:"17",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"21",y:"22",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"39",y:"22",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"57",y:"22",width:"17",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"2",y:"42.3333",width:"17",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"21",y:"42.3333",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"39",y:"42.3333",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"57",y:"42.3333",width:"17",height:"19",rx:"2",fill:s})]})}),(0,u.jsxs)("defs",{children:[(0,u.jsxs)("filter",{id:"filter0_i_37_26767",x:"0",y:"0",width:"76",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,u.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,u.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,u.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,u.jsx)("feOffset",{dy:"-2"}),(0,u.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,u.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,u.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26767"})]}),(0,u.jsx)("clipPath",{id:"clip0_37_26767",children:(0,u.jsx)("rect",{width:"76",height:"59",rx:"2",fill:"white"})})]})]})},Gs=({className:e,isSelected:t})=>{const s=t?(0,Hs.oj)("essentialBrightAccent"):(0,Hs.oj)("essentialSubdued");return(0,u.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 74 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("g",{filter:"url(#filter0_i_37_26795)",children:(0,u.jsxs)("g",{clipPath:"url(#clip0_37_26795)",children:[(0,u.jsx)("rect",{width:"74",height:"59",rx:"2",fill:"black"}),(0,u.jsx)("rect",{x:"1",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"19.25",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"37.5",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"55.75",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"1",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"19.25",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"37.5",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"55.75",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"1",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"1",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"1",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"1",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s})]})}),(0,u.jsxs)("defs",{children:[(0,u.jsxs)("filter",{id:"filter0_i_37_26795",x:"0",y:"0",width:"74",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,u.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,u.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,u.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,u.jsx)("feOffset",{dy:"-1"}),(0,u.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,u.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,u.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26795"})]}),(0,u.jsx)("clipPath",{id:"clip0_37_26795",children:(0,u.jsx)("rect",{width:"74",height:"59",rx:"2",fill:"white"})})]})]})},Ys=({className:e,isSelected:t})=>{const s=t?(0,Hs.oj)("essentialBrightAccent"):(0,Hs.oj)("essentialSubdued");return(0,u.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 78 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("g",{filter:"url(#filter0_i_37_26744)",children:(0,u.jsxs)("g",{clipPath:"url(#clip0_37_26744)",children:[(0,u.jsx)("rect",{width:"78",height:"59",rx:"2",fill:"black"}),(0,u.jsx)("rect",{x:"3",y:"3",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"3",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"10.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"10.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"18",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"18",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"25.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"25.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"37",width:"22",height:"23",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"28",y:"37",width:"22",height:"23",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"53",y:"37",width:"22",height:"23",rx:"2",fill:s})]})}),(0,u.jsxs)("defs",{children:[(0,u.jsxs)("filter",{id:"filter0_i_37_26744",x:"0",y:"0",width:"78",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,u.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,u.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,u.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,u.jsx)("feOffset",{dy:"-3"}),(0,u.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,u.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,u.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26744"})]}),(0,u.jsx)("clipPath",{id:"clip0_37_26744",children:(0,u.jsx)("rect",{width:"78",height:"59",rx:"2",fill:"white"})})]})]})},Js="daF_Uu6SkaxFXuW1tXC1",Xs="EYnXJxDlzNk5RKfeaA6l",$s="l4pZe9TZNs0_CkdbbHql",ei="bY4mttCZiFb6AXdiyTWl",ti="CJ2H1F8hfES_5qDGSRIR",si="qltNPvInlw2koZA_iXAw",ii="WYdlm2QyNWvODlPu8axP",ni="jCTF4D1f_LLhhvyZGNVe",ri="NsjPzTxR4LC_CYOnhiOA",li="U0PJm5wLwGsOlehID1n1",ai="C8YxC7zborN_tF5zBizw",oi="KTeqYcBoudbD8TLrozf3",ci=({isSelected:e,isFocused:t})=>(0,u.jsx)("div",{className:b()(li,{[ai]:e,[oi]:t})}),di=({isSelected:e,isFocused:t,percentage:s})=>{const i=pi(s);return(0,u.jsxs)("div",{className:ei,children:[(0,u.jsx)(ci,{isSelected:!!e,isFocused:!!t}),(0,u.jsx)(o.E,{as:"div",variant:"bodySmall",semanticColor:"textSubdued",children:i})]})},ui=({isSelected:e,label:t,children:s})=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:b()(ii,{[ri]:e}),children:s}),(0,u.jsx)(mi,{variant:"bodySmall",semanticColor:"textBase",children:t})]}),hi=({onClick:e,children:t})=>(0,u.jsx)("button",{className:Xs,onClick:e,tabIndex:-1,children:t}),gi=({value:e,Image:t,label:s})=>{const[i,n]=Ws(),r=i===e;return(0,u.jsx)(hi,{onClick:()=>n(e),children:(0,u.jsx)(ui,{isSelected:r,label:s,children:(0,u.jsx)(t,{className:ni,isSelected:r})})})},xi=()=>{const e=(0,n.NC)(Be.UuM),[t,s]=Ws();if(!e)return null;const i=a.Ru.get("web-player.settings.zoom.shortcut-description",(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Us.U,{children:"mod"}),(0,u.jsx)(Us.U,{children:"-"})]}),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Us.U,{children:"mod"}),(0,u.jsx)(Us.U,{children:"+"})]}));return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("web-player.settings.zoom.title"),children:[(0,u.jsx)(N,{children:a.Ru.get("web-player.settings.zoom.title")}),(0,u.jsx)(y,{filterMatchQuery:a.Ru.get("web-player.settings.zoom.description"),children:(0,u.jsxs)(o.E,{semanticColor:"textSubdued",variant:"bodySmall",children:[a.Ru.get("web-player.settings.zoom.description")," ",i]})}),(0,u.jsxs)("div",{className:$s,children:[(0,u.jsxs)("div",{className:si,children:[(0,u.jsx)(gi,{Image:Gs,value:70,label:a.Ru.get("web-player.settings.zoom.compact-label")}),(0,u.jsx)(gi,{Image:Zs,value:100,label:a.Ru.get("web-player.settings.zoom.balanced-label")}),(0,u.jsx)(gi,{Image:Ys,value:130,label:a.Ru.get("web-player.settings.zoom.larger-label")})]}),(0,u.jsx)(Bs.z6,{className:Js,orientation:"horizontal",value:t.toString(),onChange:e=>s(qs(Ks,parseInt(e,10))),"aria-label":a.Ru.get("web-player.settings.zoom.zoom-level-radio-button-label"),children:Ks.map((e=>(0,u.jsx)(Bs.sx,{className:ei,value:e.toString(),"aria-label":pi(e),children:({isFocusVisible:s})=>(0,u.jsx)(di,{percentage:e,isSelected:t===e,isFocused:s})},e)))})]}),(0,u.jsx)("div",{className:ti,children:(0,u.jsx)(r.n,{id:"web-player.settings.zoom.reset-button",size:"small",onClick:()=>s(100),children:a.Ru.get("web-player.settings.zoom.reset-button-label")})})]})};function pi(e){return a.Ru.formatNumber(e,{unit:"percent",unitDisplay:"narrow",style:"unit"})}var mi=(0,Ps.Ay)(o.E).withConfig({displayName:"ZoomLevelSettings___StyledText",componentId:"sc-1mlb5iy-0"})({textAlign:"center"});const ji=()=>{const{settings:e,setValue:t}=(0,Ds.t0)(),s=(0,i.useRef)(null),[r]=(0,Jt.y)(),l=(0,n.NC)(Be.YSK);return(0,u.jsxs)(ne,{outerRef:s,children:[(0,u.jsx)(ce,{containerRef:s}),(0,u.jsx)(Q,{}),(0,u.jsx)(Yt,{}),l?(0,u.jsx)(Y,{sectionAbove:(0,u.jsx)(Ht,{})}):(0,u.jsx)(Zt,{}),(0,u.jsx)(Rt,{settings:e,setValue:t}),(0,u.jsx)(Qs,{}),(0,u.jsxs)(se,{children:[(0,u.jsx)(te,{}),(0,u.jsx)(Xt,{})]}),r?(0,u.jsx)(ns,{}):null,(0,u.jsx)(zt,{}),(0,u.jsx)(xi,{}),(0,u.jsx)(Ts,{}),(0,u.jsx)(vt,{settings:e,setValue:t}),(0,u.jsx)(Bt,{})]})}},50324:(e,t,s)=>{s.d(t,{i:()=>r});var i=s(30758);class n{constructor(e={}){this.settings={level:e.level||"polite",parent:e.parent||document.body,idPrefix:e.idPrefix||"live-region-",delay:e.delay||0},this.currentRegion=document.createElement("span")}say(e,t=this.settings.delay){this.clearNode(),this.currentRegion=document.createElement("span"),this.currentRegion.id=this.settings.idPrefix+Math.floor(1e4*Math.random());const s="assertive"!==this.settings.level?"status":"alert";this.currentRegion.setAttribute("aria-live",this.settings.level),this.currentRegion.setAttribute("role",s),this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px"),this.settings.parent.appendChild(this.currentRegion),window.setTimeout((()=>{this.currentRegion.textContent=e}),t)}clearNode(){const e=this.settings.parent.querySelector(`[id^="${this.settings.idPrefix}"]`);e&&this.settings.parent.removeChild(e)}}const r=({delay:e,idPrefix:t,level:s,parent:r}={})=>{const l=(0,i.useMemo)((()=>new n({delay:e,idPrefix:t,level:s,parent:r})),[e,t,s,r]);return(0,i.useEffect)((()=>()=>{l.clearNode()}),[l]),l}},70381:(e,t,s)=>{s.d(t,{X:()=>r.X,K:()=>n});var i=s(85387);function n(e){const{search:t}=(0,i.zy)();return new URLSearchParams(t).get("feature-activation")===e}var r=s(41547)},41547:(e,t,s)=>{s.d(t,{X:()=>i});let i=function(e){return e.SmartShuffle="smart-shuffle",e.GroupSessions="group-sessions",e.Blend="blend",e.CollaborativePlaylists="collaborative-playlists",e.Dj="dj",e.VeryHighQualityAudio="very-high-quality-audio",e.LiveEvents="live-events",e}({})},49885:(e,t,s)=>{s.d(t,{j:()=>h});var i=s(30758),n=s(16273),r=s(50486),l=s(92443),a=s(43013),o=s(23805),c=s(89133),d=s(11388);const u={headphoneDevice:null,audioDevice:null,predictedState:null,isOnboarded:!1,currentState:{externalizationEnabled:!1,specificEnabled:!1},contentRestrictions:{specificRestricted:!1,externalizationRestricted:!1,processingCapabilitiesRestricted:!1},toggleTuneHeadphones:null,toggleTuneStudio:null,setFilterState:()=>Promise.resolve()},h=()=>{const e=(0,o.N)(),t=(0,n.jE)(),s=(0,a.l)(),h=(0,i.useMemo)((()=>["puffin-current-device"]),[]),{data:g,isLoading:x,isError:p}=(0,r.I)({queryKey:h,queryFn:async()=>await e.getFilterState(),gcTime:5e3,staleTime:5e3});var m;return m=()=>{t.invalidateQueries({queryKey:h})},(0,d.G)(c.n.UPDATE,m),{deviceFilterState:!s&&g||u,isMaybeHeadphoneDevice:(0,l.lS)(g?.audioDevice),isLoading:x,isError:p}}},37297:(e,t,s)=>{s.d(t,{x:()=>r});var i=s(50486),n=s(97697);function r(){const e=(0,n.t)();return(0,i.I)({queryKey:["settings-formats"],queryFn:()=>e.quality.getFormats(),gcTime:36e5,staleTime:6e5}).data}},65219:(e,t,s)=>{s.d(t,{A:()=>n,j:()=>r});var i=s(62021);let n=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.COMPACT=1]="COMPACT",e}({});const r=()=>(0,i.x)("library-row-mode",n.DEFAULT)},8284:(e,t,s)=>{s.d(t,{d:()=>r});var i=s(30758),n=s(29064);const r=()=>(0,i.useContext)(n.D)},39587:(e,t,s)=>{s.d(t,{y:()=>r});var i=s(30758),n=s(58493);function r(){const e=(0,n.A)(),[t,s]=(0,i.useState)(e.getIsEnabled());(0,i.useEffect)((()=>{const t=e.subscribeIsEnabled(s);return()=>t()}),[e]);return[t,(0,i.useCallback)((t=>e.setIsEnabled(t)),[e])]}},11388:(e,t,s)=>{s.d(t,{G:()=>r});var i=s(30758),n=s(23805);function r(e,t){const s=(0,i.useRef)(t),r=(0,n.N)();s.current=t,(0,i.useEffect)((()=>{const t=r.getFiltersEvents();return t?.addListener(e,(e=>{s.current(e)}))}),[e,r])}},28956:(e,t,s)=>{s.d(t,{A:()=>i});const i={container:"main-keyboardShortcutsHelpModal-container",header:"main-keyboardShortcutsHelpModal-header",closeBtn:"main-keyboardShortcutsHelpModal-closeBtn",sectionsContainer:"main-keyboardShortcutsHelpModal-sectionsContainer",sections:"main-keyboardShortcutsHelpModal-sections",sectionHeading:"main-keyboardShortcutsHelpModal-sectionHeading",sectionItem:"main-keyboardShortcutsHelpModal-sectionItem",sectionItemName:"main-keyboardShortcutsHelpModal-sectionItemName",key:"main-keyboardShortcutsHelpModal-key"}}}]);
//# sourceMappingURL=xpui-routes-desktop-settings.js.map