"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[352,7125],{75040:(e,t,s)=>{s.d(t,{k:()=>u});var a=s(30758),r=s(31417),i=s(57239),n=s(89402),o=s(36025),l=s(7971),c=s(86070);const u=({id:e,children:t,targetURI:s,fadeOut:u=!1})=>{const d=(0,a.useCallback)((()=>{window.open((0,o.rw)(s).href)}),[s]),p={getTitle:()=>r.Ru.get("action-trigger.available-in-app-only"),getDescription:()=>r.Ru.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>r.Ru.get("action-trigger.button.get-app"),secondaryButtonText:()=>r.Ru.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,n.W)(),shouldHideOnScroll:!0,fadeOut:u};return(0,c.jsx)(i.U,{className:l.A.container,id:e,onPrimaryButtonClick:d,options:p,children:t})}},13860:(e,t,s)=>{s.d(t,{R:()=>i});var a=s(21082),r=s(86070);const i=({uri:e,enabled:t,className:s,children:i,onClick:n})=>t?(0,r.jsx)(a.N,{to:e,className:s,onClick:n,children:i}):(0,r.jsx)(r.Fragment,{children:i})},33216:(e,t,s)=>{s.d(t,{PageErrorTemplate:()=>f});var a=s(30758),r=s(85387),i=s(19666),n=s(66371),o=s(25267),l=s(51560),c=s(44481),u=s(7810),d=s(31417),p=s(50671),m=s(21549);const h="main-pageErrorTemplate-errorBody";var g=s(86070);const y={"/":i.H,"/search":n.C,"/collection":o.M},f=a.memo((function(){const e=(0,r.zy)(),t=(s=e.pathname,y[s]||l.b);var s;const{spec:i,logger:n}=(0,m.r)(u.W,{data:{uri:e.pathname}}),o=(0,p.t)(i),f=(0,a.useCallback)((()=>{const e=i.reloadPageButtonFactory().hitRefreshContent();n.logInteraction(e),window.location.reload()}),[i,n]);return(0,g.jsxs)("div",{className:h,ref:o,children:[(0,g.jsx)(t,{width:46,height:46}),(0,g.jsx)("h1",{children:d.Ru.get("error-dialog.generic.header")}),(0,g.jsx)("p",{children:d.Ru.get("error-dialog.generic.body")}),(0,g.jsx)(c.$,{onClick:f,children:d.Ru.get("fatal-error.button-label")})]})}))},33712:(e,t,s)=>{s.d(t,{p:()=>u});var a=s(92255),r=s(50635),i=s(44875),n=s(98811),o=s(83327),l=s(50671),c=s(86070);const u=({index:e,logShelfImpressions:t=!1,...s})=>{const{id:u,seeAllUri:d,title:p}=s,{onClickShelfTitle:m,onClickShelfSeeAll:h,spec:g}=(0,r.w)({seeAllUri:d,index:e,id:u}),y=(0,l.t)(g),f=(0,i.a)(d,p),x=(0,n.O)(d,p);return(0,c.jsx)(o.r,{spec:g,children:(0,c.jsx)(a.$,{...s,elementRef:t?y:void 0,onClickShelfTitle:()=>{m(),f({category:i.w.TitleClicks}),x({category:n.U.TitleClicks})},onClickShelfSeeAll:()=>{h(),f({category:i.w.ShowAll}),x({category:n.U.ShowAll})}})})}},50635:(e,t,s)=>{s.d(t,{w:()=>n});var a=s(30758),r=s(4414),i=s(21549);const n=({seeAllUri:e,index:t,id:s})=>{const{spec:n,logger:o}=(0,i.r)(r.f,{data:{identifier:s,position:t,uri:e??""}}),l=(0,a.useCallback)((()=>{const e=n.swipeUiReveal();o.logInteraction(e)}),[o,n]),c=(0,a.useCallback)((e=>{const t=n.shelfHeaderFactory().shelfCarouselControlsFactory(),s="next"===e?t.shelfCarouselControlsNextFactory():t.shelfCarouselControlsPreviousFactory();o.logInteraction(s.hitUiReveal())}),[o,n]);return{onClickShelfTitle:(0,a.useCallback)((()=>{const t=n.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:e??""});o.logInteraction(t)}),[o,e,n]),onClickShelfSeeAll:(0,a.useCallback)((()=>{const t=n.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:e??""});o.logInteraction(t)}),[o,e,n]),onSwipe:l,onClickCarouselControls:c,spec:n}}},32183:(e,t,s)=>{s.d(t,{g:()=>f});var a=s(30758),r=s(97500),i=s.n(r),n=s(422),o=s(22726),l=s(65462),c=s(78516),u=s(29454),d=s(99701),p=s(21082),m=s(27012),h=s(33329),g=s(14178),y=s(86070);const f=({children:e,uri:t,name:s,nonInteractive:r=!1,creatorUri:f,spec:x})=>{let b=null;const{draggable:j,onDragStart:C}=(0,m.P)({itemUris:[t],dragLabelText:s}),v=(0,h.s)(),R=(0,a.useCallback)((()=>{x&&v.logInteraction(x.albumLinkFactory({uri:t}).hitUiNavigate({destination:t}))}),[v,x,t]);return r?(0,y.jsx)("span",{className:i()("standalone-ellipsis-one-line",g.A.text),children:e}):((0,o._Tv)(t)&&(b=(0,y.jsx)(c.h,{uri:t,artistUri:f})),(0,o.WB1)(t)&&(b=(0,y.jsx)(u.H,{uri:t})),(0,y.jsx)(l.h,{menu:b,children:(0,y.jsx)(n.E,{variant:"bodySmall",children:(0,y.jsx)(d.Zp,{label:s,showDelay:d.uF,children:(0,y.jsx)(p.N,{draggable:j,onDragStart:C,className:i()("standalone-ellipsis-one-line"),to:t,dir:"auto",onClick:R,children:e})})})}))}},68118:(e,t,s)=>{s.d(t,{e:()=>p});var a=s(97500),r=s.n(a),i=s(97106),n=s(25910),o=s(58920),l=s(14178),c=s(86070);const u=({isVideo:e,isEpisode:t})=>{let s=i.v;return e?s=n.B:t&&(s=o.L),(0,c.jsx)("div",{className:r()(l.A.rowImage,l.A.rowImageFallback),style:{borderRadius:4},children:(0,c.jsx)(s,{size:"small"})})};var d=s(22984);const p=({src:e,isVideo:t=!1,isEpisode:s=!1})=>e?(0,c.jsx)(d._,{className:r()(l.A.rowImage,{[l.A.rowImageVideo]:t}),draggable:!1,src:e,loading:"eager",width:"40",height:"40",radius:4,children:(0,c.jsx)(u,{isVideo:t,isEpisode:s})}):(0,c.jsx)(u,{isVideo:t,isEpisode:s})},50915:(e,t,s)=>{s.d(t,{u:()=>m});var a=s(97500),r=s.n(a),i=s(40638),n=s(16832),o=s(68118),l=s(89402),c=s(94139),u=s(33329),d=s(14178),p=s(86070);const m=({uri:e,src:t,playAriaLabel:s,onClick:a,isPlaying:m,isActive:h,isLocked:g,isEpisode:y,isVideo:f,spec:x})=>{const b=(0,l.W)(),j=(0,u.s)(),C=(0,i.YQ)((t=>{let s;if(b({type:"click",intent:m?"pause":"play"}),x){const t=x.playbackButtonFactory();let a;a=h&&m?t.hitPause({itemToBePaused:e}):h&&!m?t.hitResume({itemToBeResumed:e}):t.hitPlay({itemToBePlayed:e}),s=j.logInteraction(a)}a(t,s)}),c.d,{leading:!0,trailing:!1});return(0,p.jsxs)("div",{className:d.A.rowImageWithPlay,children:[(0,p.jsx)(o.e,{src:t,isEpisode:y,isVideo:f}),(0,p.jsx)(n.x,{className:r()(d.A.rowPlayPauseButton,d.A.rowImagePlayPauseButton),iconClassName:d.A.rowPlayPauseIcon,onClick:C,isPlaying:m,isLocked:g,playAriaLabel:s})]})}},591:(e,t,s)=>{s.d(t,{$:()=>h});var a=s(30758),r=s(97500),i=s.n(r),n=s(40638),o=s(16832),l=s(89402),c=s(10044),u=s(94139),d=s(33329),p=s(14178),m=s(86070);const h=a.forwardRef((function({className:e="",children:t,onClick:s,isPlaying:a,isActive:r,isLocked:h=!1,playAriaLabel:g,uri:y,spec:f,playingIndicator:x=(0,m.jsx)(c.J,{className:p.A.playingIcon,animated:!0})},b){const j=(0,l.W)(),C=(0,d.s)(),v=(0,n.YQ)((e=>{const{currentTarget:t,detail:i}=e;let n;if(e.stopPropagation(),i>0&&t&&t.blur(),j({intent:a?"pause":"play",type:"click"}),f&&!h){const e=f.playbackButtonFactory();let t;t=r&&a?e.hitPause({itemToBePaused:y}):r&&!a?e.hitResume({itemToBeResumed:y}):e.hitPlay({itemToBePlayed:y}),n=C.logInteraction(t)}else f&&C.logInteraction(f.playbackButtonFactory().hitShowPaywall({paywalledItem:y}));s(e,n)}),u.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:i()(p.A.rowMarker,e),children:[a?x:t,(0,m.jsx)(o.x,{className:p.A.rowPlayPauseButton,iconClassName:p.A.rowPlayPauseIcon,onClick:v,isPlaying:a,isLocked:h,playAriaLabel:g,ref:b})]})}))},67799:(e,t,s)=>{s.d(t,{a:()=>n});var a=s(422),r=s(14178),i=s(86070);const n=({children:e})=>e?"number"==typeof e?(0,i.jsx)(a.E,{variant:"bodyMedium",className:r.A.number,children:e}):(0,i.jsx)("span",{className:r.A.icon,children:e}):null},7356:(e,t,s)=>{s.d(t,{r:()=>x});var a=s(30758),r=s(71416),i=s(422),n=s(84509),o=s(22726),l=s(21082),c=s(22984),u=s(21549);const d="CqCtb3wr4SK8AiZwxeH0",p="IGCDq9qa08JVVY3mcy7Y",m="Vn9yz8P5MjIvDT8c0U6w",h="MtV402NmdUF5mceSD0Dy",g="WDC2Yzs811n7JCYtYQzc";var y=s(86070);const f=r.l0o,x=({title:e,imageUrl:t,viewId:s,pageId:r,color:x=f,href:b,index:j,ubiId:C})=>{const v=s&&`/genre/${s}`||b||"#",{spec:R,logger:w}=(0,u.r)(n.b,{data:{position:j,identifier:C}}),A=(0,a.useCallback)((()=>{const e=(0,o.o_h)(v)?.toURI();e&&w.logInteraction(R.hitUiNavigate({destination:e}))}),[w,R,v]);return(0,y.jsx)("div",{className:p,children:(0,y.jsx)(l.N,{to:v,pageId:r,className:d,onClick:A,children:(0,y.jsxs)("div",{className:m,style:{backgroundColor:x},children:[t?(0,y.jsx)(c._,{loading:"lazy",src:t,className:g}):null,(0,y.jsx)(i.E,{variant:"titleSmall",className:h,children:e})]})})})}},32408:(e,t,s)=>{s.d(t,{K:()=>r});var a=s(22726);function r(e){const t=(0,a.o_h)(e,{parseUnknown:!0}),[s,r]=t?.args??[];if(r&&"page"===s)return`/genre/${r}`}},14409:(e,t,s)=>{s.d(t,{x:()=>o});var a=s(99701),r=s(64281);const i="BO7X8b8_SQhDyCjS0EOv";var n=s(86070);const o=({gatedEntityRelations:e})=>{if(!e)return!1;const t=e?.entitiesWithValueProps?.at(0),s=t?.valueProps.at(0)?.displayText,o=t?.summary?.forUserWithoutAccess;if(!s||!t)return null;const l=(0,n.jsx)(r.E,{text:s,className:i});return o?(0,n.jsx)(a.Zp,{label:o||s,children:l}):l}},99730:(e,t,s)=>{s.d(t,{P:()=>p});var a=s(14343),r=s(14409),i=s(45807),n=s(38501),o=s(99041),l=s(54003),c=s(18663),u=s(15838),d=s(86070);const p=({episode:e})=>{const t=(0,a.NC)(n.MCN,{loadingValue:!1}),{badges:s}=(0,u.b)((e=>"contentRating"in e)(e)?{contentRating:e?.contentRating?.label,isPaywalled:e.podcastSubscription?.isPaywalled}:{isExplicit:e?.isExplicit,isMOGEFRestricted:e?.is19PlusOnly,isPaywalled:e.podcastSubscription?.isPaywalled}),p=e.gatedEntityRelations&&e.gatedEntityRelations.entitiesWithValueProps.at(0),m=t&&(0,i.B)(p,e);return(0,d.jsxs)(d.Fragment,{children:[s.explicit&&(0,d.jsx)(o.U,{}),m?(0,d.jsx)(r.x,{gatedEntityRelations:e.gatedEntityRelations}):s.paid&&(0,d.jsx)(l.y,{}),s.nineteen&&(0,d.jsx)(c.q,{size:16})]})}},88986:(e,t,s)=>{s.d(t,{B:()=>P,q:()=>S});var a=s(30758),r=s(62411),i=s(91305),n=s(22726),o=s(99921),l=s(75040),c=s(65462),u=s(91676),d=s(33934),p=s(57239),m=s(23798),h=s(99730),g=s(27012),y=s(67668),f=s(55926),x=s(44825),b=s(44672),j=s(51354),C=s(86931),v=s(50671),R=s(21549),w=s(16157),A=s(15838),k=s(86070);function P(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const I=e=>`activation-trigger-mme-${e}`,S=a.memo((function({index:e=-1,showMetadata:t,episode:s,usePlayContextItem:S,status:N,variant:E}){const T=(0,f.c)(),_=s.playedState.playPositionMilliseconds,U=s.uri,q=(0,a.useRef)(null),[F,B]=(0,a.useState)(s.playedState.state===w._w.Completed),{draggable:O,onDragStart:L}=(0,g.P)(),M=(0,y.V)(),D=(0,j.y)(),V=(0,r.wA)(),{UBIFragment:H,spec:W,logger:$}=(0,R.r)(i.d,{data:{uri:U,reason:s.requestId||"",position:e}}),G=(0,v.t)(W),{isActive:Z,isPlaying:Q,togglePlay:z}=S({uri:U}),[Y]=(0,C.S)(1e4,(e=>e?.item?.uri===U));(0,a.useEffect)((()=>{Q&&(q.current=Y)}),[Q,Y]),(0,a.useEffect)((()=>{!Q&&q.current&&s.duration.milliseconds<=q.current&&B(!0)}),[Q,s.duration.milliseconds]);const K=(0,a.useCallback)((e=>{e||(q.current=0),B(e)}),[]),J=P(t),X=(0,x.C)({...s,coverArt:{sources:s.coverArt}},J),ee=(0,a.useCallback)((()=>{if(s.episodeType===w.I_.Episode&&T)p.h.set((()=>({triggerId:I(s.uri),triggerAction:null})));else if(M)X();else{let e;e=Q?W.playButtonFactory().hitPause({itemToBePaused:U}):Z?W.playButtonFactory().hitResume({itemToBeResumed:U}):W.playButtonFactory().hitPlay({itemToBePlayed:U});const t=$.logInteraction(e);z({loggingParams:t})}}),[Z,X,z,U,Q,M,s,T,$,W]),te=(0,a.useCallback)((()=>{$.logInteraction(W.hitUiNavigate({destination:U}))}),[U,$,W]),se=s.podcastSubscription?.isPaywalled??!1,ae=s.podcastSubscription?.isUserSubscribed??!1,re=se&&!ae,ie=se&&M,{badges:ne}=(0,A.b)({contentRating:s.contentRating?.label,isPaywalled:se}),oe=(0,a.useCallback)((()=>V((0,o.Tf)(t.uri))),[t.uri,V]),le=(0,a.useCallback)((e=>{let a=e;return(re||ie)&&(a=(0,k.jsx)(m.N,{enabled:!0,showUri:s.podcast?.uri||t.uri,renderInline:!1,children:a})),!s.playability.playable&&ne.nineteen&&(a=(0,k.jsx)("div",{onClick:e=>{e.stopPropagation(),oe()},children:e})),a=(0,k.jsx)(l.k,{id:I(U),targetURI:(0,n.o_h)(U),children:a}),a}),[U,re,ie,t.uri,ne.nineteen,s.playability.playable,oe,s.podcast?.uri]);return(0,k.jsx)(H,{spec:W,children:(0,k.jsx)(b.pZ,{value:"row",index:e,children:(0,k.jsx)(c.h,{onShow:()=>{$.logInteraction(W.secondaryHitUiReveal())},menu:(0,k.jsx)(u.b,{uri:U,showUri:t.uri,sharingInfo:s.sharingInfo,isPlayed:F,onMarkAsPlayed:K}),children:(0,k.jsx)(d.k,{ref:G,requestId:s.requestId,index:e,uri:U,size:D,images:s.coverArt||[],name:s.name,showName:s.podcast?.name||t.name,description:s.description,isPlayable:s.playability.playable||re,fullyPlayed:F,durationMs:s.duration.milliseconds,releaseDate:s.releaseDate,resumePositionMs:q.current??_,draggable:O,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const a=`${s.name} â€¢ ${t.name}`;L(e,{itemUris:[U],dragLabelText:a,contextUri:t.uri})},handlePlaybackClick:ee,handleClick:te,isCurrentlyPlaying:Z,isPaywalled:se,isUserSubscribed:ae,isPlaying:Q,position:Q?Y:void 0,episodeSharingInfo:s.sharingInfo,onMarkAsPlayed:K,contentInformation:s.contentInformation,showUri:s.podcast?.uri||t.uri,mediaTypes:s.mediaTypes??void 0,badges:(0,k.jsx)(h.P,{episode:s}),playButtonWrapper:le,onMoreButtonClick:()=>{$.logInteraction(W.moreButtonFactory().hitUiReveal())},status:N,variant:E})})})})}))},97253:(e,t,s)=>{s.d(t,{_:()=>n});var a=s(31417),r=s(1820),i=s(86070);const n=()=>(0,i.jsx)(r.F,{size:"small",title:a.Ru.get("download.available-offline"),semanticColor:"textBrightAccent"})},10044:(e,t,s)=>{s.d(t,{J:()=>c});var a=s(77567),r=s(37488),i=s(34990),n=s(86070);const o={animated:"images/equaliser-animated-green.gif",static:"images/equaliser-green.svg"},l={animated:"images/equaliser-animated-white.gif",static:"images/equaliser-white.svg"},c=({className:e,animated:t=!1,white:s=!1})=>{const c=(0,i.j)(),u=(0,r.j)(!c&&t),d=s?l:o;return(0,n.jsx)("img",{className:e,width:"14",height:"14",alt:"",src:(0,a.b)(u?d.animated:d.static)})}},6444:(e,t,s)=>{s.d(t,{_:()=>u});var a=s(30758),r=s(21743),i=s(97500),n=s.n(i);const o="eqw9lvuoZHrkWMTdyTpY",l="lb08f71wES9AQnKx6e0R";var c=s(86070);const u=(0,a.memo)((function(e){const{triggerOnInitialLoad:t=!1,onReachBottom:s,showScrollbar:i=!0,horizontalScroll:u=!1,className:d}=e,{ref:p,inView:m}=(0,r.Wx)({initialInView:t});return(0,a.useLayoutEffect)((()=>{m&&s&&s()}),[m,s]),(0,c.jsxs)("div",{className:n()({[l]:!i,[o]:u},d),"data-testid":"infinite-scroll-list",children:[e.children,(0,c.jsx)("div",{ref:p})]})}))},3436:(e,t,s)=>{s.d(t,{M:()=>a.M});var a=s(61137)},78052:(e,t,s)=>{s.d(t,{PG:()=>r,f8:()=>n,oC:()=>a,s8:()=>i});const a=o(120),r=o(30),i=o(60),n=o(15);function o(e){return 60*e*1e3}},87246:(e,t,s)=>{s.d(t,{RS:()=>r,f0:()=>n,o8:()=>i});var a=s(85907);function r(e){return{url:e.url,width:e.width,height:e.height}}function i(e){if("Episode"===e.__typename){const t=e.podcastV2.data;return"Podcast"!==t.__typename?[]:t.coverArt?.sources.map(r)??[]}return[]}function n(e){switch(e.__typename){case"Artist":return e.visuals.avatarImage?.sources.map(r)??[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return e.coverArt?.sources.map(r)??[];case"Track":return e.albumOfTrack?.coverArt?.sources.map(r)??[];case"Playlist":return e.images.items[0]?.sources.map(r)??[];case"User":return e.avatar?.sources.map(r)??[];case"Merch":return e.image?.sources.map(r)??[];case"ArtistConcerts":{const t=e.mainArtist.data;return"Artist"!==t.__typename?[]:t.visuals.avatarImage?.sources.map(r)??[]}case"BrowseSectionContainer":return e.data?.cardRepresentation?.artwork?.sources.map(r)??[];case"BrowseClientFeature":return e.artwork?.sources.map(r)??e.iconOverlay?.sources.map(r)??[];case"GenericError":case"NotFound":case"RestrictedContent":case"BrowseSpacesHub":case"BrowseExternalHref":return[];default:return(0,a.k)(e),[]}}},36619:(e,t,s)=>{s.d(t,{d:()=>a});const a=new(s(57776).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)},26487:(e,t,s)=>{s.d(t,{$:()=>a});const a=new(s(57776).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},53294:(e,t,s)=>{s.r(t),s.d(t,{default:()=>cr});var a=s(30758),r=s(16273),i=s(85387),n=s(3074),o=s.n(n),l=s(14343),c=s(69707),u=s(31417),d=s(15292),p=s(41715),m=s(86070);const h={albums:c.$h.SEARCH_ALBUMS,artists:c.$h.SEARCH_ARTISTS,episodes:c.$h.SEARCH_EPISODES,genres:c.$h.SEARCH_GENRES,playlists:c.$h.SEARCH_PLAYLISTS,podcasts:c.$h.SEARCH_SHOWS,audiobooks:c.$h.SEARCH_AUDIOBOOKS,tracks:c.$h.SEARCH_SONGS,users:c.$h.SEARCH_PROFILES,podcastAndEpisodes:c.$h.SEARCH_PODCASTS_AND_EPISODES,topResults:c.$h.SEARCH};function g({children:e}){const{query:t="",category:s=""}=(0,i.g)();return(0,m.jsx)(p.e,{pageId:h[s],entityUri:`spotify:app:search:${t}:${s}`,children:e})}function y({children:e}){const{query:t}=(0,i.g)();return(0,m.jsx)(p.e,{pageId:c.$h.SEARCH,entityUri:`spotify:app:search:${t}`,children:e})}var f=s(61051),x=s(33712),b=s(7356),j=s(87246),C=s(32408),v=s(85907);function R(e){const t=(0,j.f0)(e);if(t.length>0)return t[0].url}function w(e,t){switch(e.content.__typename){case"BrowseXlinkResponseWrapper":case"BrowseSectionContainerWrapper":return function(e,t,s){switch(e.__typename){case"BrowseClientFeature":return(0,m.jsx)(b.r,{title:e.title?.transformedLabel??"",pageId:"search",href:e.featureUri,color:e.backgroundColor?.hex,imageUrl:R(e),ubiId:e.featureUri,index:t},e.featureUri);case"BrowseSectionContainer":return e.data?.cardRepresentation?(0,m.jsx)(b.r,{title:e.data.cardRepresentation.title?.transformedLabel??"",pageId:"search",href:(0,C.K)(s),color:e.data.cardRepresentation.backgroundColor?.hex,imageUrl:R(e),ubiId:s,index:t},s):null;case"BrowseSpacesHub":case"GenericError":case"NotFound":case"BrowseExternalHref":return null;default:return(0,v.k)(e),null}}(e.content.data,t,e.uri);case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":case"ConcertResponseWrapper":case"MerchResponseWrapper":case"ArtistConcertsResponseWrapper":case"NoContent":case"UnknownType":return null;default:return(0,v.k)(e.content),null}}var A=s(78052),k=s(57776),P=s(59147);const I=new k.l("browseAll","query","cd6fcd0ce9d1849477645646601a6d444597013355467e24066dad2c1dc9b740",null),S=()=>{const{data:e}=((e,t)=>(0,P.I)(I,e,t))({pagePagination:{offset:0,limit:10},sectionPagination:{offset:0,limit:99}},{gcTime:A.oC,staleTime:A.PG});return"BrowseSectionContainer"!==e?.browseStart?.__typename?[]:e.browseStart.sections?.items??[]};var N=s(20489),E=s(42795),T=s(83327);const _="AGAj7hr0pC57oadgb75h",U=({browseAllSpec:e})=>{const t=S();return(0,m.jsx)("div",{className:_,children:t.map(((t,s)=>function(e,t,s){if(!e.data?.__typename)return null;switch(e.data.__typename){case"BrowseGridSectionData":return(0,m.jsx)(T.r,{spec:t,children:(0,m.jsx)(N.x,{config:(0,E.s1)(E.yV.BROWSE),children:(0,m.jsx)(x.p,{title:e.data?.title?.transformedLabel??"",index:s,id:e.uri,showAll:!0,children:e.sectionItems.items.map(((e,t)=>w(e,t)))})})},e.uri);case"BrowseSingleItemSectionData":case"BrowseGenericSectionData":case"BrowseRelatedSectionData":case"BrowseUnsupportedSectionData":return null;default:return(0,v.k)(e.data),null}}(t,e,s)))})};var q=s(21549);const F="_YN9HVrnrcvnaCjYnNkM",B=()=>{const{spec:e}=(0,q.r)(f.A,{data:{uri:"search:find"}}),t=(0,a.useMemo)((()=>e.browseAllFactory()),[e]);return(0,m.jsx)("div",{className:F,children:(0,m.jsx)(U,{browseAllSpec:t})})};var O=s(33216),L=s(51347),M=s(22726),D=s(73043),V=s(71354),H=s(60749),W=s(422),$=s(44481),G=s(3362);const Z=(0,a.createContext)(null),Q=Z.Provider;function z(){const e=(0,a.useContext)(Z);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var Y=s(39566),K=s(50671);const J="_5hJUuCVGXtd6CaXQBUM",X="DH8aRN7lGO_ZqFegRTmj",ee="W37c8X5LCtHtmryEzR4I",te="oNTqWDEksr002PdYJVmT",se=({forChip:e})=>{const{query:t,serpId:s}=z(),a=!(0,Y.n)(),r=`/search/${t}`,i=(0,M.RuZ)(t).toURI(),{spec:n,logger:o}=(0,q.r)(G.w,{data:{uri:i,reason:s}}),l=(0,K.t)(n);return(0,m.jsxs)("div",{className:J,"aria-live":"polite",ref:l,children:[(0,m.jsx)(W.E,{as:"h1",variant:"titleSmall",className:X,children:e?u.Ru.get("search.empty-results-title-for-chip",t,e):u.Ru.get("search.empty-results-title",t)}),(0,m.jsx)("p",{className:ee,children:a?u.Ru.get("web-player.search-modal.offline"):u.Ru.get("search.empty-results-text")}),e&&(0,m.jsx)(H.N_,{to:r,children:(0,m.jsx)($.$,{colorSet:"invertedLight",className:te,onClick:()=>{o.logInteraction(n.seeAllButtonFactory().hitUiNavigate({destination:r}))},children:u.Ru.get("search.see-all")})})]})};var ae=s(66530);const re={results:null,isError:!1,isFetchMoreError:!1};var ie=s(88986),ne=s(38501),oe=s(6444),le=s(98712),ce=s(51354),ue=s(66583),de=s(28340),pe=s(33329);const me="l5wWcdJAOxbcnqyfuEmX",he="niq6jXm6QbYCNJJ6J0wQ",ge="L3pQN7b5ky5wG5LuGE6o",ye=({index:e,item:t})=>{const{episode:s,show:a}=t,{usePlayContextItem:r}=(0,de.P)({uri:t.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,m.jsxs)("div",{className:ge,children:[(0,m.jsx)(ie.q,{index:e,episode:{...s,requestId:t.requestId},showMetadata:a,usePlayContextItem:r}),(0,m.jsx)("hr",{className:he,"aria-hidden":!0})]})},fe=({showTitle:e=!0,displayEmptyPageOnEmptyResults:t=!0,displayError:s=!0,enableInfiniteScroll:a=!1,fetchData:r,totalCountRef:i,items:n,isError:o})=>{const{query:l,serpId:c}=z(),u=(0,M.RuZ)(l).toURI(),{ref:d,breakpoint:p}=(0,ue.x)({[le.E.MEDIUM]:0,[le.E.LARGE]:600}),h=(0,pe.s)(),g=`spotify:app:search:${encodeURIComponent(l)}:episodes`,{spec:y,UBIFragment:f}=(0,q.r)(L.w,{data:{uri:u,reason:c}});return o?s?(0,m.jsx)(O.PageErrorTemplate,{}):null:0===i.current?t?(0,m.jsx)(f,{spec:y.emptyResultsFactory(),children:(0,m.jsx)(se,{forChip:V.j7.episodes()})}):null:(0,m.jsxs)(ce.o.Provider,{value:p,children:[n&&e&&(0,m.jsx)(D.k,{title:V.j7.episodes(),seeAllUri:g,onClickTitle:()=>{y&&h.logInteraction(y.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:g}))},onClickSeeAll:()=>{y&&h.logInteraction(y.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:g}))},showSeeAll:!a&&n.length<(i.current||0)}),(0,m.jsx)("div",{ref:d,className:me,children:n&&(0,m.jsx)(oe._,{triggerOnInitialLoad:!1,onReachBottom:()=>{a&&r()},children:n})})]})},xe=e=>{const{query:t,api:s}=z(),r=(0,l.NC)(ne.MCN,{loadingValue:!1}),{results:i,isError:n,fetchData:o,totalCountRef:c}=((e,t)=>{const s=(0,ae.a)(),r=(0,a.useRef)(null),i=(0,a.useRef)(0),[n,o]=(0,a.useState)(re),l=(0,a.useCallback)((async(a=!1)=>{if(!s())return;a&&(i.current=0,r.current=null);let n=e;if(null!==r.current){if(i.current>=r.current)return;i.current+n>r.current&&(n=r.current-i.current)}try{const e=await t(i.current,n);i.current+=n,r.current=e.totalCount||0,s()&&o((t=>({isError:!1,isFetchMoreError:!1,results:(a||null===t.results?[]:t.results).concat(e.items)})))}catch(e){s()&&o((e=>{const t=null===e.results||a;return{results:a?[]:e.results,isError:t,isFetchMoreError:!t}}))}}),[e,t,s]);return(0,a.useEffect)((()=>{l(!0)}),[l]),{results:n.results,isError:n.isError,fetchData:l,totalCountRef:r}})(30,(0,a.useCallback)(((e,a)=>s.getFullEpisodes(t,e,a,r)),[s,t,r]));return(0,m.jsx)(fe,{...e,fetchData:o,totalCountRef:c,items:i?.map(((e,t)=>(0,m.jsx)(ye,{item:e,index:t},t))),isError:n})};var be=s(66872),je=s(44672);const Ce=e=>{const{title:t,category:s,query:a,results:r,onAddToHistory:i,position:n,showSeeAll:o}=e;if(!r)return null;const{items:l,totalCount:c}=r;return l&&0!==l.length?(0,m.jsx)(x.p,{index:n,id:s,total:c||0,title:t,testId:`${s}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${s}`,showSeeAll:o,children:l.map(((e,t)=>(0,m.jsx)(je.pZ,{value:s,index:t,children:(0,m.jsx)(be.Q,{onClick:()=>i(e),entity:e,index:t})},e.uri)))}):null},ve="T2yEew5FpZAOv3uHa0NK",Re=({results:e})=>{const{query:t,serpId:s,onAddToHistory:a}=z(),r=(0,M.RuZ)(t).toURI(),{spec:i,UBIFragment:n}=(0,q.r)(L.w,{data:{uri:r,reason:s}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,m.jsx)(n,{spec:i.emptyResultsFactory(),children:(0,m.jsx)(se,{forChip:V.j7.podcastAndEpisodes()})}):(0,m.jsx)(n,{spec:i,children:(0,m.jsxs)("div",{className:ve,children:[0!==e?.podcasts.totalCount&&(0,m.jsx)("div",{children:(0,m.jsx)(Ce,{position:0,category:"podcasts",title:V.j7.podcastAndEpisodes(),query:t,results:e?.podcasts,onAddToHistory:a})}),0!==e?.episodes.totalCount&&(0,m.jsx)("div",{children:(0,m.jsx)(xe,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var we=s(97500),Ae=s.n(we),ke=s(28044),Pe=s(74180),Ie=s(18870),Se=s(5993);const Ne=({query:e,category:t,pageSize:s,includePreReleases:i})=>{const{api:n}=z(),o=(0,r.jE)(),c=(0,l.NC)(ne.Z85),u=(0,a.useMemo)((()=>["searchCategoryResults",e,{category:t,pageSize:s,includePreReleases:i}]),[t,i,s,e]),{data:d,isError:p,isLoading:m,fetchNextPage:h}=(0,Se.q)({queryKey:u,initialPageParam:{offset:0,limit:s},queryFn:async({pageParam:s})=>await n.getSearchCategoryResults(e,t,!0,i,s.offset,s.limit),getNextPageParam:(e,t)=>{if(!e)return null;const a=e.pagingInfo?.nextOffset;if(null===a)return null;let r=s;return void 0!==e.totalCount&&a+r>=e.totalCount&&(r=e.totalCount-a),{offset:a,limit:r}},select:e=>e.pages.flatMap((e=>e.items)),gcTime:c>0?6e5:0,staleTime:c>0?3e5:0});return(0,a.useEffect)((()=>()=>{c>0&&o.setQueryData(u,(e=>({pages:e?.pages.slice(0,c)??[],pageParams:e?.pageParams.slice(0,c)??[]})))}),[c,o,u]),{results:d,isLoading:m,isError:p,fetchNextPage:h}};var Ee=s(21263),Te=s(70196),_e=s(73204);const Ue="cuOXad0Tk2T44Jkldvs8",qe=()=>{const e=(0,_e.J)("artist_card");return(0,m.jsxs)(Ee.Y,{ref:e,"aria-labelledby":"tooltipTitle tooltipSubtitle",children:[(0,m.jsx)(W.E,{as:"p",variant:"bodyMedium",paddingBottom:"tighter-2",id:"tooltipTitle",children:u.Ru.get("web-player.onboarding-new-user.step-select-artist")}),(0,m.jsx)(W.E,{variant:"marginal",id:"tooltipSubtitle",children:u.Ru.get("web-player.onboarding-new-user.step-count",2,Ie.c)})]})},Fe=({children:e,cardIndex:t})=>{const{shouldStepBeVisible:s}=(0,Pe.er)();return(0,m.jsx)(Te.E,{isOnboarding:!0,isVisible:0===t&&s(Ie.B.ARTIST_CARD),refClassName:Ue,content:(0,m.jsx)(qe,{}),children:e})};var Be=s(11153);const Oe="w7SWsAZah4vovAuFxjgk",Le="Qmu4FPZCnrDpQ85s4az5",Me="Ih5mmxAJFDIBYVcQQrrN",De=({displayChips:e,category:t})=>{const{query:s,serpId:r,onAddToHistory:i}=z(),{tryTriggerNextStep:n,isOnboardingComplete:o}=(0,Pe.er)(),l="audiobooks"===t,{results:c,isError:u,isLoading:d,fetchNextPage:p}=Ne({query:s,category:t,pageSize:30,includePreReleases:l}),h=(0,a.useCallback)(((e,t)=>(0,m.jsx)(je.pZ,{value:"card",index:t,children:(0,m.jsx)(Fe,{cardIndex:t,children:(0,m.jsx)("div",{className:Me,children:(0,m.jsx)(be.Q,{entity:e,onClick:()=>{i(e),n(Ie.B.ARTIST_CARD)},testId:`search-category-card-${t}`,index:t})})})},`${e.uri}-${t}`)),[i,n]),g=(0,M.RuZ)(s).toURI(),{spec:y,UBIFragment:f}=(0,q.r)(ke.b,{data:{uri:g,identifier:t,reason:r}}),x=(0,a.useMemo)((()=>y.cardsFactory()),[y]),b=(0,a.useMemo)((()=>y.emptyResultsFactory()),[y]);return u?(0,m.jsx)(O.PageErrorTemplate,{}):d||c&&0!==c.length||!o?(0,m.jsx)(f,{spec:x,children:(0,m.jsx)("div",{className:Ae()(Oe,{[Le]:e}),children:c&&(0,m.jsx)(oe._,{onReachBottom:p,triggerOnInitialLoad:!1,children:(0,m.jsx)(Be.E,{render:()=>c.map(((e,t)=>h(e,t)))})})})}):(0,m.jsx)(f,{spec:b,children:(0,m.jsx)(se,{forChip:V.j7[t]()})})};var Ve=s(44250),He=s(10611),We=s(65462),$e=s(54622),Ge=s(13860),Ze=s(32183),Qe=s(80737),ze=s(14563),Ye=s(20455),Ke=s(68118),Je=s(27305),Xe=s(591),et=s(95931),tt=s(67799),st=s(82391),at=s(60651),rt=s(13679),it=s(38215),nt=s(93627),ot=s(95797),lt=s(35522),ct=s(33593),ut=s(44335),dt=s(3436),pt=s(76008),mt=s(55926),ht=s(42621),gt=s(99041),yt=s(97253),ft=s(18663),xt=s(85346),bt=s(15838),jt=s(14178);const Ct=a.memo((function({uri:e,name:t,duration:s,artists:a,album:r,isExplicit:i,is19PlusOnly:n,isPlayable:o,index:l,imgUrl:c,requestId:d,isLyricsMatch:p,hasAssociatedVideo:h}){const{isActive:g,isPlaying:y,triggerPlay:f,togglePlay:x}=(0,de.P)({uri:e},{featureIdentifier:"search",referrerIdentifier:"search"}),{spec:b}=(0,q.r)(He.i,{data:{position:l,reason:d??"",uri:e}}),j=(0,xt.T)(e),{isPlayable:C,isAnyArtistBanned:v}=(0,ht.g)(e,{isPlayable:o,isLocal:!1,isOutOfMarket:!1,artistUris:a?.map((e=>e.uri))}),{unBanArtists:R}=(0,dt.M)(a.map((e=>e.uri))),{badges:w,hasBadges:A}=(0,bt.b)({downloadAvailability:j,isExplicit:i,isMOGEFRestricted:n,hasAssociatedVideo:h}),k=a?.map((e=>e.name)).join(u.Ru.getSeparator())||"",P=(0,mt.c)();return(0,m.jsx)(je.pZ,{value:"row",index:l,children:(0,m.jsx)(We.h,{menu:(0,m.jsx)($e.P,{uri:e,albumUri:r?.uri,artists:a,contextUri:e}),children:(0,m.jsxs)(lt.w,{uri:e,contextUri:e,onTriggerPlay:(e,t)=>{f({loggingParams:t})},isActive:g,index:l,ariaRowIndex:l+1,isPlayable:C,isAnyArtistBanned:v,handleArtistBanUndoClick:R,ageRestricted:n,dragMetadata:{name:t,createdBy:k},spec:b,isExplicit:i,children:[(0,m.jsx)(at.y,{ariaColIndex:0,children:(0,m.jsx)(Xe.$,{uri:e,playAriaLabel:u.Ru.get("tracklist.a11y.play",t,k),onClick:(e,t)=>{C&&x({loggingParams:t})},isPlaying:y,isActive:g,spec:b,children:(0,m.jsx)(tt.a,{children:l+1})})}),(0,m.jsxs)(rt.U,{ariaColIndex:1,children:[(0,m.jsx)(Ke.e,{src:c}),(0,m.jsxs)(Je.l,{children:[(0,m.jsx)(Ge.R,{enabled:P,uri:e,className:jt.A.rowTitle,children:(0,m.jsx)(ot.p,{titleText:t,children:t})}),A&&(0,m.jsxs)(ze.P,{children:[w.download&&(0,m.jsx)(yt._,{}),w.explicit&&(0,m.jsx)(gt.U,{}),w.nineteen&&(0,m.jsx)(ft.q,{className:jt.A.nineteen,size:16}),w.hasAssociatedVideo&&(0,m.jsx)(ct.l,{})]}),(0,m.jsxs)(nt.p,{children:[(0,m.jsx)(Qe.l,{artists:a,spec:b}),p&&(0,m.jsx)(pt.G,{})]})]})]}),(0,m.jsx)(it.o,{ariaColIndex:2,children:(0,m.jsx)(Ze.g,{uri:r?.uri||"",name:r?.name||"",creatorUri:a?.[0]?.uri,spec:b,children:r?.name})}),(0,m.jsxs)(st.l,{ariaColIndex:3,children:[(0,m.jsx)(ut.d,{uri:e,spec:b}),(0,m.jsx)(Ye.P,{duration:s.milliseconds}),(0,m.jsx)(et.Y,{menu:(0,m.jsx)($e.P,{uri:e,albumUri:r?.uri,artists:a,contextUri:e}),label:u.Ru.get("more.label.track",t,k),spec:b})]})]})})})}),((e,t)=>e.uri===t.uri));var vt=s(96614),Rt=s(4266),wt=s(3520),At=s(58769),kt=s(17287),Pt=s(21082);const It="search-searchCategory-SearchCategory",St="search-searchCategory-wrapper",Nt="search-searchCategory-categoryGridItem",Et=({to:e,title:t,selected:s,onClick:a})=>(0,m.jsx)(Pt.N,{replace:!0,to:e,tabIndex:-1,onClick:a,className:Nt,children:(0,m.jsx)(wt.v,{selected:s,selectedColorSet:"invertedLight",tabIndex:-1,children:t})}),Tt=({searchCategories:e,selectedCategory:t,displayChips:s})=>{const{query:a}=z(),{spec:r,logger:i}=(0,q.r)(At.q,{});if(!a||!s)return null;const n=encodeURIComponent(a);return(0,m.jsx)("div",{className:It,children:(0,m.jsx)("div",{className:Ae()(St,"contentSpacing"),children:(0,m.jsxs)(kt.FN,{children:[e.length>0&&(0,m.jsx)(Et,{to:`spotify:app:search:${n}`,title:u.Ru.get("search.title.all"),selected:void 0===t,onClick:()=>{i.logInteraction(r.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${n}`}))}},"all"),e.map(((e,s)=>{const a=V.j7[e]?.()??"";return a||console.warn("Received empty title for category: ",e),(0,m.jsx)(Et,{to:`spotify:app:search:${n}:${e}`,title:a,selected:t===e,onClick:()=>{i.logInteraction(r.chipFactory({identifier:e,position:s+1}).hitUiNavigate({destination:`spotify:app:search:${n}:${e}`}))}},e)}))]})})})};var _t=s(28828),Ut=s(63096);const qt="oahixVvmYv3VD8UxHkpr",Ft=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const{query:t,serpId:s}=z(),{results:r,isError:i,isLoading:n,fetchNextPage:o}=Ne({query:t,category:"tracks",pageSize:20,includePreReleases:!1}),l=(0,a.useCallback)(((e,t)=>{const s=(0,Ut.g)(e.album?.images,{desiredSize:40});return(0,m.jsx)(Ct,{index:t,uri:(0,_t.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:s?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo},t+e.uri)}),[]),c=(0,a.useMemo)((()=>[Rt.$.INDEX,Rt.$.TITLE_AND_ARTIST,Rt.$.ALBUM,Rt.$.DURATION]),[]),d=(0,a.useCallback)((e=>({uri:e.uri})),[]),p=(0,M.RuZ)(t).toURI(),{spec:h,UBIFragment:g}=(0,q.r)(Ve.t,{data:{uri:p,reason:s}}),y=(0,a.useMemo)((()=>h.tracksFactory()),[h]),f=u.Ru.get("search.showing-category-query-songs",t);return i?(0,m.jsx)(O.PageErrorTemplate,{}):n||r&&0!==r.length?(0,m.jsx)(g,{spec:y,children:(0,m.jsx)(je.pZ,{value:"search-results-tracklist",children:(0,m.jsx)("div",{className:qt,children:r&&(0,m.jsx)(oe._,{triggerOnInitialLoad:!1,onReachBottom:o,children:(0,m.jsx)(vt.S4,{ariaLabel:f,hasHeaderRow:!0,columns:c,renderRow:l,resolveItem:d,nrTracks:r.length,headerTop:48,tracks:r,columnPersistenceKey:"search-results-tracklist"},t)})})})}):(0,m.jsx)(g,{spec:h.emptyResultsFactory(),children:(0,m.jsx)(se,{forChip:V.j7.tracks()})})},Bt=({results:e,displayChips:t})=>{const{category:s}=z();return s?"podcastAndEpisodes"===s?(0,m.jsx)(Re,{results:e}):"tracks"===s?(0,m.jsx)(Ft,{}):"episodes"===s?(0,m.jsx)(xe,{enableInfiniteScroll:!0,showTitle:!1}):(0,m.jsx)(De,{displayChips:t,category:s}):(0,m.jsx)(O.PageErrorTemplate,{})};var Ot=s(6772),Lt=s(50381),Mt=s(91576),Dt=s(26276),Vt=s(93240),Ht=s(95089),Wt=s(78350),$t=s(93523),Gt=s(36619),Zt=s(26487),Qt=s(29195),zt=s(67668);const Yt="MdWVOTFflb7OayRjn9pZ",Kt="N7Ng_kgcjiOOGs7Y48l9",Jt="_4tnwlIafghEfbtatHyO",Xt="xgdE_xwOB8XLCxHOdp_I",es="YQfV97NZUj3G9JJwAiuY",ts=(e,t)=>e(Gt.d,{concertUri:t}),ss=(e,t)=>e(Zt.$,{concertUri:t}),as=e=>{const[t,s]=(0,a.useState)(!1),[r,i]=(0,a.useState)(e.saved),{unsaveConcertFn:n=ss,saveConcertFn:o=ts,enqueueSnackbarFn:l=Vt.M8}=e.deps??{},{getGraphQLLoader:c}=(0,Qt.mv)(),d=c(),p=(0,zt.V)(),h=(0,M.o_h)(e.uri);if(!h)return null;const g=r?Ht.k:Wt.P,y=r?"textPositive":void 0;return(0,m.jsx)(H.N_,{to:`/${h.toURLPath()}`,onClick:e.onClick,className:Xt,children:(0,m.jsxs)("div",{className:Yt,children:[(0,m.jsxs)("div",{className:Kt,children:[(0,m.jsxs)("div",{className:Jt,children:[(0,m.jsx)(W.E,{as:"div",variant:"marginal",children:e.date.month}),(0,m.jsx)(W.E,{as:"div",variant:"bodySmallBold",children:e.date.day})]}),(0,m.jsxs)("div",{className:es,children:[(0,m.jsx)(W.E,{children:e.title}),(0,m.jsx)(W.E,{semanticColor:"textSubdued",variant:"bodySmall",children:e.subtitle})]})]}),!p&&(0,m.jsx)($t.H,{semanticColor:y,iconOnly:g,"aria-label":u.Ru.get("concerts_interested_tooltip"),onClick:async a=>{if(a.preventDefault(),a.stopPropagation(),!t){s(!0);try{r?(await n(d,e.uri),l(u.Ru.get("concerts_removed-from-your-saved-events")),i(!1)):(e.onClickInterested&&e.onClickInterested(),await o(d,e.uri),l(u.Ru.get("concerts_added-to-your-saved-events")),i(!0))}finally{s(!1)}}}})]})})};var rs=s(3068);const is="mh7QL6adD4FIJhD5Exb9",ns="FgawEObrsLOnHPzhrl5a",os="PrDOhMH2lS5D8mMwbmF1",ls="hd4Hw4T7wuHZluBSTMZc",cs=e=>{const t=(0,M.o_h)(e.uri);return t?(0,m.jsx)(H.N_,{to:`/artist/${t.id}/concerts`,onClick:e.onClick,className:ls,children:(0,m.jsxs)("div",{className:is,children:[(0,m.jsx)("div",{className:ns,children:(0,m.jsx)(rs.T,{className:os})}),e.children]})}):null},us="XZWs6fKwvH8afOAX9oRk",ds="xZzauCAsVPuDnvFjEnl5",ps="UDNDdAPalgpoNPaKmACx",ms="yKnPM8up5atlbSBdRXVv",hs="ifJugrlP5ysjVmb2s4v3",gs="NsXrW_ZuSRESU0URaCER",ys=({uri:e,date:t,title:s,subtitle:r,saved:i})=>{const{spec:n}=(0,q.r)(Mt.S,{data:{uri:e}}),o=(0,pe.s)(),l=(0,K.t)(n),c=new Date(t),d=u.Ru.formatDate(c,{weekday:"short"}),p=u.Ru.formatDate(c,{hour:"numeric",minute:"numeric"}),h=u.Ru.formatDate(c,{day:"numeric"}),g=u.Ru.formatDate(c,{month:"short"}),y=(0,a.useMemo)((()=>n.localConcertFactory({uri:e})),[e,n]),f=(0,a.useMemo)((()=>n.interestedButtonFactory({uri:e})),[e,n]);return(0,m.jsx)("div",{ref:l,children:(0,m.jsx)(as,{uri:e,title:s,saved:i,subtitle:u.Ru.get("search.concert.event",d,p,r),date:{day:h,month:g},onClick:()=>{o.logInteraction(y.hitUiNavigate({destination:e}))},onClickInterested:()=>{o.logInteraction(f.hitUiSelect())}})})},fs=({artistUri:e})=>{const{spec:t}=(0,q.r)(Dt._,{data:{uri:e??""}}),s=(0,pe.s)(),r=(0,K.t)(t),i=(0,a.useMemo)((()=>t.onTourShelfFactory({uri:e??""})),[e,t]);return(0,m.jsx)("div",{ref:r,children:(0,m.jsx)(cs,{uri:e??"",onClick:()=>{s.logInteraction(i.hitUiNavigate({destination:`${e}:concerts`}))},children:u.Ru.get("search.concerts.see-all")})})},xs=({artistUri:e,concert:t})=>(0,m.jsxs)("section",{className:Ae()(hs),children:[(0,m.jsx)("div",{className:us,children:(0,m.jsx)("div",{className:ds,children:(0,m.jsx)("div",{className:ps,children:(0,m.jsx)(W.E,{as:"h2",variant:"titleSmall",className:ms,children:u.Ru.get("search.title.concerts")})})})}),(0,m.jsx)("div",{className:gs,children:t?(0,m.jsx)(ys,{...t}):(0,m.jsx)(fs,{artistUri:e})})]});var bs=s(37115),js=s(50915),Cs=s(43329);const vs=a.memo((function({uri:e,name:t,duration:s,album:a,artists:r,index:i,imgUrl:n,isPlayable:o,isExplicit:c,is19PlusOnly:d,requestId:p,isLyricsMatch:h,hasAssociatedVideo:g}){const{isActive:y,isPlaying:f,triggerPlay:x,togglePlay:b}=(0,de.P)({uri:e},{featureIdentifier:"search",referrerIdentifier:"search"}),j=(0,l.NC)(Cs.QT),{spec:C}=(0,q.r)(He.i,{data:{position:i,reason:p??"",uri:e}}),v=(0,xt.T)(e),{isPlayable:R,isAnyArtistBanned:w}=(0,ht.g)(e,{isPlayable:o,isLocal:!1,isOutOfMarket:!1,artistUris:r?.map((e=>e.uri))}),{unBanArtists:A}=(0,dt.M)(r.map((e=>e.uri))),{badges:k,hasBadges:P}=(0,bt.b)({downloadAvailability:v,isExplicit:c,isMOGEFRestricted:d,hasAssociatedVideo:g}),I=(r||[]).map((e=>e.name)).join(u.Ru.getSeparator()),S=(0,mt.c)(),N=(0,K.t)(C);return(0,m.jsx)(je.pZ,{value:"row",index:i,children:(0,m.jsx)("div",{ref:j?N:void 0,children:(0,m.jsx)(We.h,{menu:(0,m.jsx)($e.P,{uri:e,artists:r,contextUri:e,albumUri:a?.uri}),children:(0,m.jsxs)(lt.w,{uri:e,contextUri:e,index:i,ariaRowIndex:i,onTriggerPlay:(e,t)=>{x({loggingParams:t})},isActive:y,isPlayable:R,isAnyArtistBanned:w,handleArtistBanUndoClick:A,ageRestricted:d,dragMetadata:{name:t,createdBy:I},spec:C,isExplicit:c,children:[(0,m.jsxs)(rt.U,{ariaColIndex:0,children:[(0,m.jsx)(js.u,{uri:e,src:n,onClick:(e,t)=>{b({loggingParams:t})},isLocked:!1,isPlaying:f,isActive:y,playAriaLabel:u.Ru.get("tracklist.a11y.play",t,I),spec:C}),(0,m.jsxs)(Je.l,{children:[(0,m.jsx)(Ge.R,{enabled:S,uri:e,className:jt.A.rowTitle,children:(0,m.jsx)(ot.p,{titleText:t,children:t})}),P&&(0,m.jsxs)(ze.P,{children:[k.download&&(0,m.jsx)(yt._,{}),k.explicit&&(0,m.jsx)(gt.U,{}),k.nineteen&&(0,m.jsx)(ft.q,{className:jt.A.nineteen,size:16}),k.hasAssociatedVideo&&(0,m.jsx)(ct.l,{})]}),(0,m.jsxs)(nt.p,{children:[(0,m.jsx)(Qe.l,{artists:r,spec:C}),h&&(0,m.jsx)(pt.G,{})]})]})]}),(0,m.jsxs)(st.l,{ariaColIndex:1,children:[(0,m.jsx)(ut.d,{uri:e,spec:C}),(0,m.jsx)(Ye.P,{duration:s.milliseconds}),(0,m.jsx)(et.Y,{menu:(0,m.jsx)($e.P,{uri:e,artists:r,contextUri:e,albumUri:a?.uri}),label:u.Ru.get("more.label.track",t,I),spec:C})]})]})})})})}),((e,t)=>e.uri===t.uri&&e.index===t.index)),Rs=a.memo((function({tracks:e,query:t}){const s=(0,l.NC)(ne.LX5),r=(0,a.useCallback)(((e,t)=>{const a=(0,Ut.g)(e.album?.images,{desiredSize:40});return(0,m.jsx)(vs,{uri:(0,_t.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:t,imgUrl:a?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo&&s},e.uri)}),[s]),i=(0,a.useMemo)((()=>[Rt.$.TITLE_AND_ARTIST,Rt.$.DURATION]),[]),n=(0,a.useCallback)((e=>({uri:e.uri})),[]);return e&&(0,m.jsx)(je.pZ,{value:"search-results-tracklist",children:(0,m.jsx)(vt.S4,{ariaLabel:u.Ru.get("search.a11y.songs-search-results"),renderRow:r,rowPlaceholder:bs.qq,nrTracks:Math.min(e.length,4),tracks:e,resolveItem:n,columns:i},t)})}),((e,t)=>e.tracks===t.tracks)),ws="qTGjBrDb0ehi3T31ixUg",As="ib6ClWIXW5DmWXaC0W08",ks="nTbpvWKW0gZOhU4sejUH",Ps=({tracks:e,query:t,className:s,showSeeAll:r=!0,spec:i})=>{const n=(0,pe.s)(),o=(0,a.useCallback)((()=>(0,m.jsx)("div",{className:ks,children:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(Rs,{tracks:e.items,query:t})})})),[t,e]),l=`spotify:app:search:${encodeURIComponent(t)}:tracks`,c=(0,a.useCallback)((()=>{const e=i.headerFactory().titleFactory().hitUiNavigate({destination:l});n.logInteraction(e)}),[n,i,l]),d=(0,a.useCallback)((()=>{const e=i.headerFactory().seeAllFactory().hitUiNavigate({destination:l});n.logInteraction(e)}),[n,i,l]);return e.items.length?(0,m.jsxs)("section",{className:Ae()(As,s),"aria-label":u.Ru.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,m.jsx)("div",{className:ws,children:(0,m.jsx)(D.k,{seeAllUri:l,onClickTitle:c,onClickSeeAll:d,title:u.Ru.get("search.title.tracks"),titleUri:l,showSeeAll:r&&e.items.length>4})}),(0,m.jsx)(T.r,{spec:i,children:(0,m.jsx)(Be.E,{render:o})})]}):null},Is=({topRecommendations:e,className:t,onAddToHistory:s,position:a})=>{const r=e.totalCount||0;return(0,m.jsx)(x.p,{index:a,id:"top-recommendations",className:t,total:r,title:u.Ru.get("artist-page.featuring",e.artistName),children:e.items.map(((e,t)=>(0,m.jsx)(je.pZ,{index:t,value:"top-recommendations",children:(0,m.jsx)(be.Q,{onClick:()=>s(e),entity:e,index:t})},e.uri)))})};var Ss=s(92255);const Ns="vKsgiy0W3aHYmZUlwHoQ",Es="w2O3N2xilgVcd4ep6cQL",Ts="T2cpdJTvNpOFPvN4WJM4",_s="u372KlVrkMz1ZpJ89LMG",Us="DIYNtp69Gd1l3eaBT3Bg",qs="cXdpTaiu9PEfynRcDKrU",Fs="yZ3EPSfU0nkNoCu19iPL",Bs="OtEFcRGkMfUXBZC2HF5M",Os=({topResults:e,onAddToHistory:t})=>{const[s]=e.items;return s&&(0,m.jsx)(Ss.$,{total:1,className:Ns,title:u.Ru.get("search.title.top-result"),withEncoreCards:!1,children:[(0,m.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Es,children:(0,m.jsx)(je.pZ,{value:"top-result-card",children:(0,m.jsx)(be.Q,{isHero:!0,index:0,onClick:()=>t(s),entity:s})})},"top-result-item")]})};var Ls=s(7307);const Ms=e=>e?.type===Ls.c.ARTIST,Ds=({results:e})=>{const{query:t,onAddToHistory:s,serpId:r}=z(),i=(0,M.RuZ)(t).toURI(),{spec:n,UBIFragment:o}=(0,q.r)(Lt.P,{data:{uri:i,reason:r}}),l=e.topResults.items.length>0,c=e.tracks.items.length>0,u=e.topRecommendations.items.length>0,[d]=e.topResults.items??[],p=Ms(d)?(e=>{const[t]=e??[];if(t&&"uri"in(t.data??{}))return{uri:t.data.uri,date:t.data.startDateIsoString,title:t.data.location.city,subtitle:t.data.location.name,saved:t.data.saved}})(d.localConcerts?.items):void 0,h=Ms(d)&&(d.hasConcerts||!!p),g=(0,a.useMemo)((()=>({topResult:n.topResultFactory(),trackList:n.trackListFactory(),shelves:n.shelvesFactory()})),[n]);return(0,m.jsx)(Be.E,{className:Ts,rowGap:Ot.WG,colGap:Ot.CJ,testId:"search-results",render:({columnCount:a})=>{let r,i;return l?r=a>3?Us:qs:u&&(a>5&&c?(r=_s,i=Fs):(r=qs,i=Bs)),(0,m.jsxs)(je.pZ,{value:"search-results",children:[l&&(0,m.jsx)(o,{spec:g.topResult,children:(0,m.jsx)(Os,{topResults:e.topResults,onAddToHistory:s})}),(0,m.jsxs)("section",{className:r,children:[h&&(0,m.jsx)(xs,{artistUri:d.uri,concert:p}),c&&(0,m.jsx)(Ps,{spec:g.trackList,query:t,tracks:h?{totalCount:3,items:e.tracks.items.slice(0,3)}:e.tracks,onAddToHistory:s,showSeeAll:!1})]}),u&&(0,m.jsx)(o,{spec:g.shelves,children:(0,m.jsx)(Is,{position:0,query:t,className:i,topRecommendations:e.topRecommendations,onAddToHistory:s,showSeeAll:!1})}),V.ud.map(((a,r)=>(0,m.jsx)(o,{spec:g.shelves,children:(0,m.jsx)(Ce,{position:r+1,category:a,title:V.j7[a](),query:t,results:e[a],onAddToHistory:s,showSeeAll:!1})},`search-shelf-${a}`)))]})}})},Vs=({results:e,hasResults:t})=>{const{query:s,serpId:a}=z(),r=(0,M.RuZ)(s).toURI(),i=!(0,Y.n)(),{spec:n,UBIFragment:o}=(0,q.r)(Lt.P,{data:{uri:r,reason:a}});return i?(0,m.jsx)(se,{}):e?e&&!t?(0,m.jsx)(o,{spec:n.emptyResultsFactory(),children:(0,m.jsx)(se,{})}):(0,m.jsx)(Ds,{results:e}):null},Hs=new k.l("searchDesktop","query","f1f1c151cd392433ef4d2683a10deb9adeefd660f29692d8539ce450d2dfdb96",null);function Ws(e){return e.map((e=>e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e))}var $s=s(34613),Gs=s(75049),Zs=s(13719);function Qs(e,t){if("PreRelease"!==e.data?.__typename)return null;const s=e.data.preReleaseContent;if(!s)return null;const a=(0,Gs.mp)(e.data.releaseDate),r=s.artists.items.map((e=>"Artist"===e.data.__typename?{type:Ls.c.ARTIST,name:e.data.profile.name,uri:e.data.uri}:null)).filter(Zs.P);return{type:Ls.c.PRE_RELEASE_ALBUM,name:s.name||"",uri:e.data.uri,images:Ws(s.coverArt?.sources||[]),release:a,releaseTimezone:e.data.timezone,artists:r,color:(0,$s.m)(s.coverArt?.extractedColors),requestId:t}}var zs=s(16157);function Ys(e,t){return{items:(e?.items||[]).map((e=>{const{__typename:s}=e;switch(s){case"AlbumResponseWrapper":return Js(e,t);case"PreReleaseResponseWrapper":return Qs(e,t);case"UnknownTypeWrapper":return null;default:return(0,v.k)(s),null}})).filter(Zs.P),totalCount:e?.totalCount||0}}const Ks=e=>{switch(e){case zs._m.Album:return"ALBUM";case zs._m.Compilation:return"COMPILATION";case zs._m.Single:return"SINGLE";case zs._m.Ep:return"EP";case zs._m.Audiobook:return"AUDIOBOOK";case zs._m.Podcast:return"PODCAST";case zs._m.Unknown:return"UNKNOWN";default:return(0,v.k)(e),"UNKNOWN"}};function Js(e,t){if("Album"!==e.data.__typename)return null;const s=e.data;return{type:Ls.c.ALBUM,name:s.name,uri:s.uri,images:Ws(s.coverArt?.sources||[]),artists:s.artists.items.map((e=>({type:Ls.c.ARTIST,name:e.profile.name,uri:e.uri}))),year:s.date?.year,requestId:t,color:(0,$s.m)(e.data.coverArt?.extractedColors),isPlayable:e.data.playability.playable,playabilityReason:e.data.playability.reason,albumType:Ks(e.data.type)}}const Xs=new k.l("searchAlbums","query","a71d2c993fc98e1c880093738a55a38b57e69cc4ce5a8c113e6c5920f9513ee2",null),ea=(e,t)=>{const s="object"==typeof e?.requestIds?e?.requestIds:void 0,a=s?.[t],r="object"==typeof a?a:void 0;return"string"==typeof r?.["search-api"]?r?.["search-api"]:void 0},ta=e=>ea(e,"/searchV2"),sa=e=>ea(e,"/searchV2/topResultsV2"),aa=(e,t)=>({...e,pagingInfo:t});function ra(e,t){return{items:ia(e?.items||[],t),totalCount:e?.totalCount||0}}function ia(e,t){return e.map((e=>na(e,t))).filter(Zs.P)}function na(e,t){if("Artist"!==e.data?.__typename)return null;const s=e.data;return{type:Ls.c.ARTIST,name:s.profile.name,images:Ws(s.visuals?.avatarImage?.sources||[]),uri:s.uri,verified:s.profile.verified||!1,requestId:t,hasConcerts:s.hasConcerts??!1,localConcerts:s.localConcerts,color:(0,$s.m)(s.visuals.avatarImage?.extractedColors)}}const oa=new k.l("searchArtists","query","0e6f9020a66fe15b93b3bb5c7e6484d1d8cb3775963996eaede72bac4d97e909",null);function la(e,t){return{items:ca(e?.items||[],t),totalCount:e?.totalCount}}function ca(e,t){return e.map((e=>ua(e,t))).filter(Zs.P)}function ua(e,t){if("Audiobook"!==e.data?.__typename)return null;const s=e.data;let a=null;return s.isPreRelease&&s.preReleaseEndDateTime?a=new Date(s.preReleaseEndDateTime?.isoString):s.publishDate&&(a=new Date(s.publishDate.isoString)),{type:Ls.c.AUDIOBOOK,uri:s.uri,name:s.name,images:Ws(s.coverArt?.sources||[]),authorName:s.authors?.[0]?.name??"",topics:s.topics.items||[],publishDate:a,requestId:t,color:(0,$s.m)(s.coverArt?.extractedColors),signifierText:s.accessInfo?.signifier?.text??void 0,isPreRelease:!!s.isPreRelease}}const da=new k.l("searchAudiobooks","query","82ec16373818a73b4d7323c076e4f5d550ec3b0e5e2650d4715ca011dfa775fe",null);var pa=s(34647),ma=s(16717),ha=s(59029);const ga={type:Ls.c.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:ha.Q.UNKNOWN};function ya(e,t){return{items:fa(e?.items||[],t),totalCount:e?.totalCount||0}}function fa(e,t){return e.map((e=>xa(e,t))).filter(Zs.P)}function xa(e,t){if("Episode"!==e.data?.__typename)return null;const s=e.data,a=s.podcastV2.data;let r=ga;return"Podcast"===a.__typename&&(r={type:Ls.c.SHOW,uri:a.uri,name:a.name,publisher:a.publisher?.name||"",mediaType:(0,ma.w)(a.mediaType),images:Ws(a.coverArt?.sources||[])}),{type:Ls.c.EPISODE,name:s.name,images:Ws(s.coverArt?.sources||[]),uri:s.uri,duration:{milliseconds:s.duration.totalMilliseconds},isExplicit:s.contentRating?.label===zs.x7.Explicit,release:(0,Gs.mp)(s.releaseDate),description:s.description||"",playedState:(0,pa.fS)(s.duration,s.playedState),is19PlusOnly:s.contentRating?.label===zs.x7.NineteenPlus,show:r,requestId:t,color:(0,$s.m)(s.coverArt?.extractedColors),mediaType:s.mediaTypes??[],podcastSubscription:(0,pa.Wx)(s.restrictions,s.playability)}}const ba=new k.l("searchEpisodes","query","2ea262956893c3e5972c865bbe13105815d1c1a11f948dcc6e2c3fbf839228fc",null);new k.l("searchEpisodesWithGatedEntityRelations","query","2ea262956893c3e5972c865bbe13105815d1c1a11f948dcc6e2c3fbf839228fc",null);const ja=new k.l("searchFullEpisodes","query","b2f65fc3df4a62c2d4654a21f4eed36dc67254829a989a7a70e75c6905beda30",null),Ca=new k.l("searchFullEpisodesWithGatedEntityRelations","query","b2f65fc3df4a62c2d4654a21f4eed36dc67254829a989a7a70e75c6905beda30",null);var va=s(35529);const Ra={...ga,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0,gatedContentAccessReason:void 0,isLocked:!1};function wa(e,t){return e.map((e=>function(e,t){if("Episode"!==e.data?.__typename)return null;let s=Ra;"Podcast"===e.data.podcastV2.data.__typename&&(s=(0,va._v)(e.data.podcastV2.data));return{requestId:t,episode:(0,va.S)(e.data),show:s}}(e,t))).filter(Zs.P)}async function Aa(e,t,s=!1){const a=await e(s?Ca:ja,t),r=a?.data?.searchV2?.episodes;return r?function(e,t){return{items:wa(e?.items||[],t),totalCount:e?.totalCount||0}}(r,ta(a?.extensions)):null}function ka(e,t){return{items:Pa(e?.items||[],t),totalCount:e?.totalCount||0}}function Pa(e,t){return e.map((e=>Ia(e,t))).filter(Zs.P)}function Ia(e,t){if("Genre"!==e.data?.__typename)return null;const s=e.data,a=(0,M.o_h)(s.uri);return{type:Ls.c.GENRE,name:s.name,uri:a?s.uri:`spotify:genre:${s.uri}`,images:Ws(s.image?.sources||[]),requestId:t,color:(0,$s.m)(s.image?.extractedColors)}}const Sa=new k.l("searchGenres","query","9e1c0e056c46239dd1956ea915b988913c87c04ce3dadccdb537774490266f46",null);const Na={type:Ls.c.USER,uri:"",displayName:"",username:"",images:[]};function Ea(e,t){return{items:Ta(e?.items||[],t),totalCount:e?.totalCount||0}}function Ta(e,t){return e.map((e=>_a(e,t))).filter(Zs.P)}function _a(e,t){if("Playlist"!==e.data?.__typename)return null;const s=e.data;let a=Na;if("User"===s.ownerV2?.data.__typename){const e=s.ownerV2?.data;a={type:Ls.c.USER,uri:e.uri||"",displayName:e.name||"",username:e.username||"",images:Ws(e.avatar?.sources||[])}}return{type:Ls.c.PLAYLIST,uri:s.uri,name:s.name,images:Ws(s.images?.items.flatMap((e=>e.sources))||[]),owner:a,requestId:t,formatListData:{type:s.format??"",attributes:(r=s.attributes??[],r.reduce(((e,t)=>(e[t.key]=t.value,e)),{}))},color:(0,$s.m)(s.images.items[0]?.extractedColors)};var r}const Ua=new k.l("searchPlaylists","query","fc3a690182167dbad20ac7a03f842b97be4e9737710600874cb903f30112ad58",null);function qa(e,t){return{items:Fa(e?.items||[],t),totalCount:e?.totalCount||0}}function Fa(e,t){return e.map((e=>Ba(e,t))).filter(Zs.P)}function Ba(e,t){if("Podcast"!==e.data?.__typename)return null;const s=e.data;return{type:Ls.c.SHOW,uri:s.uri,name:s.name,images:Ws(s.coverArt?.sources||[]),publisher:s.publisher?.name||"",topics:s.topics.items||[],requestId:t,color:(0,$s.m)(s.coverArt?.extractedColors)}}const Oa=new k.l("searchPodcasts","query","cbd33edc7a612454640d753caff6fb1074a7868843612d257dcef5e71e837dd9",null);function La(e,t){return{items:Ma(e,t),totalCount:e?.totalCount||0}}function Ma(e,t){return e?.items.map((({item:e,matchedFields:s})=>Da(e,s,t))).filter(Zs.P)||[]}function Da(e,t,s){if("Track"!==e.data?.__typename)return null;const a=e.data,r=a.albumOfTrack,i=a.associationsV2.totalCount>0;return{type:Ls.c.TRACK,uri:a.uri,name:a.name,isPlayable:a.playability.playable,album:{type:Ls.c.ALBUM,uri:r?.uri||"",name:r?.name||"",images:Ws(r?.coverArt?.sources||[])},artists:a.artists.items.map((e=>({type:Ls.c.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:a.duration.totalMilliseconds},hasAssociatedVideo:i,isExplicit:"EXPLICIT"===a.contentRating?.label,is19PlusOnly:"NINETEEN_PLUS"===a.contentRating?.label,requestId:s,isLyricsMatch:!!t?.includes(zs.tC.Lyrics)&&!t?.includes(zs.tC.Name),color:(0,$s.m)(r?.coverArt?.extractedColors)}}function Va(e,t){return{items:Ha(e?.items||[],t),totalCount:e?.totalCount||0}}function Ha(e,t){return e.map((e=>Wa(e,t))).filter(Zs.P)}function Wa(e,t){if("User"!==e.data?.__typename)return null;const s=e.data;return{type:Ls.c.USER,uri:s.uri,name:s.displayName||s.username,images:Ws(s.avatar?.sources??[]),requestId:t,color:(0,$s.m)(s.avatar?.extractedColors)}}var $a=s(68993);function Ga(e,t){const s=e?.itemsV2??[],a=s.map((({item:e,matchedFields:s})=>{const{__typename:a}=e;switch(a){case"AlbumResponseWrapper":return Js(e,t);case"ArtistResponseWrapper":return na(e,t);case"AudiobookResponseWrapper":return ua(e,t);case"EpisodeResponseWrapper":return xa(e,t);case"GenreResponseWrapper":return Ia(e,t);case"PlaylistResponseWrapper":return _a(e,t);case"PodcastResponseWrapper":return Ba(e,t);case"TrackResponseWrapper":return Da(e,s,t);case"UserResponseWrapper":return Wa(e,t);case"PreReleaseResponseWrapper":return Qs(e,t);case"UnknownTypeWrapper":return null;default:return(0,v.k)(a),null}})).filter(Zs.P);return{totalCount:s.length,items:a}}function Za(e,t){const s=e?.featured||[];return{artistName:s.length?Qa(e):"",items:s?.map((e=>_a(e,t))).filter(Zs.P)||[],totalCount:s.length||0}}function Qa(e){const t=(0,$a.no)(e,"itemsV2",[]);try{const e=(0,$a.Jt)(t.map((({item:e})=>e)).filter(Boolean),"0.data");return e?.profile?.name||""}catch{return""}}const za=new k.l("searchTopResultsOnly","query","99aca33ec109b05cc33c4ba35fca422c8f948cec4ffcc76f0dd490551ff6628c",null);const Ya=new k.l("searchTracks","query","220d098228a4eaf216b39e8c147865244959c4cc6fd82d394d88afda0b710929",null);const Ka=new k.l("searchUsers","query","d3f7547835dc86a4fdf3997e0f79314e7580eaf4aaf2f4cb1e71e189c5dfcb1f",null);const Ja={items:[],totalCount:0,pagingInfo:{nextOffset:null}},Xa={albums:{items:[],totalCount:0},artists:{items:[],totalCount:0},episodes:{items:[],totalCount:0},genres:{items:[],totalCount:0},playlists:{items:[],totalCount:0},podcasts:{items:[],totalCount:0},audiobooks:{items:[],totalCount:0},topResults:{items:[]},tracks:{items:[],totalCount:0},users:{items:[],totalCount:0},topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}};class er{constructor(e){this._request=e}async getSearchResults(e,t=!0,s=0,a=10,r=5,i=!1,n=!0,o=!1){const l={searchTerm:e,offset:s,limit:a,numberOfTopResults:r,includeAudiobooks:t,includeArtistHasConcertsField:i,includePreReleases:n,includeLocalConcertsField:o},c=await this._request(Hs,l),u=c?.data?.searchV2;if(!u)return Xa;const d=ta(c?.extensions),p=sa(c?.extensions);return{albums:Ys(u.albumsV2,d),artists:ra(u.artists,d),episodes:ya(u.episodes,d),genres:ka(u.genres,d),playlists:Ea(u.playlists,d),podcasts:qa(u.podcasts,d),audiobooks:la(u.audiobooks??null,d),tracks:La(u.tracksV2,d),users:Va(u.users,d),topResults:Ga(u.topResultsV2,p),topRecommendations:Za(u.topResultsV2,p),chipOrder:u.chipOrder}}async getSearchCategoryResults(e,t,s=!1,a=!1,r=0,i=25,n=20,o=!1){const l={searchTerm:e,offset:r,limit:i,numberOfTopResults:n,includeAudiobooks:s,includePreReleases:a};let c=null;switch(t){case"albums":c=await async function(e,t){const s=await e(Xs,t),a=s?.data?.searchV2?.albumsV2;return a?aa(Ys(a,ta(s?.extensions)),a.pagingInfo):null}(this._request,l);break;case"artists":c=await async function(e,t){const s=await e(oa,t),a=s?.data?.searchV2?.artists;return a?aa(ra(a,ta(s?.extensions)),a.pagingInfo):null}(this._request,l);break;case"episodes":c=await async function(e,t){const s=await e(ba,t),a=s?.data?.searchV2?.episodes;return a?aa(ya(a,ta(s?.extensions)),a.pagingInfo):null}(this._request,l);break;case"genres":c=await async function(e,t){const s=await e(Sa,t),a=s?.data?.searchV2?.genres;return a?aa(ka(a,ta(s?.extensions)),a.pagingInfo):null}(this._request,l);break;case"playlists":c=await async function(e,t){const s=await e(Ua,t),a=s?.data?.searchV2?.playlists;return a?aa(Ea(a,ta(s?.extensions)),a.pagingInfo):null}(this._request,l);break;case"podcasts":c=await async function(e,t){const s=await e(Oa,t),a=s?.data?.searchV2?.podcasts;return a?aa(qa(a,ta(s?.extensions)),a.pagingInfo):null}(this._request,l);break;case"audiobooks":c=await async function(e,t){const s=await e(da,t),a=s?.data?.searchV2?.audiobooks;return a?aa(la(a,ta(s?.extensions)),a.pagingInfo):null}(this._request,l);break;case"tracks":c=await async function(e,t){const s=await e(Ya,t),a=s?.data?.searchV2?.tracksV2;return a?aa(La(a,ta(s?.extensions)),a.pagingInfo):null}(this._request,l);break;case"users":c=await async function(e,t){const s=await e(Ka,t),a=s?.data?.searchV2?.users;return a?aa(Va(a,ta(s?.extensions)),a.pagingInfo):null}(this._request,l);break;case"topResults":c=await async function(e,t){const s=await e(za,t),a=s?.data?.searchV2?.topResultsV2;return a?Ga(a,sa(s?.extensions)):null}(this._request,l);break;case"podcastAndEpisodes":c=await Aa(this._request,l,o);break;default:(0,v.k)(t)}return c||Ja}async getFullEpisodes(e,t=0,s=25,a=!1){const r={searchTerm:e,offset:t,limit:s};return await Aa(this._request,r,a)||Ja}}var tr=s(31409),sr=s(25575),ar=s(81360),rr=s(57666),ir=s(1599),nr=s(71506);const or="kMLumUDiP1DgYtLABkVO",lr=({results:e,hasResults:t})=>{const{category:s}=z(),a=(0,ar.Qe)(e,s,!1),r="podcasts"!==s&&"episodes"!==s;return(0,m.jsxs)(je.pZ,{value:"search-page",children:[(0,m.jsx)(Tt,{searchCategories:a,selectedCategory:s,displayChips:r}),(0,m.jsx)("div",{className:"contentSpacing",id:"searchPage",children:(0,m.jsx)(Be.E,{className:or,render:()=>(0,m.jsxs)(i.BV,{children:[(0,m.jsx)(i.qh,{path:"/",element:(0,m.jsx)(p.e,{pageId:c.$h.FIND,entityUri:"spotify:app:search",children:(0,m.jsx)(B,{})})}),(0,m.jsx)(i.qh,{path:":query",element:(0,m.jsx)(y,{children:(0,m.jsx)(Vs,{results:e,hasResults:t})})}),(0,m.jsx)(i.qh,{path:":query/:category",element:(0,m.jsx)(g,{children:(0,m.jsx)(Bt,{results:e,displayChips:r})})})]})})})]})};const cr=a.memo((function(){const e=(0,r.jE)(),t=(0,l.NC)(ne.KvH),s=(0,l.NC)(ne.Lh5),i=!(0,Y.n)(),[{category:n,query:c},p]=(0,sr.o)();(0,rr.m)("search");const[h,g]=(0,a.useState)({results:null,queryForResults:c??""}),y=h.results,f=function(e){return null!==e&&void 0!==Object.keys(e).find((t=>"chipOrder"!==t&&e[t].items.length>0))}(y),x=(0,a.useMemo)((()=>new er((0,nr.lY)(ir.n.getInstance()))),[]),{searchHistory:b,setSearchHistory:j}=(0,tr.k)(),C=(0,a.useCallback)((e=>{j([e,...b])}),[b,j]),v=(0,a.useCallback)((async e=>{e===h.queryForResults&&f||p(e,n,!1)}),[h.queryForResults,n,f,p]);(0,a.useEffect)((()=>{if(!c)return;if(i)return void g({results:null,queryForResults:c});const a=["searchPageResults",c,{numberOfTopResults:5,isConcertsInSearchEnabled:t,isLocalConcertsInSearchEnabled:s}];e.ensureQueryData({queryKey:a,queryFn:()=>x.getSearchResults(c,!0,0,10,5,t,!0,s),gcTime:9e5,staleTime:9e5}).then((e=>{g({results:e,queryForResults:c})}))}),[x,t,s,i,c,e]),(0,a.useEffect)((()=>{c||g({results:null,queryForResults:""})}),[c]);const R=(0,a.useMemo)((()=>o().create().toString()),[n,h.queryForResults]),w=(0,a.useMemo)((()=>({api:x,category:n,query:h.queryForResults,onAddToHistory:C,onSearchRequest:v,serpId:R})),[x,n,C,v,h.queryForResults,R]);return(0,m.jsxs)(Q,{value:w,children:[(0,m.jsx)(d.Q,{children:u.Ru.get("search.page-title")}),(0,m.jsx)(lr,{results:y,hasResults:f})]})}))},45807:(e,t,s)=>{s.d(t,{B:()=>a,v:()=>r});const a=(e,t)=>!!e&&e.uri===t.uri,r=(e,t)=>!!e&&e.entitiesWithValueProps.at(0)?.uri===t},42621:(e,t,s)=>{s.d(t,{g:()=>o});var a=s(74008);var r=s(39566),i=s(85346),n=s(35035);function o(e,{isPlayable:t=!0,isLocal:s=!1,isOutOfMarket:o=!1,artistUris:l=[],hasContextualBan:c=!1}){const u=(0,i.T)(e),d=(0,r.n)(),p=u===n.kw.YES,m=function(...e){return(0,a.o)("artistban",e)}(...l).some(Boolean);return{isPlayable:t&&(d||p||s)&&!o&&!m&&!c,isAnyArtistBanned:m}}},44825:(e,t,s)=>{s.d(t,{C:()=>g});var a=s(30758),r=s(14343),i=s(89402),n=s(38501);const o=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function l(e,t){return e.filter((e=>e.label?e.label===t:e.width?o(e.width)===t:!!e.height&&o(e.height)===t))[0]}var c=s(43798);var u=s(41031);function d(e){const t=l(e,"standard"),s=l(e,"large"),a=l(e,"small"),r=l(e,"xlarge");return{image_url:t?.url,image_height:t?.height?.toString(),image_width:t?.width?.toString(),image_url_large:s?.url,image_height_large:s?.height?.toString(),image_width_large:s?.width?.toString(),image_url_small:a?.url,image_height_small:a?.height?.toString(),image_width_small:a?.width?.toString(),image_url_xlarge:r?.url,image_height_xlarge:r?.height?.toString(),image_width_xlarge:r?.width?.toString()}}var p=s(87182),m=s(2679),h=s(7307);function g(e,t){const s=(0,i.W)(),o=(0,p.z)(),{isPlaying:l,isActive:g}=(0,m.te)(e?.uri||""),{isActive:y}=(0,m.l_)(t?.uri||""),f=(0,r.NC)(n.pZ0);return(0,a.useCallback)((a=>{if(!t||!e)return;const r=function(e,t,s=!1){const a=(e.coverArt?.sources||[]).sort(((e,t)=>(t.width||0)-(e.width||0))),r=(0,c.QH)(e,t),i=(0,c.gf)(t)||r,n=e.mediaTypes&&e.mediaTypes.includes(u.Cx.Video)?"video":"audio";return{uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name,...d(a),media_type:s?n:"audio",isTrailer:r,anonymousPlaybackAllowed:i}}(e,t,f);y&&!l&&g&&!a?o.resume():y&&l&&!a?(s({type:"click",intent:"pause",targetUri:e.uri}),o.pause()):(s({type:"click",intent:"play",targetUri:e.uri}),o.play({uri:t.uri,pages:[{items:[{type:h.c.EPISODE,uri:e.uri,uid:null,metadata:r,provider:null}]}]},{referrerIdentifier:o.getReferrer(),featureIdentifier:"episode"},a))}),[t,e,f,y,l,g,o,s])}},28828:(e,t,s)=>{s.d(t,{a:()=>a});const a=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-search.js.map